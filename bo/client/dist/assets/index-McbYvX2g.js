import{j as e,C as a,M as t,P as s,a as r,X as l,b as n,L as i,c as o,d as c,e as d,f as x,D as m,g as h,S as u,F as g,h as p,E as f,i as b,k as j,l as v,H as y,m as N,n as w,U as k,o as C,p as S,q as E,T as P,r as _,s as A,A as L,t as z,u as D,v as M,w as R,x as T,y as O,B as I,z as q,G as F,I as $,J as B,K as V,N as W,O as H,R as U,Q as G,V as Y,W as X,Y as K,Z as J,_ as Z,$ as Q,a0 as ee,a1 as ae,a2 as te,a3 as se,a4 as re,a5 as le,a6 as ne,a7 as ie,a8 as oe,a9 as ce,aa as de,ab as xe,ac as me,ad as he,ae as ue,af as ge,ag as pe,ah as fe,ai as be,aj as je,ak as ve,al as ye,am as Ne,an as we,ao as ke,ap as Ce,aq as Se,ar as Ee,as as Pe,at as _e,au as Ae}from"./ui-DYVXH_E6.js";import{r as Le,N as ze,L as De,u as Me,b as Re,c as Te,R as Oe,d as Ie,a as qe,e as Fe,f as $e,g as Be,B as Ve}from"./router-D9JzbY57.js";import{a as We,g as He}from"./vendor-BNa9uL64.js";import{a as Ue,t as Ge,c as Ye}from"./utils-Dum5Hgf_.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var Xe,Ke={};const Je=He(function(){if(Xe)return Ke;Xe=1;var e=We();return Ke.createRoot=e.createRoot,Ke.hydrateRoot=e.hydrateRoot,Ke}());var Ze,Qe,ea,aa,ta,sa={exports:{}};function ra(){if(Qe)return Ze;Qe=1;return Ze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function la(){if(aa)return ea;aa=1;var e=ra();function a(){}function t(){}return t.resetWarningCache=a,ea=function(){function s(a,t,s,r,l,n){if(n!==e){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function r(){return s}s.isRequired=s;var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:a};return l.PropTypes=l,l}}function na(){return ta||(ta=1,sa.exports=la()()),sa.exports}const ia=He(na()),oa=Le.createContext(),ca=()=>{const e=Le.useContext(oa);if(!e)throw new Error("useToast debe ser usado dentro de ToastProvider");return e},da=({children:a})=>{const[t,s]=Le.useState([]),r=Le.useCallback((e,a="info",t=5e3)=>{const r=Date.now()+Math.random(),n={id:r,message:e,type:a,duration:t,onClose:()=>l(r)};return s(e=>[...e,n]),setTimeout(()=>{l(r)},t),r},[]),l=Le.useCallback(e=>{s(a=>a.filter(a=>a.id!==e))},[]),n=Le.useCallback((e,a)=>r(e,"success",a),[r]),i=Le.useCallback((e,a)=>r(e,"error",a),[r]),o=Le.useCallback((e,a)=>r(e,"warning",a),[r]),c=Le.useCallback((e,a)=>r(e,"info",a),[r]),d={toasts:t,showToast:r,removeToast:l,success:n,error:i,warning:o,info:c};return e.jsxs(oa.Provider,{value:d,children:[a,e.jsx(xa,{toasts:t})]})},xa=({toasts:a})=>e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:a.map((a,t)=>e.jsx("div",{className:"pointer-events-auto",style:{zIndex:50+t,top:4+70*t+"px",right:"16px",position:"fixed"},children:e.jsx(ma,{...a})},a.id))}),ma=({message:a,type:t="info",onClose:s})=>{const r={success:{bg:"bg-green-500",text:"text-white",icon:"✅"},error:{bg:"bg-red-500",text:"text-white",icon:"❌"},warning:{bg:"bg-yellow-500",text:"text-white",icon:"⚠️"},info:{bg:"bg-blue-500",text:"text-white",icon:"ℹ️"}};return e.jsx("div",{className:"animate-slideInLeft",children:e.jsxs("div",{className:`\n        ${r[t].bg} ${r[t].text}\n        px-6 py-4 rounded-lg shadow-xl\n        flex items-center space-x-3\n        max-w-sm backdrop-blur-sm\n        border border-white/20\n        transition-all duration-300\n      `,children:[e.jsx("span",{className:"text-lg",children:r[t].icon}),e.jsx("p",{className:"font-medium",children:a}),e.jsx("button",{onClick:s,className:"ml-auto text-white/80 hover:text-white transition-colors duration-200",children:"✕"})]})})};da.propTypes={children:ia.node.isRequired},xa.propTypes={toasts:ia.array.isRequired},ma.propTypes={message:ia.string.isRequired,type:ia.oneOf(["success","error","warning","info"]),onClose:ia.func.isRequired};const ha={},ua=function(e,a,t){let s=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),r=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));s=e(a.map(e=>{if((e=function(e){return"/"+e}(e))in ha)return;ha[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const s=document.createElement("link");return s.rel=a?"stylesheet":"modulepreload",a||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),a?new Promise((a,t)=>{s.addEventListener("load",a),s.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return s.then(a=>{for(const e of a||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},ga=Le.createContext(),pa=()=>{const e=Le.useContext(ga);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},fa={es:{code:"es",name:"Español",flag:"🇪🇸"},en:{code:"en",name:"English",flag:"🇺🇸"},fr:{code:"fr",name:"Français",flag:"🇫🇷"},pt:{code:"pt",name:"Português",flag:"🇧🇷"}},ba=({children:a})=>{const[t,s]=Le.useState("es"),[r,l]=Le.useState({}),[n,i]=Le.useState(!0);Le.useEffect(()=>{(async()=>{try{i(!0);const e=await((e,a,t)=>{const s=e[a];return s?"function"==typeof s?s():Promise.resolve(s):new Promise((e,s)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+a+(a.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})})(Object.assign({"../translations/en.js":()=>ua(()=>import("./en-CEwJn8Nl.js"),[]),"../translations/es.js":()=>ua(()=>import("./es-BUfmqj_X.js"),[]),"../translations/fr.js":()=>ua(()=>import("./fr-9zQwXTUP.js"),[]),"../translations/pt.js":()=>ua(()=>import("./pt-T_K1gKdb.js"),[])}),`../translations/${t}.js`,3);l(e.default||{})}catch(e){if("es"!==t)try{const e=await ua(()=>import("./es-BUfmqj_X.js"),[]);l(e.default||{})}catch(a){l({})}else l({})}finally{i(!1)}})()},[t]),Le.useEffect(()=>{const e=localStorage.getItem("language");e&&fa[e]&&s(e)},[]);const o={currentLanguage:t,supportedLanguages:fa,changeLanguage:e=>{fa[e]&&(s(e),localStorage.setItem("language",e))},t:(e,a={})=>{if(n)return e;if(0===Object.keys(r).length)return e;const t=e.split(".");let s=r;for(const r of t)if(s=null==s?void 0:s[r],void 0===s)break;return void 0===s?e:"string"==typeof s&&Object.keys(a).length>0?s.replace(/\{\{(\w+)\}\}/g,(e,t)=>void 0!==a[t]?a[t]:e):s},isLoading:n};return e.jsx(ga.Provider,{value:o,children:a})};ba.propTypes={children:ia.node.isRequired};const ja=Ue.create({baseURL:"https://saas-backend-33g1.onrender.com",headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:1e4}),va=()=>ja.get("/api/users"),ya=e=>ja.post("/api/users",e),Na=(e,a)=>ja.put(`/api/users/${e}`,a),wa=e=>ja.delete(`/api/users/${e}`),ka=()=>ja.get("/api/orders"),Ca=(e,a)=>ja.put(`/api/orders/${e}`,a),Sa=e=>ja.delete(`/api/orders/${e}`),Ea=()=>ja.get("/api/payments"),Pa=(e,a)=>ja.put(`/api/payments/${e}`,a),_a=e=>ja.delete(`/api/payments/${e}`),Aa=()=>ja.get("/api/quotes"),La=()=>ja.get("/api/notifications"),za=e=>ja.put(`/api/notifications/${e}/read`),Da=()=>ja.put("/api/notifications/mark-all-read"),Ma=()=>ja.get("/api/client/payments"),Ra=(e,a)=>ja.put(`/api/client/orders/${e}/status`,a),Ta=()=>ja.get("/api/admin/stats"),Oa=Le.createContext(),Ia=({children:a})=>{const[t,s]=Le.useState(null),[r,l]=Le.useState([]),[n,i]=Le.useState([]),[o,c]=Le.useState([]),[d,x]=Le.useState([]),[m,h]=Le.useState([]),[u,g]=Le.useState([]),[p,f]=Le.useState([]),b=async()=>{try{const e=await ja.get("/api/orders");l(e.data)}catch(e){l([])}},j=async()=>{try{const e=await ja.get("/api/payments");i(e.data)}catch(e){i([])}},v=async()=>{var e,a;try{const e=await ja.get("/api/quotes");c(e.data)}catch(t){403!==(null==(e=t.response)?void 0:e.status)&&(null==(a=t.response)||a.status),c([])}},y=async()=>{try{const e=await ja.get("/api/invoices");x(e.data)}catch(e){x([])}},N=async()=>{try{const e=await ja.get("/api/projects");h(e.data)}catch(e){h([])}},w=async()=>{var e,a;try{const e=await ja.get("/api/users"),a=e.data.data||e.data||[];g(a.filter(e=>"cliente"===e.rol))}catch(t){403!==(null==(e=t.response)?void 0:e.status)&&(null==(a=t.response)||a.status),g([])}},k=async()=>{try{const e=await ja.get("/api/notifications");f(e.data)}catch(e){f([])}};return Le.useEffect(()=>{(async()=>{var e;try{const e=await ja.get("/api/auth/profile");s(e.data)}catch(a){null==(e=null==a?void 0:a.response)||e.status,s(null)}})()},[]),Le.useEffect(()=>{t&&"admin"===t.rol&&(b(),j(),v(),y(),N(),w(),k())},[t]),e.jsx(Oa.Provider,{value:{user:t,orders:r,payments:n,quotes:o,invoices:d,projects:m,clients:u,notifications:p,register:async e=>{const a=await ja.post("/api/auth/register",e);return a.data.user&&s(a.data.user),a},login:async e=>{const a=await ja.post("/api/auth/login",e);if(a.data.user)return s(a.data.user),a.data.user;throw new Error(a.data.message||"Error de login")},logout:async()=>{try{await ja.post("/api/auth/logout")}catch(e){}s(null),l([]),i([]),c([]),x([]),h([]),g([]),f([])},fetchOrders:b,fetchPayments:j,fetchQuotes:v,fetchInvoices:y,fetchProjects:N,fetchClients:w,fetchNotifications:k},children:a})};Ia.propTypes={children:ia.node.isRequired};const qa=()=>Le.useContext(Oa),Fa=e=>{const a=Le.useRef();return Le.useEffect(()=>{const t=t=>{a.current&&!a.current.contains(t.target)&&e()};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[e]),a},$a=({children:a,variant:t="primary",size:s="md",loading:r=!1,disabled:l=!1,className:n="",icon:i=null,iconPosition:o="left",...c})=>{const d=["inline-flex items-center justify-center font-medium rounded-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95",{primary:"bg-gradient-to-r from-primary to-secondary text-white hover:from-primary/90 hover:to-secondary/90 focus:ring-primary shadow-lg hover:shadow-xl hover:-translate-y-0.5",secondary:"bg-white dark:bg-dark text-primary dark:text-secondary border-2 border-primary dark:border-secondary hover:bg-primary hover:text-white dark:hover:bg-secondary dark:hover:text-white focus:ring-primary",accent:"bg-accent text-white hover:bg-accent/90 focus:ring-accent shadow-md hover:shadow-lg hover:-translate-y-0.5",ghost:"text-primary dark:text-secondary hover:bg-primary/10 dark:hover:bg-secondary/10 focus:ring-primary",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 shadow-md hover:shadow-lg hover:-translate-y-0.5",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500 shadow-md hover:shadow-lg hover:-translate-y-0.5"}[t],{xs:"px-2.5 py-1.5 text-xs",sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[s],n].filter(Boolean).join(" ");return e.jsxs("button",{className:d,disabled:l||r,...c,children:["left"===o&&(r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i),r?"Cargando...":a,"right"===o&&!r&&i]})};function Ba({companyName:a="Borderless Techno Company"}){var t;const{user:s,logout:r}=qa(),{t:l,currentLanguage:n,supportedLanguages:i,changeLanguage:o}=pa(),[c,d]=Le.useState(!1),[x,m]=Le.useState(!1),h=Fa(()=>{d(!1)}),u=Fa(()=>{m(!1)}),g=()=>{r(),d(!1)},p=[...[{to:"/",label:l("nav.home"),icon:"🏠"},{to:"/servicios",label:l("nav.services"),icon:"⚙️"},{to:"/portafolio",label:l("nav.portfolio"),icon:"💼"},{to:"/nosotros",label:l("nav.about"),icon:"👥"}],...(()=>{if(!s)return[];const e=[];return"admin"===s.rol?e.push({to:"/admin/dashboard",label:l("nav.dashboard"),icon:"📊"}):e.push({to:"/panel-cliente",label:l("nav.myPanel"),icon:"📊"}),e})()],f=s?[{action:"logout",label:l("nav.logout"),icon:"🚪",user:s.nombre||s.email}]:[{to:"/login",label:l("nav.login"),icon:"🔐"}];return e.jsx("header",{className:"w-full bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border-b border-white/20 dark:border-slate-700/30 transition-all duration-300 fixed top-0 left-0 right-0 z-50 shadow-sm",role:"banner",children:e.jsxs("nav",{className:"container mx-auto px-4 py-3","aria-label":"Main navigation",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 min-h-[60px]",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-2 flex-1 justify-center",children:p.map(a=>e.jsxs(ze,{to:a.to,className:({isActive:e})=>"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-white/30 dark:hover:bg-slate-800/60 "+(e?"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"),children:[e.jsx("span",{className:"hidden xl:inline mr-2",children:a.icon}),a.label]},a.to))}),e.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[e.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:f.map(a=>{var t;return"logout"===a.action?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-violet-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:((null==(t=a.user)?void 0:t.charAt(0))||"U").toUpperCase()})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.user}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"admin"===(null==s?void 0:s.rol)?l("roles.admin"):l("roles.client")})]})]}),e.jsx($a,{onClick:g,variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",icon:e.jsx("span",{className:"hidden xl:inline mr-2",children:a.icon}),children:a.label})]},"user-menu"):e.jsxs(ze,{to:a.to,className:({isActive:e})=>"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+("/register"===a.to?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:from-blue-600 hover:to-cyan-600 shadow-lg hover:shadow-xl transform hover:scale-105":e?"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-white/30 dark:hover:bg-slate-800/60"),children:[e.jsx("span",{className:"hidden xl:inline mr-2",children:a.icon}),a.label]},a.to)})}),e.jsxs("div",{className:"relative",ref:u,children:[e.jsxs("button",{onClick:()=>m(!x),className:"p-2 rounded-lg bg-white/30 dark:bg-slate-800/60 hover:bg-white/50 dark:hover:bg-slate-800/80 transition-colors duration-200 backdrop-blur-sm flex items-center space-x-1","aria-label":l("accessibility.selectLanguage"),"aria-expanded":x,children:[e.jsx("span",{className:"text-lg",children:null==(t=i[n])?void 0:t.flag}),e.jsx("svg",{className:"w-4 h-4 transition-transform duration-200 text-gray-700 dark:text-gray-300 "+(x?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 backdrop-blur-xl bg-white/90 dark:bg-slate-800/90 rounded-xl border border-white/20 dark:border-slate-700/30 shadow-lg z-50 animate-slideInLeft",children:Object.values(i).map(a=>e.jsxs("button",{onClick:()=>{o(a.code),m(!1)},className:`w-full text-left px-4 py-3 text-sm font-medium transition-colors duration-200 flex items-center space-x-3 ${n===a.code?"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-white/40 dark:hover:bg-slate-700/40"} ${a.code===Object.values(i)[0].code?"rounded-t-xl":""} ${a.code===Object.values(i)[Object.values(i).length-1].code?"rounded-b-xl":""}`,children:[e.jsx("span",{className:"text-lg",children:a.flag}),e.jsx("span",{children:a.name})]},a.code))})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-white/30 dark:bg-slate-800/60 hover:bg-white/50 dark:hover:bg-slate-800/80 transition-colors duration-200 backdrop-blur-sm","aria-label":l("accessibility.openMenu"),"aria-expanded":c,onClick:()=>d(!c),children:e.jsx("svg",{className:"w-6 h-6 transition-transform duration-200 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:c?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),c&&e.jsxs("div",{ref:h,className:"lg:hidden mt-4 p-4 backdrop-blur-xl bg-white/90 dark:bg-slate-800/90 rounded-xl border border-white/20 dark:border-slate-700/30 shadow-lg animate-slideInLeft",children:[s&&e.jsxs("div",{className:"mb-4 p-3 bg-white/40 dark:bg-slate-700/40 rounded-lg backdrop-blur-sm",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.nombre||s.email}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"admin"===s.rol?l("roles.admin"):l("roles.client")})]}),e.jsx("div",{className:"space-y-1 mb-4",children:p.map(a=>e.jsxs(ze,{to:a.to,className:({isActive:e})=>"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 "+(e?"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-white/40 dark:hover:bg-slate-700/40"),onClick:()=>d(!1),children:[e.jsx("span",{className:"mr-3",children:a.icon}),a.label]},a.to))}),e.jsx("div",{className:"border-t border-white/20 dark:border-slate-700/30 pt-4 space-y-1",children:f.map(a=>"logout"===a.action?e.jsx($a,{onClick:g,variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",icon:e.jsx("span",{className:"mr-3",children:a.icon}),children:a.label},"logout"):e.jsxs(ze,{to:a.to,className:({isActive:e})=>"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 "+("/register"===a.to?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg":e?"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-white/40 dark:hover:bg-slate-700/40"),onClick:()=>d(!1),children:[e.jsx("span",{className:"mr-3",children:a.icon}),a.label]},a.to))})]})]})})}$a.propTypes={children:ia.node.isRequired,variant:ia.oneOf(["primary","secondary","accent","ghost","danger","success"]),size:ia.oneOf(["xs","sm","md","lg","xl"]),loading:ia.bool,disabled:ia.bool,className:ia.string,icon:ia.node,iconPosition:ia.oneOf(["left","right"])},Ba.propTypes={companyName:ia.string};const Va=()=>{const{t:l}=pa();return e.jsx("footer",{className:"w-full bg-gradient-to-b from-slate-50 to-white dark:from-slate-800 dark:to-slate-900 border-t border-white/20 dark:border-slate-700/30",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e.jsxs("span",{className:"text-base sm:text-xl font-bold text-gray-900 dark:text-white break-words",children:[e.jsx("span",{className:"hidden sm:inline",children:"BODERLESS TECHNO COMPANY"}),e.jsx("span",{className:"sm:hidden",children:"BODERLESS"})]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"Transformamos ideas en soluciones digitales innovadoras. Tu partner tecnológico de confianza."}),e.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-4",children:[{icon:"📘",href:"https://facebook.com/borderlesstechno",label:"Facebook"},{icon:"🐦",href:"https://twitter.com/borderlesstechno",label:"Twitter"},{icon:"💼",href:"https://linkedin.com/company/borderless-techno",label:"LinkedIn"},{icon:"🐱",href:"https://github.com/borderlesstechno",label:"GitHub"}].map(a=>e.jsx("a",{href:a.href,className:"group p-2 sm:p-3 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30 rounded-xl\n                           hover:bg-gradient-to-r hover:from-blue-500 hover:to-cyan-500 hover:border-blue-500 hover:text-white hover:scale-110\n                           transition-all duration-300 shadow-sm hover:shadow-lg flex-shrink-0","aria-label":a.label,children:e.jsx("span",{className:"text-xl group-hover:animate-pulse",children:a.icon})},a.label))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Enlaces Rápidos"}),e.jsx("ul",{className:"space-y-2",children:[{name:"Inicio",href:"#inicio"},{name:"Servicios",href:"#servicios"},{name:"Nosotros",href:"#nosotros"},{name:"Contacto",href:"#contacto"}].map(a=>e.jsx("li",{children:e.jsx("a",{href:a.href,className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300",children:a.name})},a.name))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Servicios"}),e.jsx("ul",{className:"space-y-2",children:["Desarrollo Web","Apps Móviles","Sistemas Backend","Soluciones Cloud","Ciberseguridad","Automatización"].map(a=>e.jsx("li",{children:e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:a})},a))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Contacto"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(t,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 break-words",children:"borderlesstechno7@gmail.com"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"+1 (717) 655-4737"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(r,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"})]})]})]})]}),e.jsxs("div",{className:"border-t border-white/20 dark:border-slate-700/30 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("div",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm text-center md:text-left",children:"© 2025 BODERLESS TECHNO COMPANY. Todos los derechos reservados."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[e.jsx(De,{to:"/privacy-policy",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 text-xs sm:text-sm transition-colors text-center",children:l("footer.privacyPolicy")}),e.jsx(De,{to:"/terms-of-service",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 text-xs sm:text-sm transition-colors text-center",children:l("footer.termsOfService")})]})]})]})})};function Wa(){const{t:a}=pa(),[t,s]=Le.useState({nombre:"",email:"",telefono:"",empresa:"",servicio:"",mensaje:""}),[r,l]=Le.useState(!1),[n,i]=Le.useState({}),[o,c]=Le.useState(!1),d=e=>{const{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},x=()=>{const e=document.getElementById("contacto");if(e){const a=e.offsetTop-70;window.scrollTo({top:a,behavior:"smooth"}),setTimeout(()=>{const e=document.querySelector("#contact-form input");e&&e.focus()},800)}};return e.jsxs("div",{className:"min-h-screen font-body bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-x-hidden",children:[e.jsxs("section",{className:"relative text-white py-20 lg:py-32 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://borderlesstechno.com/header.jpeg')"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/85 to-slate-700/80"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"0s"}}),e.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-3 h-3 bg-gradient-to-br from-blue-200/15 to-cyan-200/15 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 right-1/3 w-2 h-2 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"1.5s"}}),e.jsx("div",{className:"absolute bottom-1/4 right-1/5 w-1 h-1 bg-gradient-to-br from-blue-200/25 to-cyan-200/25 rounded-full blur-sm animate-pulse",style:{animationDelay:"0.5s"}})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs("div",{className:"animate-fadeIn",children:[e.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:a("home.title")}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:a("home.description")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx($a,{variant:"primary",size:"lg",onClick:x,className:"px-8 py-4 text-lg font-semibold text-white hover:opacity-90 transition-all bg-gradient-to-r from-blue-500 to-cyan-500",children:a("home.getStarted")}),e.jsx($a,{variant:"ghost",size:"lg",onClick:()=>window.location.href="/portafolio",className:"px-8 py-4 text-lg font-semibold text-white hover:bg-white/10 transition-all border border-white/30",children:a("home.learnMore")})]})]})}),e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:e.jsx("div",{className:"w-1 h-3 bg-white/50 rounded-full mt-2 animate-bounce"})})})]}),e.jsx("section",{id:"servicios",className:"py-20 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:a("home.servicesTitle")}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:a("home.servicesSubtitle")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Desarrollo Web"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Creamos sitios web modernos, responsivos y optimizados para SEO que destacan tu marca en línea."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"React, Vue, Angular"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"E-commerce"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"CMS Personalizado"]})]})]}),e.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Apps Móviles"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Desarrollamos aplicaciones móviles nativas e híbridas para iOS y Android con la mejor experiencia de usuario."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"React Native, Flutter"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"UI/UX Design"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"App Store Deploy"]})]})]}),e.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Backend & APIs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Construimos arquitecturas robustas y escalables con APIs RESTful y GraphQL para potenciar tus aplicaciones."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Node.js, Python, PHP"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Base de Datos"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Cloud Deploy"]})]})]}),e.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"IA & Machine Learning"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Integramos inteligencia artificial y machine learning para automatizar procesos y generar insights valiosos."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Chatbots IA"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Análisis Predictivo"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Automatización"]})]})]}),e.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Ciberseguridad"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Protegemos tus activos digitales con soluciones de seguridad avanzadas y auditorías de vulnerabilidades."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Pentesting"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Auditorías"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Consultoría"]})]})]}),e.jsxs("div",{className:"service-card p-8 rounded-lg shadow-card hover:shadow-elegant transition-all duration-300 backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-lg flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Consultoría IT"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Asesoramos en la transformación digital de tu empresa con estrategias tecnológicas personalizadas."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Arquitectura Software"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"DevOps"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Migración Cloud"]})]})]})]})]})}),e.jsx("section",{id:"nosotros",className:"py-20 bg-gradient-to-b from-slate-50 to-white dark:from-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"animate-slide-in",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-6",children:["Sobre ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Borderless Techno"})," Company"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Somos un equipo apasionado de desarrolladores, diseñadores y consultores tecnológicos especializados en crear soluciones digitales innovadoras para empresas de todos los tamaños en Latinoamérica."}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:"Con más de 5 años de experiencia en el mercado, hemos ayudado a más de 100 empresas a transformar digitalmente sus negocios, optimizar procesos y alcanzar sus objetivos a través de la tecnología."}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"100+"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Proyectos Completados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"5+"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Años de Experiencia"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"50+"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Clientes Satisfechos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Soporte Técnico"})]})]})]}),e.jsx("div",{className:"animate-scale-in",children:e.jsx("img",{src:"https://borderlesstechno.com/header.jpeg",alt:"Equipo de Borderless Techno Company",className:"rounded-lg shadow-elegant w-full h-auto"})})]}),e.jsxs("div",{className:"mt-16",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:["Nuestros ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Valores"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center p-8 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Innovación"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Utilizamos las últimas tecnologías y metodologías para crear soluciones vanguardistas."})]}),e.jsxs("div",{className:"text-center p-8 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Calidad"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Nos comprometemos con la excelencia en cada línea de código y diseño que creamos."})]}),e.jsxs("div",{className:"text-center p-8 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Colaboración"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Trabajamos de la mano contigo para entender y superar tus expectativas."})]})]})]})]})}),e.jsx("section",{id:"contacto",className:"py-20 bg-gradient-to-b from-slate-50 to-white dark:from-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:["¿Listo para ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"comenzar"}),"?"]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Conversemos sobre tu proyecto y descubre cómo podemos ayudarte a alcanzar tus objetivos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30 p-4 sm:p-8 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Envíanos un mensaje"}),e.jsxs("form",{className:"space-y-6",id:"contact-form",onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return t.nombre.trim()||(e.nombre="El nombre es obligatorio"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(e.email="Ingresa un email válido"):e.email="El email es obligatorio",t.servicio||(e.servicio="Selecciona un servicio"),t.mensaje.trim()||(e.mensaje="El mensaje es obligatorio"),e})();if(i(a),Object.keys(a).length>0)return;const r={nombre:t.nombre,email:t.email,telefono:t.telefono||"",empresa:t.empresa||"",tipo_servicio:t.servicio,descripcion:t.mensaje};try{l(!0),c(!1);const e=await fetch("http://localhost:4000/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await e.json();if(!e.ok||!a.success)throw new Error(a.message||"Error al enviar la cotización");c(!0),s({nombre:"",email:"",telefono:"",empresa:"",servicio:"",mensaje:""}),i({}),setTimeout(()=>c(!1),5e3)}catch(n){i({general:"Ha ocurrido un error al enviar tu mensaje. Por favor, inténtalo de nuevo."})}finally{l(!1)}},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",required:!0,value:t.nombre,onChange:d,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(n.nombre?"border-red-500 focus:ring-red-500":"border-input")}),n.nombre&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.nombre})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:d,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(n.email?"border-red-500 focus:ring-red-500":"border-input")}),n.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Teléfono"}),e.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:t.telefono,onChange:d,className:"w-full px-4 py-3 border border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground",placeholder:"+52 55 1234 5678"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"empresa",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Empresa"}),e.jsx("input",{type:"text",id:"empresa",name:"empresa",value:t.empresa,onChange:d,className:"w-full px-4 py-3 border border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"servicio",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Servicio de Interés ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"servicio",name:"servicio",required:!0,value:t.servicio,onChange:d,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(n.servicio?"border-red-500 focus:ring-red-500":"border-input"),children:[e.jsx("option",{value:"",children:"Selecciona un servicio"}),e.jsx("option",{value:"Desarrollo Web",children:"Desarrollo Web"}),e.jsx("option",{value:"Apps Móviles",children:"Apps Móviles"}),e.jsx("option",{value:"Backend & APIs",children:"Backend & APIs"}),e.jsx("option",{value:"IA & Machine Learning",children:"IA & Machine Learning"}),e.jsx("option",{value:"Ciberseguridad",children:"Ciberseguridad"}),e.jsx("option",{value:"Consultoría IT",children:"Consultoría IT"})]}),n.servicio&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.servicio})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mensaje",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Mensaje ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"mensaje",name:"mensaje",rows:"4",required:!0,value:t.mensaje,onChange:d,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground "+(n.mensaje?"border-red-500 focus:ring-red-500":"border-input"),placeholder:"Cuéntanos sobre tu proyecto..."}),n.mensaje&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.mensaje})]}),n.general&&e.jsx("div",{className:"p-4 rounded-lg bg-red-100/80 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/30",children:e.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:n.general})}),o&&e.jsx("div",{className:"p-4 rounded-lg bg-green-100/80 dark:bg-green-900/20 border border-green-200/50 dark:border-green-800/30",children:e.jsx("p",{className:"text-green-700 dark:text-green-400 text-sm",children:"¡Gracias por tu mensaje! Hemos recibido tu cotización y te contactaremos pronto."})}),e.jsx("button",{type:"submit",disabled:r,className:"w-full px-6 py-3 rounded-lg font-semibold transition-all bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Enviando...":"Enviar Mensaje"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Información de Contacto"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:e.jsxs("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Ubicación"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"info@borderlesstechno.com"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Teléfono"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"+1 (717) 655-4737"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Horario"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Lun - Vie: 9:00 AM - 6:00 PM"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Síguenos"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.1.12.112.225.083.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.748-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"})})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.034 0C5.411 0 .029 5.384.029 12.006c0 6.622 5.382 12.007 12.005 12.007s12.006-5.385 12.006-12.007C24.04 5.384 18.657.001 12.034.001zM8.977 19.067v-8.588H6.042v8.588H8.977zm-1.468-9.756c1.026 0 1.665-.68 1.665-1.529-.019-.868-.639-1.528-1.646-1.528s-1.665.66-1.665 1.528c0 .849.639 1.529 1.628 1.529h.018zm9.427 9.756v-4.785c0-.691-.025-1.248-.154-1.681-.154-.691-.505-1.404-1.404-1.404-.639 0-1.248.34-1.528.848-.068.154-.086.371-.086.588v6.435h-2.936s.039-10.439 0-11.513h2.936v1.634h-.02c.389-.599 1.084-1.634 2.657-1.634 1.955 0 3.427 1.281 3.427 4.03v7.483H17.959z"})})})]})]}),e.jsxs("div",{className:"p-6 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 border border-white/20 dark:border-slate-700/30",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"¿Necesitas una cotización?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Programa una consulta gratuita de 30 minutos para discutir tu proyecto"}),e.jsx($a,{onClick:x,className:"px-6 py-2 rounded-lg font-semibold transition-all bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:opacity-90",children:"Agendar Consulta"})]})]})]})]})})]})}const Ha=[{nombre:"Desarrollo Web",descripcion:"Sitios web modernos, responsivos y optimizados para tu negocio.",icono:"🌐",tecnologias:["React","Next.js","Node.js","TypeScript","Tailwind CSS"],caracteristicas:["Diseño responsive y mobile-first","Optimización SEO avanzada","Velocidad de carga optimizada","Integración con CMS","Análisis y métricas"],tiempoEntrega:"3-6 semanas",precio:"Desde $1,500",casos:["Sitios web corporativos","Landing pages","Portafolios profesionales","Blogs y sitios de contenido"]},{nombre:"Aplicaciones a Medida",descripcion:"Soluciones personalizadas para automatizar y potenciar tus procesos.",icono:"⚙️",tecnologias:["React","Node.js","PostgreSQL","Docker","AWS"],caracteristicas:["Diseño centrado en el usuario","Arquitectura escalable","Integración con sistemas existentes","Dashboards y reportes","API robustas"],tiempoEntrega:"6-12 semanas",precio:"Desde $3,500",casos:["Sistemas de gestión","Plataformas de trabajo","Automatización de procesos","Herramientas internas"]},{nombre:"E-commerce",descripcion:"Tiendas online seguras, escalables y fáciles de administrar.",icono:"🛒",tecnologias:["Shopify","WooCommerce","Stripe","PayPal","AWS"],caracteristicas:["Gestión de inventario avanzada","Múltiples métodos de pago","Seguridad PCI compliant","Integración con logística","Analytics de ventas"],tiempoEntrega:"4-8 semanas",precio:"Desde $2,500",casos:["Tiendas online completas","Marketplaces B2B","Plataformas de suscripción","Catálogos digitales"]},{nombre:"Integraciones y APIs",descripcion:"Conecta tus sistemas y plataformas de forma eficiente.",icono:"🔗",tecnologias:["REST API","GraphQL","Webhooks","OAuth","JSON"],caracteristicas:["Sincronización en tiempo real","Manejo de grandes volúmenes","Autenticación segura","Documentación completa","Monitoreo y logging"],tiempoEntrega:"2-4 semanas",precio:"Desde $1,000",casos:["Integración con CRM","Conexión con ERPs","APIs de terceros","Automatización de datos"]},{nombre:"Soporte y Mantenimiento",descripcion:"Acompañamiento técnico y mejoras continuas para tu proyecto.",icono:"🛠️",tecnologias:["Monitoreo 24/7","Backup automático","Actualizaciones","Seguridad"],caracteristicas:["Soporte técnico prioritario","Actualizaciones regulares","Copias de seguridad automáticas","Monitoreo de rendimiento","Mejoras y optimizaciones"],tiempoEntrega:"Servicio continuo",precio:"Desde $200/mes",casos:["Mantenimiento preventivo","Soporte técnico","Actualizaciones de seguridad","Optimización de rendimiento"]},{nombre:"Consultoría Digital",descripcion:"Estrategias y asesoramiento para acelerar tu transformación digital.",icono:"💡",tecnologias:["Análisis de procesos","Arquitectura de sistemas","Estrategia digital"],caracteristicas:["Análisis de necesidades","Estrategia tecnológica","Roadmap de implementación","Capacitación de equipos","Seguimiento y mejora"],tiempoEntrega:"2-6 semanas",precio:"Desde $800",casos:["Auditoría tecnológica","Estrategia digital","Migración a la nube","Optimización de procesos"]}],Ua=()=>{const[a,t]=Le.useState(null);return e.jsxs("section",{className:"min-h-screen py-16 px-4 md:px-0 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"}),e.jsx("div",{className:"absolute top-20 left-1/4 w-32 h-32 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-1/4 w-40 h-40 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-10 w-24 h-24 bg-gradient-to-br from-slate-200/15 to-blue-200/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/4 right-10 w-36 h-36 bg-gradient-to-br from-blue-200/15 to-cyan-200/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"3s"}}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-block backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 px-8 py-4",children:[e.jsx("h2",{className:"text-4xl font-light text-slate-800 dark:text-slate-200 mb-2",children:"Nuestros Servicios"}),e.jsx("div",{className:"w-20 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-6 max-w-2xl mx-auto",children:"Transformamos ideas en soluciones digitales innovadoras que impulsan tu negocio hacia el futuro."})]}),e.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 mb-16",children:Ha.map((a,s)=>e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 hover:transform hover:scale-105 transition-all duration-300 cursor-pointer",onClick:()=>t(a),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-5xl mb-4",children:a.icono}),e.jsx("h3",{className:"text-xl font-medium text-slate-800 dark:text-slate-200 mb-2",children:a.nombre}),e.jsx("div",{className:"w-12 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-6 leading-relaxed",children:a.descripcion}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:"Tiempo:"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:a.tiempoEntrega})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:"Precio:"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:a.precio})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[a.tecnologias.slice(0,3).map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-xs border border-blue-200/20 dark:border-slate-600/20",children:a},t)),a.tecnologias.length>3&&e.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-xs border border-blue-200/20 dark:border-slate-600/20",children:["+",a.tecnologias.length-3]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"Ver más detalles →"})})]},s))}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 mb-16",children:[e.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-8 text-center",children:"¿Cómo trabajamos contigo?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"💬"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Consulta inicial"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Analizamos tus necesidades y objetivos para crear una propuesta personalizada."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"🎨"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Diseño y planificación"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Creamos prototipos y definimos la arquitectura de tu solución."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"⚡"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Desarrollo ágil"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desarrollamos con metodologías ágiles con entregas y feedback constante."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"🚀"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Lanzamiento y soporte"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desplegamos tu solución y te acompañamos en su crecimiento."})]})]})]}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-8 text-center",children:"Tecnologías que dominamos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Frontend"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["React","Next.js","Vue.js","TypeScript","Tailwind CSS","Figma"].map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:a},t))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Backend"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Node.js","Python","PostgreSQL","MongoDB","Docker","AWS"].map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:a},t))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"DevOps & Cloud"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["AWS","Digital Ocean","Vercel","GitHub Actions","Docker","Kubernetes"].map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:a},t))})]})]})]})]}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl",children:a.icono}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-medium text-slate-800 dark:text-slate-200",children:a.nombre}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a.descripcion})]})]}),e.jsx("button",{onClick:()=>t(null),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 text-2xl",children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Características principales"}),e.jsx("ul",{className:"space-y-2",children:a.caracteristicas.map((a,t)=>e.jsxs("li",{className:"flex items-start space-x-2 text-slate-600 dark:text-slate-400 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:a})]},t))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Casos de uso"}),e.jsx("ul",{className:"space-y-2",children:a.casos.map((a,t)=>e.jsxs("li",{className:"flex items-start space-x-2 text-slate-600 dark:text-slate-400 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:a})]},t))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-4",children:"Tecnologías utilizadas"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tecnologias.map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 text-slate-700 dark:text-slate-300 rounded-full text-sm border border-blue-200/20 dark:border-slate-600/20",children:a},t))})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-2",children:a.tiempoEntrega}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Tiempo estimado"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-2",children:a.precio}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Inversión inicial"})]})]})]})})]})},Ga=({size:a="md",color:t="primary",className:s="",text:r=null})=>{const l={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white",gray:"text-gray-500"};return e.jsxs("div",{className:`flex flex-col items-center justify-center ${s}`,children:[e.jsxs("svg",{className:`animate-spin ${{xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[a]} ${l[t]}`,fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r&&e.jsx("p",{className:`mt-2 text-sm ${l[t]} animate-pulse`,children:r})]})};function Ya(){const[a,t]=Le.useState([]),[s,r]=Le.useState(!0),[l,n]=Le.useState(null);Le.useEffect(()=>{i()},[]);const i=async()=>{try{r(!0),n(null);const e=await ja.get("/api/projects");if(e&&e.data){let a=[];e.data.success&&Array.isArray(e.data.data)?a=e.data.data:Array.isArray(e.data.projects)?a=e.data.projects:Array.isArray(e.data)&&(a=e.data),t(a)}else t([])}catch(e){t([]),n("Error al cargar proyectos")}finally{r(!1)}};return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Ga,{})}):l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),e.jsx("p",{className:"mb-4",children:l}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reintentar"})]})}):e.jsxs("div",{className:"min-h-screen font-body bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-x-hidden",children:[e.jsxs("section",{className:"relative text-white py-20 lg:py-32 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://borderlesstechno.com/header.jpeg')"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/85 to-slate-700/80"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"0s"}}),e.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-3 h-3 bg-gradient-to-br from-blue-200/15 to-cyan-200/15 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:["Nuestro ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400",children:"Portafolio"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Descubre los proyectos que hemos desarrollado con pasión y dedicación para nuestros clientes."})]})})]}),e.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Array.isArray(a)&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:a.map((a,t)=>e.jsxs("div",{className:"group bg-white dark:bg-slate-800/50 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border border-gray-200 dark:border-slate-700/30",children:[(null==a?void 0:a.imagen)&&e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:a.imagen,alt:a.nombre||"Proyecto",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:e=>{e.target.src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=400&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:(null==a?void 0:a.nombre)||"Sin título"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:(null==a?void 0:a.descripcion)||"Sin descripción disponible"})]})]},(null==a?void 0:a.id)||t))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📂"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"No hay proyectos disponibles"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Los proyectos se mostrarán aquí cuando estén disponibles."})]})})})]})}Ga.propTypes={size:ia.oneOf(["xs","sm","md","lg","xl"]),color:ia.oneOf(["primary","secondary","accent","white","gray"]),className:ia.string,text:ia.string};const Xa=()=>{const[a,t]=Le.useState({totalClients:50,completedProjects:200,yearsExperience:10});return Le.useEffect(()=>{(async()=>{try{const e=await Ta();if(e.data.success){const a=e.data.data;t({totalClients:a.totalClients||50,completedProjects:a.completedProjects||200,yearsExperience:Math.max(10,(new Date).getFullYear()-2014)})}}catch(e){}})()},[]),e.jsxs("section",{className:"min-h-screen py-16 px-4 md:px-0 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"}),e.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-gradient-to-br from-blue-200/20 to-cyan-200/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-56 h-56 bg-gradient-to-br from-cyan-200/20 to-blue-200/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-32 h-32 bg-gradient-to-br from-slate-200/15 to-blue-200/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/4 right-1/3 w-24 h-24 bg-gradient-to-br from-blue-200/10 to-cyan-200/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"3s"}}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsxs("div",{className:"inline-block backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 px-8 py-4",children:[e.jsx("h2",{className:"text-4xl font-light text-slate-800 dark:text-slate-200 mb-2",children:"Sobre Nosotros"}),e.jsx("div",{className:"w-20 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 space-y-6",children:[e.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-4",children:"Nuestra Historia"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"Somos un equipo apasionado por la tecnología y la innovación, dedicado a crear soluciones digitales que impulsan el crecimiento de nuestros clientes. Nuestra misión es acompañar a empresas y emprendedores en su transformación digital, ofreciendo servicios de desarrollo web, aplicaciones a medida y consultoría tecnológica."}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"Contamos con experiencia en múltiples sectores y un enfoque centrado en la calidad, la creatividad y la satisfacción del cliente. Creemos en el trabajo colaborativo, la mejora continua y la transparencia en cada proyecto."})]}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 space-y-6",children:[e.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-4",children:"Nuestros Valores"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Innovación"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Buscamos constantemente nuevas formas de resolver problemas y crear valor."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Calidad"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Cada proyecto es tratado con la máxima atención al detalle y excelencia."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Transparencia"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Comunicación clara y honesta en cada etapa del proyecto."})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:[a.yearsExperience,"+"]}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Años de experiencia"})]}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:[a.completedProjects,"+"]}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Proyectos completados"})]}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:[a.totalClients,"+"]}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Clientes satisfechos"})]})]}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8 mb-12",children:[e.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-6 text-center",children:"¿Por qué elegirnos?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Equipo multidisciplinar"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desarrolladores, diseñadores y consultores trabajando en sinergia."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Soluciones personalizadas"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Cada proyecto es único y diseñado específicamente para sus necesidades."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tecnologías de vanguardia"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Utilizamos las últimas tecnologías para garantizar el mejor rendimiento."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Soporte continuo"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Acompañamiento antes, durante y después del lanzamiento."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Metodología ágil"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Desarrollamos con metodologías ágiles para mayor eficiencia."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium",children:"Escalabilidad garantizada"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Proyectos diseñados para crecer con tu negocio."})]})]})]})]})]}),e.jsxs("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-light text-slate-800 dark:text-slate-200 mb-6 text-center",children:"Nuestro Proceso"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"1"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Análisis"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Estudiamos tu negocio y objetivos para crear la estrategia ideal."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"2"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Diseño"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Creamos prototipos y diseños que reflejan tu visión y necesidades."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"3"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Desarrollo"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Transformamos el diseño en una solución funcional y robusta."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"4"})}),e.jsx("h4",{className:"text-slate-800 dark:text-slate-200 font-medium mb-2",children:"Lanzamiento"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Implementamos la solución y te acompañamos en su crecimiento."})]})]})]})]})]})},Ka={nombre:"",email:"",mensaje:""},Ja=()=>{const[a,t]=Le.useState(Ka),[s,r]=Le.useState(!1),[l,n]=Le.useState(""),[i,o]=Le.useState({}),[c,d]=Le.useState({email:"borderlesstechno7@gmail.com",phone:"+52 55 1234 5678",address:"Ciudad de México, México"});Le.useEffect(()=>{(async()=>{try{const e=await ja.get("/api/config");if(e.data){const a=e.data;d({email:a.COMPANY_EMAIL||"borderlesstechno7@gmail.com",phone:a.COMPANY_PHONE||"+52 55 1234 5678",address:a.COMPANY_ADDRESS||"Ciudad de México, México"})}}catch(e){}})()},[]);const x=e=>{t({...a,[e.target.name]:e.target.value})};return e.jsxs("section",{className:"py-12 px-4 md:px-0 max-w-lg mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-indigo-700 dark:text-indigo-300 text-center",children:"Contacto"}),e.jsxs("form",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-lg p-8 space-y-6",onSubmit:async e=>{e.preventDefault();const s=(()=>{const e={};return a.nombre||(e.nombre="El nombre es obligatorio."),a.email?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(a.email)||(e.email="Introduce un email válido."):e.email="El email es obligatorio.",a.mensaje||(e.mensaje="El mensaje es obligatorio."),e})();if(o(s),Object.keys(s).length>0)n("Por favor, corrige los errores.");else{n(""),r(!1);try{await ja.post("/contacto",a),r(!0),t(Ka)}catch(l){n("Hubo un error al enviar el mensaje. Inténtalo de nuevo más tarde.")}}},children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium mb-1",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",value:a.nombre,onChange:x,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-800 dark:text-white",required:!0}),i.nombre&&e.jsx("span",{className:"text-red-600 text-sm",children:i.nombre})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:x,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-800 dark:text-white",required:!0}),i.email&&e.jsx("span",{className:"text-red-600 text-sm",children:i.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mensaje",className:"block text-sm font-medium mb-1",children:["Mensaje ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"mensaje",name:"mensaje",rows:4,value:a.mensaje,onChange:x,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-slate-800 dark:text-white",required:!0}),i.mensaje&&e.jsx("span",{className:"text-red-600 text-sm",children:i.mensaje})]}),l&&e.jsx("p",{className:"text-red-600 dark:text-red-400",children:l}),s&&e.jsx("p",{className:"text-green-600 dark:text-green-400",children:"¡Mensaje enviado correctamente!"}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white font-semibold py-3 rounded hover:bg-indigo-800 transition-colors duration-200",children:"Enviar mensaje"})]}),e.jsxs("div",{className:"mt-8 text-center text-gray-600 dark:text-gray-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",c.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Teléfono:"})," ",c.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dirección:"})," ",c.address]})]})]})};function Za(){const{t:a}=pa();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-xl border border-white/20 dark:border-slate-700/30 shadow-elegant p-8 md:p-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:a("privacy.title")}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:[a("privacy.lastUpdated"),": ",a("privacy.date")]})]}),e.jsxs("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:[e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.introduction.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("privacy.introduction.content1")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a("privacy.introduction.content2")})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.collection.title")}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:a("privacy.collection.personalInfo.title")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.collection.personalInfo.name")}),e.jsx("li",{children:a("privacy.collection.personalInfo.email")}),e.jsx("li",{children:a("privacy.collection.personalInfo.phone")}),e.jsx("li",{children:a("privacy.collection.personalInfo.company")}),e.jsx("li",{children:a("privacy.collection.personalInfo.address")})]}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:a("privacy.collection.technicalInfo.title")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.collection.technicalInfo.ip")}),e.jsx("li",{children:a("privacy.collection.technicalInfo.browser")}),e.jsx("li",{children:a("privacy.collection.technicalInfo.device")}),e.jsx("li",{children:a("privacy.collection.technicalInfo.cookies")}),e.jsx("li",{children:a("privacy.collection.technicalInfo.usage")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.usage.title")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.usage.services")}),e.jsx("li",{children:a("privacy.usage.communication")}),e.jsx("li",{children:a("privacy.usage.improvement")}),e.jsx("li",{children:a("privacy.usage.support")}),e.jsx("li",{children:a("privacy.usage.legal")}),e.jsx("li",{children:a("privacy.usage.marketing")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.sharing.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("privacy.sharing.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.sharing.consent")}),e.jsx("li",{children:a("privacy.sharing.legal")}),e.jsx("li",{children:a("privacy.sharing.business")}),e.jsx("li",{children:a("privacy.sharing.protection")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.security.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("privacy.security.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.security.encryption")}),e.jsx("li",{children:a("privacy.security.access")}),e.jsx("li",{children:a("privacy.security.monitoring")}),e.jsx("li",{children:a("privacy.security.updates")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.rights.title")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.rights.access")}),e.jsx("li",{children:a("privacy.rights.correct")}),e.jsx("li",{children:a("privacy.rights.delete")}),e.jsx("li",{children:a("privacy.rights.restrict")}),e.jsx("li",{children:a("privacy.rights.portability")}),e.jsx("li",{children:a("privacy.rights.object")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.cookies.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("privacy.cookies.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("privacy.cookies.essential")}),e.jsx("li",{children:a("privacy.cookies.analytics")}),e.jsx("li",{children:a("privacy.cookies.preferences")}),e.jsx("li",{children:a("privacy.cookies.marketing")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.changes.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a("privacy.changes.content")})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("privacy.contact.title")}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("privacy.contact.content")}),e.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[a("privacy.contact.company"),":"]})," Borderless Techno Company"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("privacy.contact.email"),":"]})," privacy@borderlesstechno.com"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("privacy.contact.address"),":"]})," 18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"]})]})]})]})]})]})})})}function Qa(){const{t:a}=pa();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-xl border border-white/20 dark:border-slate-700/30 shadow-elegant p-8 md:p-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:a("terms.title")}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:[a("terms.lastUpdated"),": ",a("terms.date")]})]}),e.jsxs("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:[e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.introduction.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.introduction.content1")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a("terms.introduction.content2")})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.acceptance.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a("terms.acceptance.content")})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.services.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.services.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.services.webDevelopment")}),e.jsx("li",{children:a("terms.services.mobileDevelopment")}),e.jsx("li",{children:a("terms.services.backend")}),e.jsx("li",{children:a("terms.services.consulting")}),e.jsx("li",{children:a("terms.services.security")}),e.jsx("li",{children:a("terms.services.ai")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.responsibilities.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.responsibilities.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.responsibilities.accurate")}),e.jsx("li",{children:a("terms.responsibilities.compliance")}),e.jsx("li",{children:a("terms.responsibilities.security")}),e.jsx("li",{children:a("terms.responsibilities.prohibited")}),e.jsx("li",{children:a("terms.responsibilities.cooperation")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.payment.title")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.payment.quotes")}),e.jsx("li",{children:a("terms.payment.methods")}),e.jsx("li",{children:a("terms.payment.schedule")}),e.jsx("li",{children:a("terms.payment.late")}),e.jsx("li",{children:a("terms.payment.disputes")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.intellectual.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.intellectual.content1")}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:a("terms.intellectual.ownership.title")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.intellectual.ownership.client")}),e.jsx("li",{children:a("terms.intellectual.ownership.company")}),e.jsx("li",{children:a("terms.intellectual.ownership.thirdParty")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.privacy.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.privacy.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.privacy.confidential")}),e.jsx("li",{children:a("terms.privacy.disclosure")}),e.jsx("li",{children:a("terms.privacy.protection")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.liability.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.liability.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.liability.indirect")}),e.jsx("li",{children:a("terms.liability.loss")}),e.jsx("li",{children:a("terms.liability.interruption")}),e.jsx("li",{children:a("terms.liability.maximum")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.warranties.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.warranties.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.warranties.quality")}),e.jsx("li",{children:a("terms.warranties.timeline")}),e.jsx("li",{children:a("terms.warranties.support")}),e.jsx("li",{children:a("terms.warranties.bugs")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.termination.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.termination.content1")}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:a("terms.termination.convenience")}),e.jsx("li",{children:a("terms.termination.breach")}),e.jsx("li",{children:a("terms.termination.effect")})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.law.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a("terms.law.content")})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.changes.title")}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a("terms.changes.content")})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:a("terms.contact.title")}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a("terms.contact.content")}),e.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[a("terms.contact.company"),":"]})," Borderless Techno Company"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("terms.contact.email"),":"]})," legal@borderlesstechno.com"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("terms.contact.address"),":"]})," 18 N 13th St. Harrisburg, Pennsylvania, 17103 United States"]})]})]})]})]})]})})})}const et=({isOpen:a,onClose:t,payment:s,onConfirm:r})=>{const[d,x]=Le.useState(null),[m,h]=Le.useState("");if(!a)return null;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg m-4 transform transition-all",children:[e.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Realizar Pago"}),e.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Concepto:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:null==s?void 0:s.concepto})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monto:"}),e.jsxs("span",{className:"font-bold text-xl text-violet-600 dark:text-violet-400",children:["$",null==s?void 0:s.monto.toLocaleString()]})]})]}),d?"PayPal"===d?e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Proceder con PayPal"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300 mt-2",children:"Serás redirigido a PayPal para completar tu pago de forma segura."}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"(Actualmente esto es una simulación. Al confirmar, el pago se marcará como pagado.)"})]}):e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-3",children:"Datos para la Transferencia"}),e.jsx("div",{className:"space-y-2 text-sm",children:Object.entries({bank:"Banco Ficticio S.A.",accountNumber:"1234-5678-9012-3456",beneficiary:"Boderless S.A. de C.V.",clabe:"012 345 67890123456 7"}).map(([a,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:[a.replace(/([A-Z])/g," $1"),":"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-gray-900 dark:text-white",children:t}),e.jsx("button",{onClick:()=>{return e=t,void navigator.clipboard.writeText(e).then(()=>{alert("Copiado al portapapeles")});var e},className:"text-gray-400 hover:text-violet-500",children:e.jsx(o,{size:14})})]})]},a))}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"reference",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Número de Referencia ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"reference",type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"Ej: 987654321",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-800 dark:text-white"})]})]}):e.jsxs("div",{className:"text-center space-y-3 pt-4",children:[e.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Seleccione un método de pago:"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs("button",{onClick:()=>x("PayPal"),className:"flex flex-col items-center justify-center p-4 border-2 border-transparent rounded-lg bg-blue-500 text-white w-40 h-24 hover:bg-blue-600 transition-all",children:[e.jsx(n,{className:"w-8 h-8 mb-1"}),e.jsx("span",{className:"font-bold",children:"PayPal"})]}),e.jsxs("button",{onClick:()=>x("Transferencia Bancaria"),className:"flex flex-col items-center justify-center p-4 border-2 border-transparent rounded-lg bg-gray-600 text-white w-40 h-24 hover:bg-gray-700 transition-all",children:[e.jsx(i,{className:"w-8 h-8 mb-1"}),e.jsx("span",{className:"font-bold",children:"Transferencia"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 border-t flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:d?()=>x(null):t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg",children:d?"Atrás":"Cancelar"}),d&&e.jsxs("button",{type:"button",onClick:()=>{"Transferencia Bancaria"!==d||m?r({metodo:d,referencia_transferencia:m}):alert("Por favor, ingrese el número de referencia.")},className:"px-6 py-2 bg-green-600 text-white rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors",children:[e.jsx(c,{className:"w-5 h-5"}),"PayPal"===d?"Confirmar Pago":"Hecho, Notificar Pago"]})]})]})})};function at(){const[a,t]=Le.useState([]),[s,r]=Le.useState([]),[l,i]=Le.useState(!0),[o,v]=Le.useState(null),[y,N]=Le.useState("pedidos"),[w,k]=Le.useState(""),[C,S]=Le.useState("todos"),[E,P]=Le.useState(!1),[_,A]=Le.useState(null),L=e=>{A(e),P(!0)},z=()=>{P(!1),A(null)};Le.useEffect(()=>{(async()=>{try{const[e,a]=await Promise.all([ka(),Ea()]),s=e.data.data||e.data||[],l=a.data.data||a.data||[],n=s.map(e=>{const a=l.find(a=>a.pedido_id===e.id&&"pendiente"===a.estado.toLowerCase());return{...e,pendingPayment:a}});t(n),r(l)}catch(e){v("Error al cargar los datos")}finally{i(!1)}})()},[]);const D=a=>{switch(a.toLowerCase()){case"completado":case"pagado":return e.jsx(c,{className:"w-5 h-5 text-green-500"});case"en_proceso":return e.jsx(j,{className:"w-5 h-5 text-blue-500"});case"pendiente":return e.jsx(h,{className:"w-5 h-5 text-yellow-500"});case"vencido":return e.jsx(d,{className:"w-5 h-5 text-red-500"});default:return e.jsx(h,{className:"w-5 h-5 text-gray-500"})}},M=e=>{switch(e.toLowerCase()){case"completado":case"pagado":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"en_proceso":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"pendiente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"vencido":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},R=e=>{switch(null==e?void 0:e.toLowerCase()){case"alta":return"bg-red-500";case"normal":return"bg-yellow-500";case"baja":return"bg-green-500";default:return"bg-gray-500"}},T=a.filter(e=>{const a=e.descripcion.toLowerCase().includes(w.toLowerCase()),t="todos"===C||e.estado.toLowerCase()===C.toLowerCase();return a&&t}),O=s.filter(e=>{const a=e.concepto.toLowerCase().includes(w.toLowerCase()),t="todos"===C||e.estado.toLowerCase()===C.toLowerCase();return a&&t});return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando datos..."})]})}):o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400",children:o})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Panel del Cliente"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gestiona tus pedidos y pagos desde un solo lugar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-indigo-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pedidos"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:a.length})]}),e.jsx(x,{className:"w-8 h-8 text-indigo-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completados"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.filter(e=>"completado"===e.estado.toLowerCase()).length})]}),e.jsx(c,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pagos"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",s.reduce((e,a)=>e+parseFloat(a.monto||0),0).toLocaleString()]})]}),e.jsx(m,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pedidos Pendientes"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:a.filter(e=>"pendiente"===e.estado.toLowerCase()||"en_proceso"===e.estado.toLowerCase()).length})]}),e.jsx(h,{className:"w-8 h-8 text-red-500"})]})})]}),e.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>N("pedidos"),className:"flex items-center px-4 py-2 rounded-md font-medium transition-all "+("pedidos"===y?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-400 shadow":"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400"),children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Pedidos"]}),e.jsxs("button",{onClick:()=>N("pagos"),className:"flex items-center px-4 py-2 rounded-md font-medium transition-all "+("pagos"===y?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-400 shadow":"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400"),children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),"Pagos"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:w,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:C,onChange:e=>S(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-slate-800 dark:text-white",children:[e.jsx("option",{value:"todos",children:"Todos"}),e.jsx("option",{value:"completado",children:"Completado"}),e.jsx("option",{value:"en_proceso",children:"En progreso"}),e.jsx("option",{value:"pendiente",children:"Pendiente"}),e.jsx("option",{value:"pagado",children:"Pagado"}),e.jsx("option",{value:"vencido",children:"Vencido"})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:"pedidos"===y?e.jsxs("div",{children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"Pedidos (",T.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Descripción"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prioridad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha de Entrega Estimada"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map(a=>{var t,r;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.descripcion})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[D(a.estado),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${M(a.estado)}`,children:a.estado})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${R(a.prioridad)}`}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.prioridad})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",null==(t=a.valor)?void 0:t.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4 mr-1"}),a.fecha_entrega_estimada?new Date(a.fecha_entrega_estimada).toLocaleDateString():"N/A"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300",children:e.jsx(b,{className:"w-4 h-4"})}),a.pendingPayment&&e.jsx("button",{onClick:()=>L(a.pendingPayment),className:"px-3 py-1 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors",children:"Pagar"}),"completado"===a.estado.toLowerCase()&&a.valor&&!a.pendingPayment&&(r=a.id,!s.some(e=>e.pedido_id===r&&"pagado"===e.estado.toLowerCase()))&&e.jsx("button",{onClick:()=>(e=>{const a={id:`temp-payment-${e.id}`,pedido_id:e.id,concepto:`Pago por: ${e.descripcion}`,monto:e.valor,estado:"pendiente",fecha_pago:(new Date).toISOString()};L(a)})(a),className:"px-3 py-1 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Pagar ahora"})]})})]},a.id)})})]})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:[e.jsx(n,{className:"w-5 h-5 mr-2"}),"Pagos (",O.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:O.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.concepto})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["$",a.monto.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[D(a.estado),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${M(a.estado)}`,children:a.estado})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4 mr-1"}),a.fecha_pago?new Date(a.fecha_pago).toLocaleDateString():"N/A"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300",children:e.jsx(b,{className:"w-4 h-4"})}),"pendiente"===a.estado.toLowerCase()&&e.jsx("button",{onClick:()=>L(a),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",children:"Pagar"})]})})]},a.id))})]})})]})}),e.jsx(et,{isOpen:E,onClose:z,payment:_,onConfirm:async e=>{if(_)try{const a={..._,metodo:e.metodo,referencia_transferencia:e.referencia_transferencia};let l;if(String(a.id).startsWith("temp-")){const{data:e}=await(e=>ja.post("/api/client-payments",e))({pedido_id:a.pedido_id,monto:a.monto,concepto:a.concepto,metodo:a.metodo,referencia_transferencia:a.referencia_transferencia});l=e,r(e=>[...e,l])}else{const{data:e}=await((e,a)=>ja.put(`/api/client-payments/${e}`,a))(a.id,{metodo:a.metodo,referencia_transferencia:a.referencia_transferencia});l=e,r(s.map(e=>e.id===a.id?l:e))}const n=(await ka()).data,i=(await Ea()).data,o=n.map(e=>{const a=i.find(a=>a.pedido_id===e.id&&"pendiente"===a.estado.toLowerCase());return{...e,pendingPayment:a}});t(o),r(i),z()}catch(a){v("Error al procesar el pago. Por favor, inténtelo de nuevo.")}}})]})})}function tt(){return e.jsx("div",{children:e.jsx(at,{})})}function st(){const{login:a}=qa(),t=Me(),[s,r]=Le.useState(""),[l,n]=Le.useState(""),[i,o]=Le.useState(""),[c,d]=Le.useState(!1);Le.useEffect(()=>{const e=localStorage.getItem("rememberedCredentials");if(e){const{email:a,password:t}=JSON.parse(e);r(a||""),n(t||""),d(!0)}},[]);return e.jsx("div",{className:"min-h-screen bg-light dark:bg-dark flex items-center justify-center p-4 pt-24",children:e.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-8 items-center",children:[e.jsxs("div",{className:"hidden lg:flex lg:col-span-5 flex-col justify-center space-y-8 p-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-4xl font-bold text-dark dark:text-light",children:"Bienvenido de vuelta"}),e.jsx("p",{className:"text-lg text-dark/70 dark:text-light/70",children:"Accede a tu panel personalizado y continúa explorando oportunidades sin fronteras."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-dark dark:text-light",children:"Panel de control personalizado"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-dark dark:text-light",children:"Gestión completa de servicios"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-dark dark:text-light",children:"Historial de transacciones"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:"24/7"}),e.jsx("div",{className:"text-sm text-dark/70 dark:text-light/70",children:"Soporte"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-secondary/10 to-primary/10 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-secondary",children:"100%"}),e.jsx("div",{className:"text-sm text-dark/70 dark:text-light/70",children:"Seguro"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6",children:[e.jsx("p",{className:"text-dark/80 dark:text-light/80 italic",children:"“Tu próxima oportunidad global te está esperando. Accede ahora y descubre lo que tienes disponible.”"}),e.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark dark:text-light",children:"Equipo Borderless"}),e.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"Tu partner global"})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-7 w-full max-w-2xl lg:max-w-none mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),e.jsx("h1",{className:"text-3xl font-bold text-dark dark:text-light",children:"Bienvenido"}),e.jsx("p",{className:"text-dark/70 dark:text-light/70 mt-2",children:"Inicia sesión en tu cuenta"})]}),e.jsxs("div",{className:"bg-white dark:bg-dark/70 rounded-2xl shadow-xl border border-gray-200 dark:border-secondary/20 p-8 backdrop-blur-sm",children:[i&&e.jsx("div",{className:"mb-6 p-4 bg-accent/20 border border-accent/30 rounded-lg",children:e.jsx("p",{className:"text-accent text-sm font-medium",children:i})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=await a({email:s,password:l});c?localStorage.setItem("rememberedCredentials",JSON.stringify({email:s,password:l})):localStorage.removeItem("rememberedCredentials"),e&&e.rol&&localStorage.setItem("userRole",e.rol),e&&"admin"===e.rol?t("/admin"):t("/panel-cliente")}catch(r){o("Credenciales inválidas")}},className:"space-y-6",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Email *"}),e.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s,onChange:e=>r(e.target.value),required:!0,placeholder:"tu@email.com"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Contraseña *"}),e.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:l,onChange:e=>n(e.target.value),required:!0,placeholder:"Tu contraseña"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:c,onChange:e=>{const a=e.target.checked;d(a),a||localStorage.removeItem("rememberedCredentials")},className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-dark/70 dark:text-light/70",children:"Recordar contraseña"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"text-primary dark:text-secondary hover:underline font-medium",children:"¿Olvidaste tu contraseña?"})})]}),e.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-dark",children:"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-dark/70 dark:text-light/70",children:["¿No tienes cuenta?"," ",e.jsx(De,{to:"/register",className:"text-primary dark:text-secondary hover:underline font-medium transition-colors duration-200",children:"Regístrate"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"¿Problemas para acceder? Contáctanos para ayudarte"})})]})]})})}function rt(){const{register:a}=qa(),t=Me(),[s,r]=Le.useState({nombre:"",direccion:"",telefono:"",email:"",password:"",empresa:"",rfc:""}),[l,n]=Le.useState(""),i=e=>{r({...s,[e.target.name]:e.target.value})};return e.jsx("div",{className:"min-h-screen bg-light dark:bg-dark flex items-center justify-center p-4 pt-24",children:e.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-8 items-center",children:[e.jsxs("div",{className:"hidden lg:flex lg:col-span-5 flex-col justify-center space-y-8 p-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-4xl font-bold text-dark dark:text-light",children:"Únete a BORDERLESS COMPANY"}),e.jsx("p",{className:"text-lg text-dark/70 dark:text-light/70",children:"Descubre un mundo de oportunidades sin fronteras. Conéctate con profesionales de todo el mundo."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-dark dark:text-light",children:"Acceso global a oportunidades"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-dark dark:text-light",children:"Red de contactos internacionales"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-dark dark:text-light",children:"Soporte 24/7 multiidioma"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6",children:[e.jsx("p",{className:"text-dark/80 dark:text-light/80 italic",children:"“Borderless me conectó con oportunidades que nunca imaginé. Es increíble la facilidad para trabajar globalmente.”"}),e.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark dark:text-light",children:"María González"}),e.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"Desarrolladora Frontend"})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-7 w-full max-w-2xl lg:max-w-none mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-dark dark:text-light",children:"Crear Cuenta"}),e.jsx("p",{className:"text-dark/70 dark:text-light/70 mt-2",children:"Únete a nuestra comunidad"})]}),e.jsxs("div",{className:"bg-white dark:bg-dark/70 rounded-2xl shadow-xl border border-gray-200 dark:border-secondary/20 p-8 backdrop-blur-sm",children:[l&&e.jsx("div",{className:"mb-6 p-4 bg-accent/20 border border-accent/30 rounded-lg",children:e.jsx("p",{className:"text-accent text-sm font-medium",children:l})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await a(s),t("/")}catch(r){n("Error al registrarse")}},className:"space-y-6",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Nombre *"}),e.jsx("input",{type:"text",name:"nombre",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.nombre,onChange:i,required:!0,placeholder:"Tu nombre completo"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Dirección *"}),e.jsx("input",{type:"text",name:"direccion",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.direccion,onChange:i,required:!0,placeholder:"Tu dirección completa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Teléfono *"}),e.jsx("input",{type:"text",name:"telefono",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.telefono,onChange:i,required:!0,placeholder:"Tu número de teléfono"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.email,onChange:i,required:!0,placeholder:"tu@email.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Empresa"}),e.jsx("input",{type:"text",name:"empresa",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.empresa,onChange:i,placeholder:"Nombre de tu empresa (opcional)"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"RFC"}),e.jsx("input",{type:"text",name:"rfc",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.rfc,onChange:i,placeholder:"RFC (opcional)"})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-dark/80 dark:text-light/80 mb-2",children:"Contraseña *"}),e.jsx("input",{type:"password",name:"password",className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark border border-gray-300 dark:border-secondary/30 rounded-lg focus:ring-2 focus:ring-primary transition-all duration-200 text-dark dark:text-light placeholder-gray-500",value:s.password,onChange:i,required:!0,placeholder:"Mínimo 8 caracteres"})]}),e.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-dark",children:"Crear Cuenta"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-dark/70 dark:text-light/70",children:["¿Ya tienes cuenta?"," ",e.jsx(De,{to:"/login",className:"text-primary dark:text-secondary hover:underline font-medium transition-colors duration-200",children:"Inicia Sesión"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-dark/60 dark:text-light/60",children:"Al registrarte, aceptas nuestros términos y condiciones"})})]})]})})}et.propTypes={isOpen:ia.bool.isRequired,onClose:ia.func.isRequired,payment:ia.shape({concepto:ia.string,monto:ia.number}),onConfirm:ia.func.isRequired};const lt=({children:a,className:t="",variant:s="default",hover:r=!0,padding:l="default",shadow:n="default",borderRadius:i="default",...o})=>{const c=["transition-all duration-300 ease-in-out",{default:"bg-white dark:bg-ghost-800/80 border border-ghost-200 dark:border-ghost-600/30",glass:"bg-white/70 dark:bg-ghost-800/50 backdrop-blur-md border border-white/20 dark:border-ghost-600/20",gradient:"bg-gradient-to-br from-white to-ghost-50 dark:from-ghost-800/80 dark:to-ghost-900/60 border border-ghost-200 dark:border-ghost-600/30",accent:"bg-gradient-to-br from-ghost-100/50 to-ghost-200/30 dark:from-ghost-700/20 dark:to-ghost-800/30 border border-ghost-300/30 dark:border-ghost-600/40"}[s],{true:"hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02]",false:""}[r],{none:"",sm:"p-4",default:"p-6",lg:"p-8",xl:"p-10"}[l],{none:"",sm:"shadow-sm",default:"shadow-lg",lg:"shadow-xl",xl:"shadow-2xl"}[n],{none:"",sm:"rounded-md",default:"rounded-xl",lg:"rounded-2xl",full:"rounded-full"}[i],t].filter(Boolean).join(" ");return e.jsx("div",{className:c,...o,children:a})};lt.propTypes={children:ia.node.isRequired,className:ia.string,variant:ia.oneOf(["default","glass","gradient","accent"]),hover:ia.bool,padding:ia.oneOf(["none","sm","default","lg","xl"]),shadow:ia.oneOf(["none","sm","default","lg","xl"]),borderRadius:ia.oneOf(["none","sm","default","lg","full"])},ia.string,ia.string,ia.string,ia.string,ia.func,ia.string,ia.bool,ia.bool,ia.string,ia.node,ia.oneOf(["left","right"]);const nt=({className:a="",variant:t="rectangular",width:s="full",height:r="auto",animated:l=!0})=>{const n=["bg-gray-200 dark:bg-gray-700",{text:"rounded",rectangular:"rounded-md",circular:"rounded-full",rounded:"rounded-lg"}[t],{auto:"w-auto",full:"w-full","1/2":"w-1/2","1/3":"w-1/3","2/3":"w-2/3","1/4":"w-1/4","3/4":"w-3/4"}[s],{auto:"h-auto",4:"h-4",6:"h-6",8:"h-8",10:"h-10",12:"h-12",16:"h-16",20:"h-20",24:"h-24",32:"h-32"}[r],l?"animate-pulse":"",a].filter(Boolean).join(" ");return e.jsx("div",{className:n})};nt.propTypes={className:ia.string,variant:ia.oneOf(["text","rectangular","circular","rounded"]),width:ia.oneOf(["auto","full","1/2","1/3","2/3","1/4","3/4"]),height:ia.oneOf(["auto","4","6","8","10","12","16","20","24","32"]),animated:ia.bool},ia.string,ia.number,ia.string,ia.string.isRequired,ia.oneOf(["success","error","warning","info"]),ia.number,ia.func,ia.oneOf(["top-right","top-left","bottom-right","bottom-left","top-center","bottom-center"]),ia.array;const it=({isOpen:a,onToggle:t,onOptionSelect:s,activeOption:r})=>{const[l,n]=Le.useState("dashboard"),i=Me(),o=Re();Le.useEffect(()=>{const e=o.pathname;["/cotizaciones","/pedidos","/historial"].includes(e)?n("orders"):"/admin/dashboard"===e&&n("clients")},[o.pathname]);return e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:t}),e.jsxs("aside",{className:`\n        fixed top-20 left-0 z-40 h-[calc(100vh-5rem)] w-80 \n        backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 \n        border-r border-white/20 dark:border-slate-700/30 \n        transform transition-transform duration-300 ease-in-out\n        ${a?"translate-x-0":"-translate-x-full"}\n        lg:translate-x-0 lg:static lg:z-auto lg:h-[calc(100vh-5rem)]\n      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20 dark:border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Admin Panel"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Panel de Control"})]})]}),e.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-white/20 dark:hover:bg-slate-700/20 transition-colors","aria-label":"Cerrar menú de navegación",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"space-y-2",children:[{id:"dashboard",title:"Panel Principal",icon:"📊",links:[{id:"overview",label:"Resumen General",icon:"📋"},{id:"analytics",label:"Análisis Avanzado",icon:"📊"},{id:"quick-stats",label:"Estadísticas Rápidas",icon:"⚡"}]},{id:"orders",title:"Pedidos & Cotizaciones",icon:"📦",links:[{id:"cotizaciones",label:"Cotizaciones",icon:"📝"},{id:"pedidos",label:"Pedidos",icon:"📦"},{id:"historial",label:"Historial",icon:"📚"}]},{id:"clients",title:"Clientes",icon:"👥",links:[{id:"ver-clientes",label:"Listar Clientes",icon:"👥"},{id:"nuevo-cliente",label:"Nuevo Cliente",icon:"➕"},{id:"estadisticas-clientes",label:"Estadísticas",icon:"📈"}]},{id:"financial",title:"Finanzas",icon:"💰",links:[{id:"pagos-finanzas",label:"Gestión de Pagos",icon:"💳"},{id:"reportes-finanzas",label:"Reportes Financieros",icon:"📊"},{id:"facturas-finanzas",label:"Facturación",icon:"🧾"}]},{id:"communication",title:"Comunicación",icon:"💬",links:[{id:"notificaciones-comm",label:"Notificaciones",icon:"🔔"},{id:"mensajes-comm",label:"Mensajes",icon:"💬"},{id:"emails-comm",label:"Email Marketing",icon:"📧"}]},{id:"content",title:"Contenido",icon:"🎨",links:[{id:"proyectos-admin",label:"Portfolio",icon:"🖼️"}]},{id:"settings",title:"Configuración",icon:"⚙️",links:[{id:"configuracion-general",label:"General",icon:"🛠️"},{id:"integraciones",label:"Integraciones",icon:"🔌"},{id:"seguridad",label:"Seguridad",icon:"🔒"}]}].map(a=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>{a.isAlwaysOpen||n(l===a.id?"":a.id)},className:`flex items-center justify-between w-full text-left p-3 rounded-xl\n                           ${a.isAlwaysOpen?"bg-gradient-to-r from-blue-500/20 to-blue-600/20 border border-blue-500/30":"bg-white/10 dark:bg-slate-700/20 hover:bg-white/20 dark:hover:bg-slate-700/30"}\n                           transition-all duration-200 group`,disabled:a.isAlwaysOpen,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xl",children:a.icon}),e.jsx("span",{className:"font-semibold "+(a.isAlwaysOpen?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"),children:a.title})]}),!a.isAlwaysOpen&&e.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400 transform transition-transform duration-200 "+(l===a.id?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(a.isAlwaysOpen||l===a.id)&&e.jsx("div",{className:"mt-2 space-y-1",children:a.links.map(l=>e.jsxs("button",{onClick:()=>{l.route?i(l.route):s&&s(l.id,l.label,a.title),window.innerWidth<1024&&t()},className:"flex items-center w-full px-4 py-3 ml-2 rounded-lg text-sm font-medium transition-all duration-200 group "+(r===l.id?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg transform scale-[1.02]":"text-gray-700 dark:text-gray-300 hover:bg-white/20 dark:hover:bg-slate-700/30 hover:translate-x-1"),children:[e.jsx("span",{className:"mr-3 text-base",children:l.icon}),e.jsx("span",{className:"flex-1 text-left",children:l.label}),r===l.id&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-white/80 animate-pulse"})]},l.id))})]},a.id))})}),e.jsx("div",{className:"p-6 border-t border-white/20 dark:border-slate-700/30",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Admin Dashboard v2.0"})})})]})]})};it.propTypes={isOpen:ia.bool.isRequired,onToggle:ia.func.isRequired,onOptionSelect:ia.func,activeOption:ia.string};const ot=({isOpen:a,onToggle:t,onOptionSelect:s})=>{const[r,l]=Le.useState("dashboard");return e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:t}),e.jsxs("aside",{className:`\n        fixed top-20 left-0 z-40 h-[calc(100vh-5rem)] w-80 \n        backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 \n        border-r border-white/20 dark:border-slate-700/30 \n        transform transition-transform duration-300 ease-in-out\n        ${a?"translate-x-0":"-translate-x-full"}\n        lg:translate-x-0 lg:static lg:z-auto lg:h-[calc(100vh-5rem)]\n        block\n      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20 dark:border-slate-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Mi Panel"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Panel de Cliente"})]})]}),e.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-white/20 dark:hover:bg-slate-700/20 transition-colors","aria-label":"Cerrar menú de navegación",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"space-y-6",children:[{id:"dashboard",title:"Mi Panel",icon:"📊",links:[{action:"dashboard",label:"Dashboard",icon:"📊"},{action:"profile",label:"Mi Perfil",icon:"👤"}]},{id:"projects",title:"Mis Proyectos",icon:"📋",links:[{action:"quotes",label:"Mis Cotizaciones",icon:"📋"},{action:"orders",label:"Mis Pedidos",icon:"📦"},{action:"new-request",label:"Nueva Solicitud",icon:"➕"}]},{id:"financial",title:"Finanzas",icon:"💰",links:[{action:"payments",label:"Mis Pagos",icon:"💰"},{action:"invoices",label:"Facturas",icon:"🧾"}]},{id:"communication",title:"Comunicación",icon:"💬",links:[{action:"notifications",label:"Notificaciones",icon:"🔔"},{action:"messages",label:"Mensajes",icon:"💬"},{action:"support",label:"Soporte",icon:"🆘"}]}].map(a=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>l(r===a.id?"":a.id),className:"flex items-center justify-between w-full text-left p-3 rounded-lg\n                           bg-white/20 dark:bg-slate-700/20 hover:bg-white/30 dark:hover:bg-slate-700/30\n                           transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.title})]}),e.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400 transform transition-transform "+(r===a.id?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r===a.id&&e.jsx("div",{className:"mt-2 ml-6 space-y-1",children:a.links.map(a=>e.jsxs("button",{onClick:()=>{s&&s(a.action),window.innerWidth<1024&&t()},className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 text-gray-700 dark:text-gray-300 hover:bg-white/20 dark:hover:bg-slate-700/20 w-full text-left",children:[e.jsx("span",{className:"mr-3",children:a.icon}),a.label]},a.action))})]},a.id))})}),e.jsx("div",{className:"p-6 border-t border-white/20 dark:border-slate-700/30",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Cliente Dashboard v2.0"})})})]})]})};ot.propTypes={isOpen:ia.bool.isRequired,onToggle:ia.func.isRequired,onOptionSelect:ia.func};const ct=({children:a,onSidebarOptionSelect:t})=>{const{user:s}=qa(),r=Re(),[l,n]=Le.useState(!1),i=()=>{n(!l)};if(!s)return a;const o="admin"===s.rol;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 pt-20",children:e.jsxs("div",{className:"flex",children:[o?e.jsx(it,{isOpen:l,onToggle:i,onOptionSelect:t||(()=>{}),activeOption:(()=>{switch(r.pathname){case"/cotizaciones":return"cotizaciones";case"/pedidos":return"pedidos";case"/historial":return"historial";case"/ver-clientes":return"ver-clientes";case"/nuevo-cliente":return"nuevo-cliente";case"/estadisticas-clientes":return"estadisticas-clientes";case"/pagos-finanzas":return"pagos-finanzas";case"/reportes-finanzas":return"reportes-finanzas";case"/facturas-finanzas":return"facturas-finanzas";case"/notificaciones-comm":return"notificaciones-comm";case"/mensajes-comm":return"mensajes-comm";case"/emails-comm":return"emails-comm";case"/proyectos-admin":return"proyectos-admin";case"/configuracion-general":return"configuracion-general";case"/integraciones":return"integraciones";case"/seguridad":return"seguridad";default:return""}})()}):e.jsx(ot,{isOpen:l,onToggle:i,onOptionSelect:t}),e.jsxs("main",{className:"flex-1 transition-all duration-300 "+(o?"lg:ml-0":"lg:ml-80"),children:[e.jsx("div",{className:"lg:hidden fixed top-20 left-4 z-30",children:e.jsx("button",{onClick:i,className:"p-2 rounded-lg backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 \n                       border border-white/20 dark:border-slate-700/30 shadow-lg\n                       hover:bg-white/40 dark:hover:bg-slate-800/40 transition-colors","aria-label":"Abrir menú de navegación",children:e.jsx("svg",{className:"w-6 h-6 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"mx-auto px-12 py-6",style:{maxWidth:"1200px"},children:a})})]})]})})};ct.propTypes={children:ia.node.isRequired,onSidebarOptionSelect:ia.func};const dt={servicio:"",descripcion:""};function xt({onSubmit:a}){const[t,s]=Le.useState(dt),[r,l]=Le.useState(!1),[n,i]=Le.useState(""),[o,c]=Le.useState({}),d=e=>{s({...t,[e.target.name]:e.target.value})};return e.jsxs("section",{className:"min-h-screen py-12 px-4 md:px-0 flex justify-center items-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-br from-blue-200/30 to-cyan-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-gradient-to-br from-cyan-200/30 to-blue-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-gradient-to-br from-slate-200/20 to-blue-200/20 rounded-full blur-2xl"}),e.jsx("div",{className:"relative z-10 w-full max-w-lg",children:e.jsx("div",{className:"backdrop-blur-xl bg-white/30 dark:bg-slate-800/30 rounded-2xl border border-white/20 dark:border-slate-700/20 shadow-2xl p-8",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const r=(()=>{const e={};return t.servicio||(e.servicio="Selecciona un servicio."),t.descripcion||(e.descripcion="La descripción es obligatoria."),e})();if(c(r),Object.keys(r).length>0)i("Por favor, corrige los errores.");else{i(""),l(!1);try{const e=await ja.post("/api/orders",t);l(!0),s(dt),a&&a(e.data)}catch(n){i("Hubo un error al enviar la solicitud. Inténtalo de nuevo más tarde.")}}},"aria-label":"Formulario de solicitud de proyecto",className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-light text-slate-800 dark:text-slate-200 mb-2",children:"Solicita tu proyecto"}),e.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto rounded-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"servicio",className:"block text-sm font-medium mb-2 text-slate-700 dark:text-slate-300",children:["Servicio ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"servicio",id:"servicio",value:t.servicio||"",onChange:d,className:"w-full px-4 py-3 rounded-xl backdrop-blur-sm bg-white/50 dark:bg-slate-700/50 border border-white/30 dark:border-slate-600/30 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-200 text-slate-800 dark:text-slate-200",required:!0,children:[e.jsx("option",{value:"",children:"Selecciona un servicio"}),e.jsx("option",{value:"desarrollo-web",children:"Desarrollo Web"}),e.jsx("option",{value:"aplicaciones-a-medida",children:"Aplicaciones a Medida"}),e.jsx("option",{value:"e-commerce",children:"E-commerce"}),e.jsx("option",{value:"integraciones-y-apis",children:"Integraciones y APIs"}),e.jsx("option",{value:"soporte-y-mantenimiento",children:"Soporte y Mantenimiento"})]}),o.servicio&&e.jsx("span",{className:"text-red-500 text-sm mt-1 block",children:o.servicio})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"descripcion",className:"block text-sm font-medium mb-2 text-slate-700 dark:text-slate-300",children:["Descripción del proyecto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"descripcion",name:"descripcion",value:t.descripcion,onChange:d,className:"w-full px-4 py-3 rounded-xl backdrop-blur-sm bg-white/50 dark:bg-slate-700/50 border border-white/30 dark:border-slate-600/30 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-200 placeholder-slate-400 dark:placeholder-slate-400 text-slate-800 dark:text-slate-200 resize-none",rows:4,required:!0}),o.descripcion&&e.jsx("span",{className:"text-red-500 text-sm mt-1 block",children:o.descripcion})]})]}),n&&e.jsx("div",{className:"p-4 rounded-xl bg-red-100/50 dark:bg-red-900/20 border border-red-200/30 dark:border-red-800/30 backdrop-blur-sm",children:e.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:n})}),r&&e.jsx("div",{className:"p-4 rounded-xl bg-green-100/50 dark:bg-green-900/20 border border-green-200/30 dark:border-green-800/30 backdrop-blur-sm",children:e.jsx("p",{className:"text-green-700 dark:text-green-400 text-sm",children:"¡Solicitud enviada correctamente!"})}),e.jsx("button",{type:"submit",className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-medium shadow-lg hover:from-blue-600 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transform hover:scale-[1.01] transition-all duration-200 backdrop-blur-sm",children:"Enviar solicitud"})]})})})]})}xt.propTypes={onSubmit:ia.func};const mt=({children:a,adminOnly:t=!1})=>{const{user:s}=qa(),r=Re();return s?t&&"admin"!==(null==s?void 0:s.rol)?e.jsx(Te,{to:"/",replace:!0}):a:e.jsx(Te,{to:"/login",state:{from:r},replace:!0})};mt.propTypes={children:ia.node.isRequired,adminOnly:ia.bool};const ht=()=>{const a=Me(),t=Re(),s=[{id:"quotes",label:"Cotizaciones",path:"/cotizaciones",icon:v,description:"Gestionar solicitudes de cotización"},{id:"orders",label:"Pedidos",path:"/pedidos",icon:x,description:"Administrar proyectos y órdenes"},{id:"history",label:"Historial",path:"/historial",icon:y,description:"Ver historial completo"}],r=t.pathname;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"📊 Sección: Pedidos y Cotizaciones"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Navega entre los diferentes módulos de gestión de proyectos"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:s.map((t,l)=>{const n=t.icon,i=r===t.path;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:()=>a(t.path),className:"flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 group "+(i?"bg-violet-600 text-white shadow-lg scale-105":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-violet-100 dark:hover:bg-slate-600 hover:text-violet-700 dark:hover:text-violet-300"),title:t.description,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t.label}),i&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})]}),l<s.length-1&&e.jsx(N,{className:"w-4 h-4 text-gray-400 mx-2 hidden sm:block"})]},t.id)})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Estás en:"}),s.map(a=>{if(r===a.path){const t=a.icon;return e.jsxs("div",{className:"flex items-center gap-2 text-violet-600 dark:text-violet-400 font-medium",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsx("span",{children:a.label}),e.jsxs("span",{className:"text-gray-500",children:["- ",a.description]})]},a.id)}return null})]})})]})},ut=({showNavigation:a=!0})=>{const{user:t}=qa(),[s,r]=Le.useState([]),[l,n]=Le.useState(!0),[i,o]=Le.useState("all"),[v,y]=Le.useState("all"),[N,L]=Le.useState(""),[z,D]=Le.useState(null),[M,R]=Le.useState(!1),[T,O]=Le.useState(!1),[I,q]=Le.useState(!1),[F,$]=Le.useState({descripcion:"",estado:"",prioridad:"",total:"",fecha_entrega_estimada:""});Le.useEffect(()=>{B()},[]);const B=async()=>{try{n(!0);const e=await ka();e.data.success&&r(e.data.data)}catch(e){}finally{n(!1)}},V=async(e,a)=>{try{const t=await((e,a)=>ja.put(`/api/orders/${e}/status`,{estado:a}))(e,a);t.data.success&&r(s.map(t=>t.id===e?{...t,estado:a}:t))}catch(t){}},W=e=>{D(e),$({descripcion:e.descripcion||"",estado:e.estado||"",prioridad:e.prioridad||"",total:e.total||"",fecha_entrega_estimada:e.fecha_entrega_estimada?e.fecha_entrega_estimada.split("T")[0]:""}),q(!0)},H=e=>{const{name:a,value:t}=e.target;$(e=>({...e,[a]:t}))},U=a=>{switch(a){case"nuevo":return e.jsx(j,{className:"w-4 h-4"});case"confirmado":case"completado":return e.jsx(c,{className:"w-4 h-4"});case"en_proceso":return e.jsx(S,{className:"w-4 h-4"});case"cancelado":return e.jsx(d,{className:"w-4 h-4"});case"en_pausa":return e.jsx(E,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}},G=e=>{switch(e){case"nuevo":return"bg-yellow-500 text-white";case"confirmado":return"bg-blue-500 text-white";case"en_proceso":return"bg-indigo-500 text-white";case"completado":return"bg-green-500 text-white";case"cancelado":return"bg-red-500 text-white";case"en_pausa":return"bg-orange-500 text-white";default:return"bg-gray-500 text-white"}},Y=a=>{switch(a){case"alta":case"urgente":return e.jsx(h,{className:"w-4 h-4"});case"normal":default:return e.jsx(_,{className:"w-4 h-4"});case"baja":return e.jsx(A,{className:"w-4 h-4"})}},X=e=>{switch(e){case"urgente":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"alta":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";case"normal":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"baja":return"text-green-600 bg-green-100 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100"}},K=s.filter(e=>{var a,t,s;const r="all"===i||e.estado===i,l="all"===v||e.prioridad===v,n=""===N||(null==(a=e.numero_pedido)?void 0:a.toString().includes(N))||(null==(t=e.descripcion)?void 0:t.toLowerCase().includes(N.toLowerCase()))||(null==(s=e.cliente_nombre)?void 0:s.toLowerCase().includes(N.toLowerCase()));return r&&l&&n}),J=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"No especificada",Z=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00";return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[a&&e.jsx(ht,{}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📦 Gestión de Pedidos"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todos los proyectos y órdenes de trabajo de tus clientes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(K,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`pedidos_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>O(!0),className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nuevo Pedido"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.filter(e=>"en_proceso"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"En Proceso"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:s.filter(e=>"nuevo"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nuevos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:s.filter(e=>"completado"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completados"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:Z(s.reduce((e,a)=>e+(parseFloat(a.total)||0),0))}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por servicio, descripción o cliente...",value:N,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===i?"primary":"ghost",size:"sm",onClick:()=>o("all"),children:["Todos (",s.length,")"]}),e.jsxs($a,{variant:"nuevo"===i?"primary":"ghost",size:"sm",onClick:()=>o("nuevo"),children:["Nuevos (",s.filter(e=>"nuevo"===e.estado).length,")"]}),e.jsxs($a,{variant:"en_proceso"===i?"primary":"ghost",size:"sm",onClick:()=>o("en_proceso"),children:["En Proceso (",s.filter(e=>"en_proceso"===e.estado).length,")"]}),e.jsxs($a,{variant:"completado"===i?"primary":"ghost",size:"sm",onClick:()=>o("completado"),children:["Completados (",s.filter(e=>"completado"===e.estado).length,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Prioridad:"]}),e.jsx($a,{variant:"all"===v?"secondary":"ghost",size:"sm",onClick:()=>y("all"),children:"Todas"}),e.jsxs($a,{variant:"alta"===v?"danger":"ghost",size:"sm",onClick:()=>y("alta"),children:["Alta (",s.filter(e=>"alta"===e.prioridad).length,")"]}),e.jsxs($a,{variant:"normal"===v?"secondary":"ghost",size:"sm",onClick:()=>y("normal"),children:["Normal (",s.filter(e=>"normal"===e.prioridad).length,")"]}),e.jsxs($a,{variant:"baja"===v?"success":"ghost",size:"sm",onClick:()=>y("baja"),children:["Baja (",s.filter(e=>"baja"===e.prioridad).length,")"]})]})]}),e.jsx("div",{className:"grid gap-6",children:K.map(a=>e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(x,{className:"w-5 h-5 inline mr-2"}),"Pedido #",a.numero_pedido]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${G(a.estado)}`,children:[U(a.estado),a.estado]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${X(a.prioridad)}`,children:[Y(a.prioridad),"Prioridad ",a.prioridad]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),e.jsx("p",{className:"font-medium",children:a.cliente_nombre||"Cliente no especificado"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Valor"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:Z(a.total)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Entrega Estimada"}),e.jsx("p",{className:"font-medium",children:a.fecha_entrega_estimada?J(a.fecha_entrega_estimada):"No especificada"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Descripción"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a.descripcion})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("span",{children:["Creado el ",J(a.created_at)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{D(a),R(!0)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>W(a),children:[e.jsx(C,{className:"w-4 h-4"}),"Editar"]}),"nuevo"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>V(a.id,"confirmado"),children:[e.jsx(c,{className:"w-4 h-4"}),"Confirmar"]}),"confirmado"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>V(a.id,"en_proceso"),children:[e.jsx(S,{className:"w-4 h-4"}),"Iniciar"]}),"en_proceso"===a.estado&&e.jsxs(e.Fragment,{children:[e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>V(a.id,"en_pausa"),children:[e.jsx(E,{className:"w-4 h-4"}),"Pausar"]}),e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>V(a.id,"completado"),children:[e.jsx(c,{className:"w-4 h-4"}),"Completar"]})]}),"en_pausa"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>V(a.id,"en_proceso"),children:[e.jsx(S,{className:"w-4 h-4"}),"Reanudar"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar este pedido?"))try{(await Sa(e)).data.success&&r(s.filter(a=>a.id!==e))}catch(a){}})(a.id),children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]})]})]})},a.id))}),0===K.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(x,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay pedidos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron pedidos que coincidan con los filtros seleccionados"})]}),M&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Detalles del Pedido #",z.numero_pedido]}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Número de Pedido"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["#",z.numero_pedido]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado Actual"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${G(z.estado)}`,children:[U(z.estado),z.estado]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${X(z.prioridad)}`,children:[Y(z.prioridad),z.prioridad]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cliente"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:z.cliente_nombre||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor del Proyecto"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold text-gray-600",children:["Subtotal: ",Z(z.subtotal)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Descuento: ",Z(z.descuento)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["IVA: ",Z(z.iva)]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["Total: ",Z(z.total)]}),e.jsxs("p",{className:"text-md text-blue-600",children:["Anticipo: ",Z(z.anticipo)]}),e.jsxs("p",{className:"text-md text-orange-600",children:["Saldo: ",Z(z.saldo_pendiente)]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Inicio"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:J(z.fecha_inicio)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Entrega"}),e.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:["Estimada: ",J(z.fecha_entrega_estimada),e.jsx("br",{}),z.fecha_entrega_real&&`Real: ${J(z.fecha_entrega_real)}`]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción del Pedido"}),e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed",children:z.descripcion})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["nuevo"===z.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{V(z.id,"confirmado"),R(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Confirmar Pedido"]}),"confirmado"===z.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{V(z.id,"en_proceso"),R(!1)},children:[e.jsx(S,{className:"w-4 h-4"}),"Iniciar Proyecto"]}),"en_proceso"===z.estado&&e.jsxs(e.Fragment,{children:[e.jsxs($a,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{V(z.id,"en_pausa"),R(!1)},children:[e.jsx(E,{className:"w-4 h-4"}),"Pausar Proyecto"]}),e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{V(z.id,"completado"),R(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar como Completado"]})]}),"en_pausa"===z.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{V(z.id,"en_proceso"),R(!1)},children:[e.jsx(S,{className:"w-4 h-4"}),"Reanudar Proyecto"]}),e.jsxs($a,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{R(!1),W(z)},children:[e.jsx(C,{className:"w-4 h-4"}),"Editar Pedido"]}),e.jsx($a,{variant:"ghost",onClick:()=>R(!1),children:"Cerrar"})]})]})]})})}),I&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Editar Pedido #",z.numero_pedido]}),e.jsx("button",{onClick:()=>q(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción del Proyecto"}),e.jsx("textarea",{name:"descripcion",value:F.descripcion,onChange:H,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",placeholder:"Describe los detalles del proyecto..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),e.jsxs("select",{name:"estado",value:F.estado,onChange:H,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"nuevo",children:"Nuevo"}),e.jsx("option",{value:"confirmado",children:"Confirmado"}),e.jsx("option",{value:"en_proceso",children:"En Proceso"}),e.jsx("option",{value:"completado",children:"Completado"}),e.jsx("option",{value:"cancelado",children:"Cancelado"}),e.jsx("option",{value:"en_pausa",children:"En Pausa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridad"}),e.jsxs("select",{name:"prioridad",value:F.prioridad,onChange:H,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"baja",children:"Baja"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"alta",children:"Alta"}),e.jsx("option",{value:"urgente",children:"Urgente"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor Total ($)"}),e.jsx("input",{type:"number",name:"total",value:F.total,onChange:H,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Entrega Estimada"}),e.jsx("input",{type:"date",name:"fecha_entrega_estimada",value:F.fecha_entrega_estimada,onChange:H,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs($a,{variant:"primary",className:"flex items-center gap-2",onClick:async()=>{try{(await Ca(z.id,F)).data.success&&(r(s.map(e=>e.id===z.id?{...e,...F}:e)),q(!1),D(null))}catch(e){alert("Error al actualizar el pedido")}},children:[e.jsx(c,{className:"w-4 h-4"}),"Guardar Cambios"]}),e.jsx($a,{variant:"ghost",onClick:()=>q(!1),children:"Cancelar"})]})]})]})})})]})})},gt=({showNavigation:a=!0})=>{const{user:t}=qa(),[s,r]=Le.useState([]),[l,i]=Le.useState([]),[o,g]=Le.useState([]),[N,w]=Le.useState(!0),[C,S]=Le.useState("all"),[E,P]=Le.useState(""),[_,A]=Le.useState(null),[D,M]=Le.useState(!1),[R,T]=Le.useState("all"),O=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00",I=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});Le.useEffect(()=>{q()},[]);const q=async()=>{try{w(!0);const[e,a,t]=await Promise.all([Aa(),ka(),Ea()]);e.data.success&&r(e.data.data),a.data.success&&i(a.data.data),t.data.success&&g(t.data.data)}catch(e){}finally{w(!1)}},F=a=>{switch(a){case"quote":return e.jsx(v,{className:"w-5 h-5"});case"order":return e.jsx(x,{className:"w-5 h-5"});case"payment":return e.jsx(n,{className:"w-5 h-5"});default:return e.jsx(L,{className:"w-5 h-5"})}},$=e=>{switch(e){case"quote":return"bg-blue-500 text-white";case"order":return"bg-green-500 text-white";case"payment":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},B=(a,t)=>{if("quote"===t)switch(a.toLowerCase()){case"pendiente":case"nuevo":return e.jsx(j,{className:"w-4 h-4"});case"contactado":return e.jsx(c,{className:"w-4 h-4"});case"convertido a pedido":return e.jsx(z,{className:"w-4 h-4"});case"rechazado":return e.jsx(d,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}else if("order"===t)switch(a.toLowerCase()){case"pendiente":case"nuevo":return e.jsx(j,{className:"w-4 h-4"});case"en_proceso":return e.jsx(L,{className:"w-4 h-4"});case"completado":return e.jsx(c,{className:"w-4 h-4"});case"cancelado":return e.jsx(d,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}else switch(a.toLowerCase()){case"pendiente":case"nuevo":return e.jsx(j,{className:"w-4 h-4"});case"pagado":return e.jsx(c,{className:"w-4 h-4"});case"vencido":case"rechazado":return e.jsx(d,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}},V=e=>{switch(e.toLowerCase()){case"pendiente":case"nuevo":return"bg-yellow-500 text-white";case"contactado":case"en_proceso":return"bg-blue-500 text-white";case"completado":case"pagado":case"convertido a pedido":return"bg-green-500 text-white";case"cancelado":case"rechazado":case"vencido":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},W=(e=>{if("all"===R)return e;const a=new Date;let t;switch(R){case"today":t=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"week":t=new Date(a.getTime()-6048e5);break;case"month":t=new Date(a.getTime()-2592e6);break;case"quarter":t=new Date(a.getTime()-7776e6);break;default:return e}return e.filter(e=>new Date(e.date)>=t)})((()=>{const e=[];return s.forEach(a=>{e.push({id:`quote-${a.id}`,type:"quote",title:`Cotización de ${a.nombre}`,subtitle:a.tipo_servicio,description:a.descripcion,status:a.estado,date:a.createdAt,cliente:a.nombre,email:a.email,telefono:a.telefono,valor:null,rawData:a})}),l.forEach(a=>{e.push({id:`order-${a.id}`,type:"order",title:`Pedido #${a.id} - ${a.servicio}`,subtitle:`Cliente: ${a.cliente_nombre||"No especificado"}`,description:a.descripcion,status:a.estado,date:a.fecha_creacion,cliente:a.cliente_nombre,valor:a.valor,prioridad:a.prioridad,fecha_entrega:a.fecha_entrega_estimada,rawData:a})}),o.forEach(a=>{e.push({id:`payment-${a.id}`,type:"payment",title:`Pago - ${a.concepto}`,subtitle:`${O(a.monto)}`,description:`Método: ${a.metodo_pago||a.metodo||"No especificado"}`,status:a.estado,date:a.fecha_pago,cliente:a.cliente_nombre,valor:a.monto,referencia:a.referencia_transferencia,rawData:a})}),e.sort((e,a)=>new Date(a.date)-new Date(e.date))})().filter(e=>{var a,t;const s="all"===C||e.type===C,r=""===E||e.title.toLowerCase().includes(E.toLowerCase())||(null==(a=e.cliente)?void 0:a.toLowerCase().includes(E.toLowerCase()))||(null==(t=e.description)?void 0:t.toLowerCase().includes(E.toLowerCase()));return s&&r}));return N?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[a&&e.jsx(ht,{}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📚 Historial Completo"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Visualiza el historial completo de cotizaciones, pedidos y pagos en una línea de tiempo unificada"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(W,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`historial_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cotizaciones"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pedidos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pagos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:O(l.reduce((e,a)=>e+(parseFloat(a.valor)||0),0)+o.reduce((e,a)=>e+(parseFloat(a.monto)||0),0))}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar en historial...",value:E,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===C?"primary":"ghost",size:"sm",onClick:()=>S("all"),children:["Todo (",W.length,")"]}),e.jsxs($a,{variant:"quote"===C?"primary":"ghost",size:"sm",onClick:()=>S("quote"),className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Cotizaciones (",s.length,")"]}),e.jsxs($a,{variant:"order"===C?"primary":"ghost",size:"sm",onClick:()=>S("order"),className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4"}),"Pedidos (",l.length,")"]}),e.jsxs($a,{variant:"payment"===C?"primary":"ghost",size:"sm",onClick:()=>S("payment"),className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-4 h-4"}),"Pagos (",o.length,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Período:"]}),e.jsx($a,{variant:"all"===R?"secondary":"ghost",size:"sm",onClick:()=>T("all"),children:"Todo el tiempo"}),e.jsx($a,{variant:"today"===R?"secondary":"ghost",size:"sm",onClick:()=>T("today"),children:"Hoy"}),e.jsx($a,{variant:"week"===R?"secondary":"ghost",size:"sm",onClick:()=>T("week"),children:"Última semana"}),e.jsx($a,{variant:"month"===R?"secondary":"ghost",size:"sm",onClick:()=>T("month"),children:"Último mes"}),e.jsx($a,{variant:"quarter"===R?"secondary":"ghost",size:"sm",onClick:()=>T("quarter"),children:"Último trimestre"})]})]}),e.jsx("div",{className:"space-y-6",children:W.map((a,t)=>{var s,r;return e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${$(a.type)}`,children:F(a.type)}),t<W.length-1&&e.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-gray-300 to-transparent dark:from-gray-600 mt-4"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:a.title}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${V(a.status)}`,children:[B(a.status,a.type),a.status]}),a.prioridad&&e.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium "+("alta"===(null==(s=a.prioridad)?void 0:s.toLowerCase())?"bg-red-100 text-red-800":"normal"===(null==(r=a.prioridad)?void 0:r.toLowerCase())?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Prioridad ",a.prioridad]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:a.subtitle}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.cliente&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:a.cliente})]}),a.valor&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:O(a.valor)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:I(a.date)})]})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed mb-4",children:a.description}),e.jsxs($a,{variant:"ghost",size:"sm",onClick:()=>{A(a),M(!0)},className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Ver detalles"]})]})]})},a.id)})}),0===W.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(y,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay elementos en el historial"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron elementos que coincidan con los filtros seleccionados"})]}),D&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Detalles del ","quote"===_.type?"Cotización":"order"===_.type?"Pedido":"Pago"]}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${$(_.type)}`,children:[F(_.type),"quote"===_.type?"Cotización":"order"===_.type?"Pedido":"Pago"]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${V(_.status)}`,children:[B(_.status,_.type),_.status]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Título"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:_.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:I(_.date)})]}),_.cliente&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:_.cliente})]}),_.valor&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:O(_.valor)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripción"}),e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed",children:_.description})})]}),"quote"===_.type&&_.email&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email de contacto"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:_.email})]}),"payment"===_.type&&_.referencia&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:_.referencia})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t",children:e.jsx($a,{variant:"ghost",onClick:()=>M(!1),children:"Cerrar"})})]})]})})})]})})},pt=()=>{const{user:a}=qa(),[t,s]=Le.useState([]),[r,l]=Le.useState(!0),[n,i]=Le.useState("all"),[o,c]=Le.useState("all");Le.useEffect(()=>{(async()=>{try{l(!0);const e=await Ea();s(e.data||[])}catch(e){s([])}finally{l(!1)}})()},[]);const d=e=>{switch(e){case"aplicado":return"bg-green-500";case"pendiente":return"bg-yellow-500";case"procesando":return"bg-blue-500";case"rechazado":return"bg-red-500";case"cancelado":return"bg-red-600";default:return"bg-gray-500"}},x=e=>{switch(e){case"paypal":case"tarjeta":return"💳";case"transferencia":return"🏦";case"efectivo":default:return"💰";case"cheque":return"📄"}},m=t.filter(e=>{const a="all"===n||e.estado===n,t="all"===o||h(e.fecha_pago,o);return a&&t}),h=(e,a)=>{const t=new Date(e),s=new Date;switch(a){case"today":return t.toDateString()===s.toDateString();case"week":return t>=new Date(s.getTime()-6048e5);case"month":return t>=new Date(s.getTime()-2592e6);default:return!0}},u=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e),g=e=>t.filter(a=>a.estado===e).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ghost-50 via-white to-ghost-100 dark:from-ghost-800 dark:via-ghost-900 dark:to-ghost-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ghost-50 via-white to-ghost-100 dark:from-ghost-800 dark:via-ghost-900 dark:to-ghost-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-ghost-800 dark:text-ghost-100 mb-4",children:"Gestión de Pagos"}),e.jsx("p",{className:"text-lg text-ghost-600 dark:text-ghost-300 max-w-2xl",children:"Administra y monitorea todos los pagos y transacciones de tus clientes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:u(g("aplicado"))}),e.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Total Aplicado"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:u(g("pendiente"))}),e.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Pendientes"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:u(g("rechazado"))}),e.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Rechazados"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-ghost-700 dark:text-ghost-300 mb-2",children:t.length}),e.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Total Transacciones"})]})]}),e.jsx(lt,{variant:"gradient",className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx($a,{variant:"all"===n?"primary":"ghost",size:"sm",onClick:()=>i("all"),children:"Todos"}),e.jsx($a,{variant:"aplicado"===n?"success":"ghost",size:"sm",onClick:()=>i("aplicado"),children:"Aplicados"}),e.jsx($a,{variant:"pendiente"===n?"secondary":"ghost",size:"sm",onClick:()=>i("pendiente"),children:"Pendientes"}),e.jsx($a,{variant:"procesando"===n?"primary":"ghost",size:"sm",onClick:()=>i("procesando"),children:"Procesando"}),e.jsx($a,{variant:"rechazado"===n?"danger":"ghost",size:"sm",onClick:()=>i("rechazado"),children:"Rechazados"}),e.jsx($a,{variant:"cancelado"===n?"warning":"ghost",size:"sm",onClick:()=>i("cancelado"),children:"Cancelados"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx($a,{variant:"all"===o?"secondary":"ghost",size:"sm",onClick:()=>c("all"),children:"Todas las fechas"}),e.jsx($a,{variant:"today"===o?"secondary":"ghost",size:"sm",onClick:()=>c("today"),children:"Hoy"}),e.jsx($a,{variant:"week"===o?"secondary":"ghost",size:"sm",onClick:()=>c("week"),children:"Esta semana"}),e.jsx($a,{variant:"month"===o?"secondary":"ghost",size:"sm",onClick:()=>c("month"),children:"Este mes"})]})]})}),e.jsx("div",{className:"grid gap-6",children:m.map(a=>{return e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-ghost-800 dark:text-ghost-100",children:["Pago #",a.id," - ",a.clienteNombre]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${d(a.estado)}`,children:a.estado}),e.jsx("span",{className:"text-2xl",children:x(a.metodo_pago)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Monto"}),e.jsx("p",{className:"text-2xl font-bold text-ghost-800 dark:text-ghost-200",children:u(a.monto)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Método de Pago"}),e.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 font-medium",children:a.metodo_pago})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Fecha"}),e.jsx("p",{className:"text-ghost-800 dark:text-ghost-200",children:(t=a.fecha_creacion,new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Cliente"}),e.jsx("p",{className:"text-ghost-800 dark:text-ghost-200",children:a.clienteEmail})]}),a.pedidoTitulo&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"Proyecto"}),e.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 font-medium",children:a.pedidoTitulo})]}),a.transaccion_id&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:"ID Transacción"}),e.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 font-mono text-sm",children:a.transaccion_id})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400 mb-2",children:"Concepto"}),e.jsx("p",{className:"text-ghost-700 dark:text-ghost-300 leading-relaxed",children:a.concepto})]}),a.referencia_transferencia&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-ghost-600 dark:text-ghost-400 mb-2",children:"Referencia de Transferencia"}),e.jsx("p",{className:"text-ghost-700 dark:text-ghost-300 font-mono text-sm bg-ghost-100 dark:bg-ghost-700 px-3 py-2 rounded",children:a.referencia_transferencia})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-40",children:[e.jsx($a,{variant:"primary",size:"sm",className:"w-full",children:"Ver Detalles"}),"procesando"===a.estado&&e.jsx($a,{variant:"success",size:"sm",className:"w-full",children:"Aplicar"}),"pendiente"===a.estado&&e.jsx($a,{variant:"secondary",size:"sm",className:"w-full",children:"Procesar"}),e.jsx($a,{variant:"ghost",size:"sm",className:"w-full",children:"Descargar"})]})]})},a.id);var t})}),0===m.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-ghost-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsx("h3",{className:"text-xl font-semibold text-ghost-700 dark:text-ghost-300 mb-2",children:"No hay pagos"}),e.jsx("p",{className:"text-ghost-600 dark:text-ghost-400",children:"No se encontraron pagos que coincidan con los filtros seleccionados"})]})]})})},ft=()=>{const{user:a}=qa(),[t,s]=Le.useState([]),[r,l]=Le.useState(!0),[n,i]=Le.useState("all");Le.useEffect(()=>{o()},[]);const o=async()=>{try{l(!0);const e=await La();e.data.success&&s(e.data.data)}catch(e){}finally{l(!1)}},c=e=>{switch(e){case"pago_recibido":return"Pago Recibido";case"nuevo_pedido":return"Nueva Cotización";case"proyecto_completado":return"Proyecto Completado";case"pago_vencido":return"Pago Vencido";case"mensaje_cliente":return"Mensaje de Cliente";case"sistema":return"Notificación del Sistema";case"pago_pendiente":return"Pago Pendiente";default:return"Notificación"}},d=t.filter(e=>{switch(n){case"unread":return!e.leida;case"read":return e.leida;case"payments":return["pago_recibido","pago_vencido","pago_pendiente"].includes(e.tipo);case"projects":return["nuevo_pedido","proyecto_completado"].includes(e.tipo);case"messages":return"mensaje_cliente"===e.tipo;case"system":return"sistema"===e.tipo;default:return!0}}),x=e=>{const a=new Date(e),t=new Date,s=Math.abs(t-a),r=Math.ceil(s/864e5);return 1===r?"Hace 1 día":r<7?`Hace ${r} días`:a.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},m=t.filter(e=>!e.leida).length;return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(a=>e.jsx(lt,{variant:"gradient",className:"animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(nt,{variant:"circular",width:"12",height:"12"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(nt,{height:"6",width:"1/3",className:"mb-2"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"2/3"})]})]})},a))})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Centro de Notificaciones"}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:["Mantente al día con todas las actividades de tu negocio",m>0&&e.jsxs("span",{className:"ml-2 px-2 py-1 bg-red-500 text-white text-sm rounded-full",children:[m," sin leer"]})]})]}),m>0&&e.jsx($a,{variant:"primary",onClick:async()=>{try{(await Da()).data.success&&s(t.map(e=>({...e,leida:!0})))}catch(e){}},className:"whitespace-nowrap",children:"Marcar todas como leídas"})]})}),e.jsx(lt,{variant:"gradient",className:"mb-8",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===n?"primary":"ghost",size:"sm",onClick:()=>i("all"),children:["Todas (",t.length,")"]}),e.jsxs($a,{variant:"unread"===n?"primary":"ghost",size:"sm",onClick:()=>i("unread"),children:["Sin leer (",m,")"]}),e.jsx($a,{variant:"payments"===n?"primary":"ghost",size:"sm",onClick:()=>i("payments"),children:"Pagos"}),e.jsx($a,{variant:"projects"===n?"primary":"ghost",size:"sm",onClick:()=>i("projects"),children:"Proyectos"}),e.jsx($a,{variant:"messages"===n?"primary":"ghost",size:"sm",onClick:()=>i("messages"),children:"Mensajes"}),e.jsx($a,{variant:"system"===n?"primary":"ghost",size:"sm",onClick:()=>i("system"),children:"Sistema"})]})}),e.jsx("div",{className:"space-y-4",children:d.map(a=>{const{icon:r,color:l}=(e=>{switch(e){case"pago_recibido":return{icon:"💰",color:"text-green-600 bg-green-100 dark:bg-green-900/20"};case"nuevo_pedido":return{icon:"📋",color:"text-blue-600 bg-blue-100 dark:bg-blue-900/20"};case"proyecto_completado":return{icon:"✅",color:"text-green-600 bg-green-100 dark:bg-green-900/20"};case"pago_vencido":return{icon:"⚠️",color:"text-red-600 bg-red-100 dark:bg-red-900/20"};case"mensaje_cliente":return{icon:"💬",color:"text-purple-600 bg-purple-100 dark:bg-purple-900/20"};case"sistema":return{icon:"⚙️",color:"text-gray-600 bg-gray-100 dark:bg-gray-900/20"};case"pago_pendiente":return{icon:"⏰",color:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20"};default:return{icon:"📢",color:"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}}})(a.tipo);return e.jsxs(lt,{variant:"gradient",hover:!0,className:"group cursor-pointer transition-all duration-300 "+(a.leida?"":"ring-2 ring-blue-200 dark:ring-blue-800 bg-blue-50/30 dark:bg-blue-900/10"),onClick:()=>{return!a.leida&&(e=a.id,void s(a=>a.map(a=>a.id===e?{...a,leida:!0}:a)));var e},children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${l} flex-shrink-0`,children:e.jsx("span",{className:"text-xl",children:r})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsx("h3",{className:"font-semibold "+(a.leida?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-gray-100"),children:c(a.tipo)}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:x(a.fecha)}),!a.leida&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),e.jsx("p",{className:"leading-relaxed "+(a.leida?"text-gray-600 dark:text-gray-400":"text-gray-800 dark:text-gray-200"),children:a.mensaje})]})]}),!a.leida&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsx($a,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),(async e=>{try{(await za(e)).data.success&&s(t.map(a=>a.id===e?{...a,leida:!0}:a))}catch(a){}})(a.id)},children:"Marcar como leída"})})]},a.id)})}),0===d.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 01-7.5-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===n?"No tienes notificaciones en este momento":`No hay notificaciones que coincidan con el filtro "${n}"`})]})]})})},bt=({stats:a,formatCurrency:t})=>{const s=[{title:"Total Clientes",value:a.totalClients||0,color:"text-blue-600",subtitle:`+${a.newClientsThisMonth||0} este mes`,subtitleColor:"text-green-600"},{title:"Ingresos del Mes",value:t(a.monthlyRevenue||0),color:"text-green-600",subtitle:"↗️ +15% vs mes anterior",subtitleColor:"text-green-600"},{title:"Proyectos Activos",value:a.activeProjects||0,color:"text-yellow-600",subtitle:`${a.pendingQuotes||0} cotizaciones pendientes`,subtitleColor:"text-blue-600"},{title:"Proyectos Completados",value:a.completedProjects||0,color:"text-purple-600",subtitle:`Promedio: ${t(a.averageProjectValue||0)}`,subtitleColor:"text-ghost-600 dark:text-ghost-400"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.map((a,t)=>e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:`text-4xl font-bold ${a.color} mb-2`,children:a.value}),e.jsx("div",{className:"text-sm text-ghost-600 dark:text-ghost-400",children:a.title}),e.jsx("div",{className:`text-xs mt-1 ${a.subtitleColor}`,children:a.subtitle})]},t))})};bt.propTypes={stats:ia.object.isRequired,formatCurrency:ia.func.isRequired};const jt=({stats:a,formatCurrency:t,className:s=""})=>{const[r,l]=Le.useState("month"),[n,i]=Le.useState({}),[o,c]=Le.useState(null),[d,x]=Le.useState({});Le.useEffect(()=>{(async()=>{var e,a;try{const[t,s]=await Promise.all([ja.get("/api/stats/monthly?months=2"),ja.get("/api/stats/growth?months=6")]);if(null==(e=t.data)?void 0:e.success){const e=t.data.data;if(c(e),e.length>=2){const a=e[0],t=e[1],s=t.revenue>0?((a.revenue-t.revenue)/t.revenue*100).toFixed(1):0,r=t.newClients>0?((a.newClients-t.newClients)/t.newClients*100).toFixed(1):0;x({revenueGrowth:parseFloat(s),clientGrowth:parseFloat(r),previousRevenue:t.revenue,previousClients:t.newClients})}}null==(a=s.data)||a.success}catch(t){}})()},[]),Le.useEffect(()=>{const e=(e,a)=>{let t=n[e]||0;const s=Date.now(),r=()=>{const l=Date.now()-s,n=Math.min(l/1500,1),o=1-Math.pow(1-n,4),c=t+(a-t)*o;i(a=>({...a,[e]:Math.round(c)})),n<1&&requestAnimationFrame(r)};requestAnimationFrame(r)};void 0!==a.totalClients&&(e("totalClients",a.totalClients),e("activeProjects",a.activeProjects||0),e("completedProjects",a.completedProjects||0),e("monthlyRevenue",a.monthlyRevenue||0))},[a,n]);const h=[{id:"growth",title:"Crecimiento",metrics:[{label:"Nuevos Clientes",value:a.newClientsThisMonth||0,change:void 0!==d.clientGrowth?`${d.clientGrowth>=0?"+":""}${d.clientGrowth}% vs mes anterior`:`Total: ${a.totalClients||0}`,trend:d.clientGrowth>=0?"up":"down",icon:D,color:"text-blue-600 dark:text-blue-400"},{label:"Ingresos del Mes",value:t(n.monthlyRevenue||0),change:void 0!==d.revenueGrowth?`${d.revenueGrowth>=0?"+":""}${d.revenueGrowth}% vs mes anterior`:"Sin datos previos",trend:d.revenueGrowth>=0?"up":"down",icon:m,color:"text-green-600 dark:text-green-400"}]},{id:"performance",title:"Rendimiento",metrics:[{label:"Tasa de Conversión",value:a.totalClients>0?(a.completedProjects/a.totalClients*100).toFixed(1)+"%":"0%",change:a.pendingQuotes>0?`${a.pendingQuotes} pendientes`:"Sin pendientes",trend:a.completedProjects>a.activeProjects?"up":"down",icon:_,color:"text-purple-600 dark:text-purple-400"},{label:"Valor Promedio Proyecto",value:t(a.averageProjectValue||0),change:a.completedProjects>0?`${a.completedProjects} completados`:"Sin datos",trend:"up",icon:A,color:"text-orange-600 dark:text-orange-400"}]},{id:"efficiency",title:"Eficiencia",metrics:[{label:"Proyectos Activos",value:n.activeProjects||0,change:`vs ${a.completedProjects||0} completados`,trend:a.activeProjects>0?"up":"down",icon:p,color:"text-yellow-600 dark:text-yellow-400"},{label:"Pagos Pendientes",value:t(a.pendingPayments||0),change:a.pendingPayments>0?"Requiere atención":"Todo al día",trend:a.pendingPayments>0?"down":"up",icon:m,color:a.pendingPayments>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}]}];return e.jsxs("div",{className:`space-y-6 ${s}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Estadísticas Avanzadas"}),e.jsx("div",{className:"flex space-x-2",children:["week","month","quarter","year"].map(a=>e.jsx("button",{onClick:()=>l(a),className:"px-3 py-1 text-sm font-medium rounded-lg transition-colors "+(r===a?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"week"===a?"Semana":"month"===a?"Mes":"quarter"===a?"Trimestre":"Año"},a))})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:h.map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-100 dark:border-gray-700 pb-2",children:a.title}),e.jsx("div",{className:"space-y-4",children:a.metrics.map((a,t)=>{const s=a.icon,r="up"===a.trend;return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(s,{className:`w-4 h-4 ${a.color}`}),e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a.label})]}),e.jsx("div",{className:"flex items-center space-x-1",children:"up"===a.trend?e.jsx(A,{className:"w-3 h-3 text-green-500"}):"down"===a.trend?e.jsx(M,{className:"w-3 h-3 text-red-500"}):null})]}),e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("span",{className:`text-2xl font-bold ${a.color} group-hover:scale-105 transition-transform`,children:a.value}),e.jsx("span",{className:"text-xs font-medium "+(r?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"),children:a.change})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-1000 "+(r?"bg-green-500":"bg-blue-500"),style:{width:`${Math.min(Math.max(("number"==typeof a.value?a.value:parseInt(a.value)||0)/100*100,10),100)}%`}})})]},t)})})]},a.id))}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-blue-600"}),"Resumen Ejecutivo"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[(a.completedProjects/Math.max(a.totalClients,1)*100).toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasa de Éxito"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:t((a.monthlyRevenue||0)/Math.max(a.completedProjects,1))}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ingreso por Proyecto"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:a.activeProjects+a.completedProjects}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Proyectos"})]})]})]})]})};jt.propTypes={stats:ia.object.isRequired,formatCurrency:ia.func.isRequired,className:ia.string};const vt=({stats:a,recentActivity:t,formatCurrency:s})=>{const[r,l]=Le.useState("revenue"),[n,i]=Le.useState({}),[o,c]=Le.useState(!0),[d,x]=Le.useState("");Le.useEffect(()=>{(async()=>{try{c(!0);const e=await ja.get("/api/stats/monthly?months=6"),t=await ja.get("/api/stats/growth?months=6");if(!e.data.success||!t.data.success)throw new Error("Error al obtener datos históricos");{const s=e.data.data,r=t.data.data,l=s.map(e=>({month:e.monthName,revenue:e.revenue,clients:e.newClients,projects:e.activeProjects})),n=r.map(e=>({month:e.monthName,accumulated:e.accumulatedClients,newClients:e.newClients}));i({revenue:l,projectsStatus:[{name:"Completados",value:a.completedProjects||0,color:"#10B981"},{name:"Activos",value:a.activeProjects||0,color:"#3B82F6"},{name:"Pendientes",value:a.pendingQuotes||0,color:"#F59E0B"}],clientsGrowth:n})}}catch(e){x("Error al cargar datos históricos"),i({})}finally{c(!1)}})()},[a]);const m=[{id:"revenue",label:"Ingresos",icon:A},{id:"projects",label:"Proyectos",icon:T},{id:"clients",label:"Clientes",icon:R}];return o?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(R,{className:"w-6 h-6 mr-2 text-blue-600"}),"Análisis Visual"]})}),e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Cargando datos históricos..."})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(R,{className:"w-6 h-6 mr-2 text-blue-600"}),"Análisis Visual",d&&e.jsx("span",{className:"ml-2 text-xs text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 px-2 py-1 rounded",children:"Datos históricos limitados"})]}),e.jsxs("button",{onClick:()=>{const e={stats:a,chartData:n,exportDate:(new Date).toISOString(),type:r},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),l=document.createElement("a");l.href=s,l.download=`estadisticas-${r}-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Exportar Datos"]})]}),e.jsx("div",{className:"flex space-x-2 mb-6",children:m.map(a=>{const t=a.icon;return e.jsxs("button",{onClick:()=>l(a.id),className:"flex items-center px-4 py-2 rounded-lg font-medium transition-colors "+(r===a.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e.jsx(t,{className:"w-4 h-4 mr-2"}),a.label]},a.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["revenue"===r&&"Evolución de Ingresos (6 meses)","projects"===r&&"Distribución de Proyectos","clients"===r&&"Crecimiento Acumulado de Clientes"]}),e.jsxs("div",{className:"flex justify-center",children:["revenue"===r&&n.revenue&&e.jsx(yt,{type:"line",data:n.revenue,width:400,height:250}),"projects"===r&&n.projectsStatus&&e.jsx(Nt,{data:n.projectsStatus,width:300,height:250}),"clients"===r&&n.clientsGrowth&&e.jsx(yt,{type:"line",data:n.clientsGrowth.map(e=>({month:e.month,revenue:e.accumulated,clients:e.newClients})),width:400,height:250})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-green-600"}),"Insights Clave"]}),e.jsxs("div",{className:"space-y-4",children:["revenue"===r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-semibold text-green-800 dark:text-green-400",children:"Ingresos del Mes"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-300",children:s(a.monthlyRevenue||0)}),e.jsx("div",{className:"text-sm text-green-700 dark:text-green-400",children:"Promedio mensual en los últimos 6 meses"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-semibold text-blue-800 dark:text-blue-400",children:"Proyección Anual"}),e.jsx("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-300",children:s(12*(a.monthlyRevenue||0))}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Basado en ingresos actuales"})]})]}),"projects"===r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-semibold text-purple-800 dark:text-purple-400",children:"Tasa de Finalización"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-300",children:a.completedProjects>0?(a.completedProjects/(a.completedProjects+a.activeProjects)*100).toFixed(1)+"%":"0%"}),e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-400",children:"Proyectos completados vs total"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[e.jsx("div",{className:"font-semibold text-orange-800 dark:text-orange-400",children:"En Pipeline"}),e.jsx("div",{className:"text-xl font-bold text-orange-900 dark:text-orange-300",children:(a.activeProjects||0)+(a.pendingQuotes||0)}),e.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-400",children:"Proyectos activos + cotizaciones"})]})]}),"clients"===r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:[e.jsx("div",{className:"font-semibold text-cyan-800 dark:text-cyan-400",children:"Crecimiento de Clientes"}),e.jsxs("div",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-300",children:["+",a.newClientsThisMonth||0]}),e.jsx("div",{className:"text-sm text-cyan-700 dark:text-cyan-400",children:"Nuevos este mes"})]}),e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-semibold text-indigo-800 dark:text-indigo-400",children:"Total Acumulado"}),e.jsx("div",{className:"text-xl font-bold text-indigo-900 dark:text-indigo-300",children:a.totalClients||0}),e.jsx("div",{className:"text-sm text-indigo-700 dark:text-indigo-400",children:"Clientes registrados"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Actividad Reciente"]}),(null==t?void 0:t.slice(0,3).map((a,t)=>e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["• ",a.message]},t)))||e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"No hay actividad reciente"})]})]})]})]})]})},yt=({type:a,data:t,width:s,height:r})=>{if(!t||0===t.length)return e.jsx("div",{children:"No hay datos disponibles"});const l=Math.max(...t.map(e=>e.revenue||e.clients||0));if(0===l||!isFinite(l))return e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No hay datos para mostrar"})});const n=r-60,i=s-60;return e.jsxs("svg",{width:s,height:r,className:"overflow-visible",children:[e.jsx("line",{x1:40,y1:20,x2:40,y2:n+20,stroke:"currentColor",strokeOpacity:.3}),e.jsx("line",{x1:40,y1:n+20,x2:i+40,y2:n+20,stroke:"currentColor",strokeOpacity:.3}),"line"===a?e.jsxs(e.Fragment,{children:[e.jsx("polyline",{fill:"none",stroke:"#3B82F6",strokeWidth:"3",points:t.map((e,a)=>`${t.length>1?40+a*(i/(t.length-1)):40+i/2},${20+n-(e.revenue||0)/l*n}`).join(" ")}),t.map((a,s)=>{const r=t.length>1?40+s*(i/(t.length-1)):40+i/2,o=20+n-(a.revenue||0)/l*n;return e.jsx("circle",{cx:r,cy:o,r:"4",fill:"#3B82F6"},s)})]}):t.map((a,s)=>{const r=i/t.length-20,o=(a.revenue||0)/l*n;return e.jsx("rect",{x:40+s*(i/t.length)+10,y:20+n-o,width:r,height:o,fill:"#3B82F6",opacity:.8},s)}),t.map((a,s)=>{const l=t.length>1?40+s*(i/(t.length-1)):40+i/2;return e.jsx("text",{x:l,y:r-10,textAnchor:"middle",fontSize:"12",fill:"currentColor",opacity:.7,children:a.month},s)})]})};yt.propTypes={type:ia.string.isRequired,data:ia.array.isRequired,width:ia.number.isRequired,height:ia.number.isRequired};const Nt=({data:a,width:t,height:s})=>{if(!a||0===a.length)return e.jsx("div",{children:"No hay datos disponibles"});const r=a.reduce((e,a)=>e+a.value,0);if(0===r)return e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No hay datos para mostrar"})});const l=t/2,n=s/2,i=Math.min(t,s)/2-20;let o=0;return e.jsx("svg",{width:t,height:s,children:a.map((a,t)=>{const s=a.value/r*2*Math.PI,c=o,d=o+s,x=l+i*Math.cos(c),m=n+i*Math.sin(c),h=l+i*Math.cos(d),u=n+i*Math.sin(d),g=s>Math.PI?1:0,p=`M ${l} ${n} L ${x} ${m} A ${i} ${i} 0 ${g} 1 ${h} ${u} Z`;return o=d,e.jsx("path",{d:p,fill:a.color,opacity:.8,stroke:"white",strokeWidth:"2"},t)})})};Nt.propTypes={data:ia.array.isRequired,width:ia.number.isRequired,height:ia.number.isRequired},vt.propTypes={stats:ia.object.isRequired,recentActivity:ia.array,formatCurrency:ia.func.isRequired};const wt=({recentActivity:a,formatDate:t,getActivityIcon:s,getActivityColor:r})=>e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-ghost-800 dark:text-ghost-100",children:"Actividad Reciente"}),e.jsx($a,{variant:"ghost",size:"sm",children:"Ver todo"})]}),e.jsx("div",{className:"space-y-4",children:Array.isArray(a)&&a.length>0?a.map(a=>e.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-lg border-l-4 ${r(a.priority)}`,children:[e.jsx("div",{className:"text-2xl flex-shrink-0",children:s(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-ghost-800 dark:text-ghost-200 leading-relaxed",children:a.message}),e.jsx("p",{className:"text-sm text-ghost-500 dark:text-ghost-400 mt-1",children:t(a.time)})]})]},a.id)):e.jsxs("div",{className:"text-center py-8 text-ghost-500 dark:text-ghost-400",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📭"}),e.jsx("p",{children:"No hay actividad reciente"})]})})]});wt.propTypes={recentActivity:ia.array.isRequired,formatDate:ia.func.isRequired,getActivityIcon:ia.func.isRequired,getActivityColor:ia.func.isRequired};const kt=({topClients:a,formatCurrency:t})=>e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-ghost-800 dark:text-ghost-100",children:"Mejores Clientes"}),e.jsx($a,{variant:"ghost",size:"sm",children:"Ver más"})]}),e.jsx("div",{className:"space-y-4",children:Array.isArray(a)&&a.length>0?a.map((a,s)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-ghost-50 dark:bg-ghost-700/30",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold",children:s+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-ghost-800 dark:text-ghost-200 truncate",children:a.name}),e.jsx("p",{className:"text-sm text-ghost-500 dark:text-ghost-400 truncate",children:a.email}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:t(a.totalSpent)}),e.jsxs("span",{className:"text-xs text-ghost-500 dark:text-ghost-400",children:[a.projectsCount," proyectos"]})]})]})]},a.id)):e.jsxs("div",{className:"text-center py-8 text-ghost-500 dark:text-ghost-400",children:[e.jsx("div",{className:"text-4xl mb-4",children:"👥"}),e.jsx("p",{children:"No hay clientes registrados"})]})})]});kt.propTypes={topClients:ia.array.isRequired,formatCurrency:ia.func.isRequired};const Ct=({onActionClick:a})=>e.jsx("div",{className:"mt-8",children:e.jsxs(lt,{variant:"gradient",children:[e.jsx("h2",{className:"text-xl font-semibold text-ghost-800 dark:text-ghost-100 mb-6",children:"Acciones Rápidas"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"new_quote",icon:"📋",label:"Nueva Cotización",variant:"primary"},{id:"add_client",icon:"👤",label:"Agregar Cliente",variant:"secondary"},{id:"register_payment",icon:"💰",label:"Registrar Pago",variant:"accent"},{id:"view_reports",icon:"📊",label:"Ver Reportes",variant:"ghost"}].map(t=>e.jsxs($a,{variant:t.variant,className:"h-20 flex flex-col items-center justify-center gap-2",onClick:()=>a&&a(t.id),children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("span",{children:t.label})]},t.id))})]})});Ct.propTypes={onActionClick:ia.func};const St=({stats:a,formatCurrency:t,onViewPayments:s})=>!a.pendingPayments||a.pendingPayments<=0?null:e.jsx("div",{className:"mt-8",children:e.jsx(lt,{variant:"accent",className:"border-l-4 border-l-yellow-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-3xl",children:"⚠️"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-ghost-800 dark:text-ghost-100",children:"Pagos Pendientes"}),e.jsxs("p",{className:"text-ghost-600 dark:text-ghost-300",children:["Tienes ",t(a.pendingPayments)," en pagos pendientes"]})]})]}),e.jsx($a,{variant:"primary",onClick:s,children:"Revisar Pagos"})]})})});St.propTypes={stats:ia.object.isRequired,formatCurrency:ia.func.isRequired,onViewPayments:ia.func};const Et=({isOpen:a,onClose:r,onSave:n,user:i})=>{const[o,c]=Le.useState({}),[d,x]=Le.useState(null);if(Le.useEffect(()=>{c(i?{nombre:i.nombre||"",email:i.email||"",telefono:i.telefono||"",direccion:i.direccion||"",empresa:i.empresa||"",rfc:i.rfc||"",rol:i.rol||"cliente",estado:i.estado||"activo"}:{nombre:"",email:"",password:"",telefono:"",direccion:"",empresa:"",rfc:"",rol:"cliente",estado:"activo"})},[i]),!a)return null;const m=e=>{const{name:a,value:t}=e.target;c(e=>({...e,[a]:t}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md m-4",children:e.jsxs("form",{onSubmit:async e=>{var a,t;e.preventDefault(),x(null);try{await n(o),r()}catch(s){x((null==(t=null==(a=s.response)?void 0:a.data)?void 0:t.message)||"Ocurrió un error al guardar.")}},children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:i?"Editar Usuario":"Crear Nuevo Usuario"}),e.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d&&e.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",children:[e.jsx("p",{className:"font-bold",children:"Error"}),e.jsx("p",{children:d})]}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"nombre",value:o.nombre,onChange:m,placeholder:"Nombre Completo",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(t,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:m,placeholder:"Correo Electrónico",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),!i&&e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"password",name:"password",value:o.password,onChange:m,placeholder:"Contraseña",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(s,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"tel",name:"telefono",value:o.telefono,onChange:m,placeholder:"Teléfono",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("textarea",{name:"direccion",value:o.direccion,onChange:m,placeholder:"Dirección completa",rows:"2",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"empresa",value:o.empresa,onChange:m,placeholder:"Empresa",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"rfc",value:o.rfc,onChange:m,placeholder:"RFC",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"rol",value:o.rol,onChange:m,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"admin",children:"Administrador"}),e.jsx("option",{value:"cliente",children:"Cliente"}),e.jsx("option",{value:"empleado",children:"Empleado"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"estado",value:o.estado,onChange:m,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"activo",children:"Activo"}),e.jsx("option",{value:"inactivo",children:"Inactivo"}),e.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-slate-600 dark:text-gray-200 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"Guardar Cambios"})]})]})})})};Et.propTypes={isOpen:ia.bool.isRequired,onClose:ia.func.isRequired,onSave:ia.func.isRequired,user:ia.object};const Pt=({isOpen:a,onClose:t,onSave:s,order:r,clients:n})=>{const[i,o]=Le.useState({}),[c,d]=Le.useState(null);if(Le.useEffect(()=>{o(r?{cliente_id:r.cliente_id||"",descripcion:r.descripcion||"",total:r.total||"",subtotal:r.subtotal||"",descuento:r.descuento||0,iva:r.iva||"",anticipo:r.anticipo||0,prioridad:r.prioridad||"normal",estado:r.estado||"nuevo",fecha_entrega_estimada:r.fecha_entrega_estimada?new Date(r.fecha_entrega_estimada).toISOString().split("T")[0]:"",notas_internas:r.notas_internas||""}:{cliente_id:"",descripcion:"",total:"",subtotal:"",descuento:0,iva:"",anticipo:0,prioridad:"normal",estado:"nuevo",fecha_entrega_estimada:"",notas_internas:""})},[r]),!a)return null;const h=e=>{const{name:a,value:t}=e.target;o(e=>({...e,[a]:t}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md m-4",children:e.jsxs("form",{onSubmit:async e=>{var a,r;e.preventDefault(),d(null);try{await s(i),t()}catch(l){d((null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.message)||"Ocurrió un error al guardar el pedido.")}},children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:r?"Editar Pedido":"Crear Nuevo Pedido"}),e.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[c&&e.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",children:[e.jsx("p",{className:"font-bold",children:"Error"}),e.jsx("p",{children:c})]}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"cliente_id",value:i.cliente_id,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Seleccionar Cliente"}),n.map(a=>e.jsx("option",{value:a.id,children:a.nombre},a.id))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"descripcion",value:i.descripcion,onChange:h,placeholder:"Descripción del Pedido",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",name:"subtotal",value:i.subtotal,onChange:h,placeholder:"Subtotal",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",name:"descuento",value:i.descuento,onChange:h,placeholder:"Descuento",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",name:"iva",value:i.iva,onChange:h,placeholder:"IVA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",name:"anticipo",value:i.anticipo,onChange:h,placeholder:"Anticipo",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",name:"total",value:i.total,onChange:h,placeholder:"Total",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"prioridad",value:i.prioridad,onChange:h,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"baja",children:"Baja"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"alta",children:"Alta"}),e.jsx("option",{value:"urgente",children:"Urgente"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"estado",value:i.estado,onChange:h,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"nuevo",children:"Nuevo"}),e.jsx("option",{value:"confirmado",children:"Confirmado"}),e.jsx("option",{value:"en_proceso",children:"En Proceso"}),e.jsx("option",{value:"completado",children:"Completado"}),e.jsx("option",{value:"cancelado",children:"Cancelado"}),e.jsx("option",{value:"en_pausa",children:"En Pausa"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"date",name:"fecha_entrega_estimada",value:i.fecha_entrega_estimada,onChange:h,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("textarea",{name:"notas_internas",value:i.notas_internas,onChange:h,placeholder:"Notas internas (opcional)",rows:"3",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white resize-none"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-slate-600 dark:text-gray-200 dark:hover:bg-slate-500 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"Guardar Cambios"})]})]})})})};Pt.propTypes={isOpen:ia.bool.isRequired,onClose:ia.func.isRequired,onSave:ia.func.isRequired,order:ia.object,clients:ia.array.isRequired};const _t=({isOpen:a,onClose:t,onSave:s,payment:r,clients:i,orders:o})=>{const[c,d]=Le.useState({}),[h,u]=Le.useState(null);if(Le.useEffect(()=>{d(r?{cliente_id:r.cliente_id||"",tipo:r.tipo||"total",estado:r.estado||"pendiente",monto:r.monto||"",moneda:r.moneda||"MXN",tipo_cambio:r.tipo_cambio||1,metodo_pago:r.metodo_pago||"tarjeta",referencia:r.referencia||"",banco_origen:r.banco_origen||"",cuenta_destino:r.cuenta_destino||"",fecha_pago:r.fecha_pago?new Date(r.fecha_pago).toISOString().split("T")[0]:"",concepto:r.concepto||"",notas:r.notas||""}:{cliente_id:"",tipo:"total",estado:"pendiente",monto:"",moneda:"MXN",tipo_cambio:1,metodo_pago:"tarjeta",referencia:"",banco_origen:"",cuenta_destino:"",fecha_pago:"",concepto:"",notas:""})},[r]),!a)return null;const g=e=>{const{name:a,value:t}=e.target;d(e=>({...e,[a]:t}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md m-4",children:e.jsxs("form",{onSubmit:async e=>{var a,r;e.preventDefault(),u(null);try{await s(c),t()}catch(l){u((null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.message)||"Ocurrió un error al guardar el pago.")}},children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:r?"Editar Pago":"Crear Nuevo Pago"}),e.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[h&&e.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",children:[e.jsx("p",{className:"font-bold",children:"Error"}),e.jsx("p",{children:h})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"cliente_id",value:c.cliente_id,onChange:g,required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Seleccionar Cliente"}),i.map(a=>e.jsx("option",{value:a.id,children:a.nombre},a.id))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"tipo",value:c.tipo,onChange:g,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"anticipo",children:"Anticipo"}),e.jsx("option",{value:"parcial",children:"Parcial"}),e.jsx("option",{value:"total",children:"Total"}),e.jsx("option",{value:"devolucion",children:"Devolución"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"concepto",value:c.concepto,onChange:g,placeholder:"Concepto del Pago",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",step:"0.01",name:"monto",value:c.monto,onChange:g,placeholder:"Monto",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"moneda",value:c.moneda,onChange:g,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"MXN",children:"MXN"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"number",step:"0.0001",name:"tipo_cambio",value:c.tipo_cambio,onChange:g,placeholder:"Tipo de Cambio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"metodo_pago",value:c.metodo_pago,onChange:g,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"efectivo",children:"Efectivo"}),e.jsx("option",{value:"transferencia",children:"Transferencia"}),e.jsx("option",{value:"tarjeta",children:"Tarjeta"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"otro",children:"Otro"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{name:"estado",value:c.estado,onChange:g,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg appearance-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"pendiente",children:"Pendiente"}),e.jsx("option",{value:"procesando",children:"Procesando"}),e.jsx("option",{value:"aplicado",children:"Aplicado"}),e.jsx("option",{value:"rechazado",children:"Rechazado"}),e.jsx("option",{value:"cancelado",children:"Cancelado"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"referencia",value:c.referencia,onChange:g,placeholder:"Referencia/No. Transacción",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"date",name:"fecha_pago",value:c.fecha_pago,onChange:g,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"banco_origen",value:c.banco_origen,onChange:g,placeholder:"Banco Origen",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",name:"cuenta_destino",value:c.cuenta_destino,onChange:g,placeholder:"Cuenta Destino",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("textarea",{name:"notas",value:c.notas,onChange:g,placeholder:"Notas adicionales (opcional)",rows:"3",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white resize-none"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-t flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 text-white rounded-lg",children:"Guardar Cambios"})]})]})})})};_t.propTypes={isOpen:ia.bool.isRequired,onClose:ia.func.isRequired,onSave:ia.func.isRequired,payment:ia.object,clients:ia.array.isRequired,orders:ia.array.isRequired};const At=({isOpen:a,onClose:t})=>{const[s,r]=Le.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[n,i]=Le.useState(null),[o,c]=Le.useState(null);if(!a)return null;const d=e=>{const{name:a,value:t}=e.target;r(e=>({...e,[a]:t}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md m-4",children:e.jsxs("form",{onSubmit:async e=>{var a,l,n;if(e.preventDefault(),i(null),c(null),s.newPassword===s.confirmPassword)try{const e=await(n={oldPassword:s.oldPassword,newPassword:s.newPassword},ja.post("/api/auth/change-password",n));c(e.data.message),r({oldPassword:"",newPassword:"",confirmPassword:""}),setTimeout(t,2e3)}catch(o){i((null==(l=null==(a=o.response)?void 0:a.data)?void 0:l.message)||"Ocurrió un error al cambiar la contraseña.")}else i("Las contraseñas nuevas no coinciden.")},children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Cambiar Contraseña"}),e.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Cerrar modal",children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[n&&e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",children:e.jsx("p",{children:n})}),o&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-md",children:e.jsx("p",{children:o})}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"password",name:"oldPassword",value:s.oldPassword,onChange:d,placeholder:"Contraseña Actual",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"password",name:"newPassword",value:s.newPassword,onChange:d,placeholder:"Nueva Contraseña",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:d,placeholder:"Confirmar Nueva Contraseña",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-t flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 text-white rounded-lg",children:"Cambiar Contraseña"})]})]})})})};At.propTypes={isOpen:ia.bool.isRequired,onClose:ia.func.isRequired};const Lt=({showNavigation:a=!0})=>{const[l,n]=Le.useState([]),[i,o]=Le.useState(!0),[x,m]=Le.useState("all"),[v,y]=Le.useState("all"),[N,S]=Le.useState(""),[E,_]=Le.useState(null),[A,L]=Le.useState(!1),[z,M]=Le.useState(!1),[R,T]=Le.useState({}),[O,I]=Le.useState(!1),[q,F]=Le.useState({});Le.useEffect(()=>{$()},[]);const $=async()=>{try{o(!0);const e=await va();if(e.data.success){const a=e.data.data.filter(e=>"admin"!==e.rol);n(a)}}catch(e){}finally{o(!1)}},W=async(e,a)=>{try{const t=l.find(a=>a.id===e);(await Na(e,{estado:a,rol:(null==t?void 0:t.rol)||"cliente"})).data.success&&n(l.map(t=>t.id===e?{...t,estado:a}:t))}catch(t){}},H=e=>{T({id:e.id,nombre:e.nombre||"",email:e.email||"",telefono:e.telefono||"",empresa:e.empresa||"",direccion:e.direccion||"",estado:e.estado||"activo",rol:e.rol||"cliente"}),M(!0)},U=()=>{M(!1),T({})},G=(e,a)=>{T(t=>({...t,[e]:a}))},Y=(e,a)=>{F(t=>({...t,[e]:a}))},X=()=>{I(!1),F({})},K=a=>{switch(a){case"activo":return e.jsx(c,{className:"w-4 h-4"});case"inactivo":return e.jsx(d,{className:"w-4 h-4"});case"bloqueado":return e.jsx(j,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}},J=e=>{switch(e){case"activo":return"bg-green-500 text-white";case"inactivo":return"bg-red-500 text-white";case"bloqueado":return"bg-yellow-500 text-white";default:return"bg-gray-500 text-white"}},Z=a=>{switch(a){case"admin":return e.jsx(V,{className:"w-4 h-4"});case"cliente":return e.jsx(k,{className:"w-4 h-4"});default:return e.jsx(D,{className:"w-4 h-4"})}},Q=e=>{switch(e){case"admin":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"cliente":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"empleado":return"text-green-600 bg-green-100 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100"}},ee=l.filter(e=>{var a,t,s;const r="all"===x||e.estado===x,l="all"===v||e.rol===v,n=""===N||(null==(a=e.nombre)?void 0:a.toLowerCase().includes(N.toLowerCase()))||(null==(t=e.email)?void 0:t.toLowerCase().includes(N.toLowerCase()))||(null==(s=e.telefono)?void 0:s.toLowerCase().includes(N.toLowerCase()));return r&&l&&n}),ae=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada";return i?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"👥 Ver Clientes"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Visualiza y administra toda la información de tus clientes registrados"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(ee,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`clientes_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>{F({nombre:"",email:"",telefono:"",empresa:"",direccion:"",estado:"activo",rol:"cliente",password:""}),I(!0)},className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nuevo Cliente"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.filter(e=>"activo"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:l.filter(e=>"bloqueado"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bloqueados"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:l.filter(e=>"inactivo"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inactivos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:l.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o teléfono...",value:N,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===x?"primary":"ghost",size:"sm",onClick:()=>m("all"),children:["Todos (",l.length,")"]}),e.jsxs($a,{variant:"activo"===x?"primary":"ghost",size:"sm",onClick:()=>m("activo"),children:["Activos (",l.filter(e=>"activo"===e.estado).length,")"]}),e.jsxs($a,{variant:"bloqueado"===x?"primary":"ghost",size:"sm",onClick:()=>m("bloqueado"),children:["Bloqueados (",l.filter(e=>"bloqueado"===e.estado).length,")"]}),e.jsxs($a,{variant:"inactivo"===x?"primary":"ghost",size:"sm",onClick:()=>m("inactivo"),children:["Inactivos (",l.filter(e=>"inactivo"===e.estado).length,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),e.jsx($a,{variant:"all"===v?"secondary":"ghost",size:"sm",onClick:()=>y("all"),children:"Todos"}),e.jsxs($a,{variant:"cliente"===v?"secondary":"ghost",size:"sm",onClick:()=>y("cliente"),children:["Clientes (",l.filter(e=>"cliente"===e.rol).length,")"]}),e.jsxs($a,{variant:"empleado"===v?"secondary":"ghost",size:"sm",onClick:()=>y("empleado"),children:["Empleados (",l.filter(e=>"empleado"===e.rol).length,")"]})]})]}),e.jsx("div",{className:"grid gap-6",children:ee.map(a=>e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(k,{className:"w-5 h-5 inline mr-2"}),a.nombre||a.username||"Sin nombre"]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${J(a.estado||"inactivo")}`,children:[K(a.estado||"inactivo"),"activo"===a.estado?"Activo":"inactivo"===a.estado?"Inactivo":"Bloqueado"]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${Q(a.rol)}`,children:[Z(a.rol),"cliente"===a.rol?"Cliente":"empleado"===a.rol?"Empleado":a.rol]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:a.email||"No especificado"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(s,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"font-medium",children:a.telefono||"No especificado"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Empresa"}),e.jsx("p",{className:"font-medium",children:a.empresa||"No especificada"})]})]})]}),a.direccion&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(r,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Dirección"}),e.jsx("p",{className:"text-sm",children:a.direccion})]})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("span",{children:["Registrado el ",ae(a.fecha_registro)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{_(a),L(!0)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>H(a),className:"w-full flex items-center justify-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Editar"]}),"inactivo"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>W(a.id,"activo"),children:[e.jsx(c,{className:"w-4 h-4"}),"Activar"]}),"activo"===a.estado&&e.jsxs($a,{variant:"warning",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>W(a.id,"inactivo"),children:[e.jsx(d,{className:"w-4 h-4"}),"Desactivar"]}),"bloqueado"===a.estado&&e.jsxs($a,{variant:"info",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>W(a.id,"activo"),children:[e.jsx(c,{className:"w-4 h-4"}),"Desbloquear"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar este cliente?"))try{(await wa(e)).data.success&&n(l.filter(a=>a.id!==e))}catch(a){}})(a.id),children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]})]})]})},a.id))}),0===ee.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(D,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay clientes"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===x?"No se han registrado clientes aún":`No hay clientes con estado "${x}"`})]}),A&&E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles del Cliente"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${J(E.estado||"inactivo")}`,children:[K(E.estado||"inactivo"),"activo"===E.estado?"Activo":"inactivo"===E.estado?"Inactivo":"Bloqueado"]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${Q(E.rol)}`,children:[Z(E.rol),"cliente"===E.rol?"Cliente":"empleado"===E.rol?"Empleado":E.rol]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre Completo"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:E.nombre||E.username||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:E.email||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teléfono"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:E.telefono||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Empresa"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:E.empresa||"No especificada"})]}),E.direccion&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dirección"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:E.direccion})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Registro"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:ae(E.fecha_registro)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Última Actualización"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:ae(E.updated_at)})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{variant:"secondary",onClick:()=>H(E),className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Editar Cliente"]}),e.jsx($a,{variant:"ghost",onClick:()=>L(!1),children:"Cerrar"})]})]})]})})}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Crear Nuevo Cliente"}),e.jsx("button",{onClick:X,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async()=>{var e,a;try{if(!q.nombre||!q.email||!q.password)return void alert("Nombre, email y contraseña son campos requeridos");(await ya({nombre:q.nombre,email:q.email,password:q.password,telefono:q.telefono||"",empresa:q.empresa||"",direccion:q.direccion||"",estado:q.estado||"activo",rol:q.rol||"cliente"})).data.success&&($(),I(!1),F({}),alert("Cliente creado exitosamente"))}catch(t){alert("Error al crear el cliente: "+((null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||t.message))}})()},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),e.jsx("input",{type:"text",value:q.nombre,onChange:e=>Y("nombre",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:q.email,onChange:e=>Y("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña *"}),e.jsx("input",{type:"password",value:q.password,onChange:e=>Y("password",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),e.jsx("input",{type:"text",value:q.telefono,onChange:e=>Y("telefono",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),e.jsx("input",{type:"text",value:q.empresa,onChange:e=>Y("empresa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),e.jsxs("select",{value:q.estado,onChange:e=>Y("estado",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"activo",children:"Activo"}),e.jsx("option",{value:"inactivo",children:"Inactivo"}),e.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),e.jsx("textarea",{value:q.direccion,onChange:e=>Y("direccion",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{type:"submit",variant:"primary",className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4"}),"Crear Cliente"]}),e.jsx($a,{type:"button",variant:"ghost",onClick:X,children:"Cancelar"})]})]})]})})}),z&&R.id&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Editar Cliente"}),e.jsx("button",{onClick:U,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async()=>{var e,a;try{if(!R.nombre||!R.email)return void alert("Nombre y email son campos requeridos");const e=await Na(R.id,{nombre:R.nombre,email:R.email,telefono:R.telefono||"",empresa:R.empresa||"",direccion:R.direccion||"",estado:R.estado||"activo",rol:R.rol||"cliente"});e.data.success?(n(l.map(e=>e.id===R.id?{...e,...R}:e)),E&&E.id===R.id&&_({...E,...R}),M(!1),T({}),alert("Cliente actualizado exitosamente")):alert("Error: "+(e.data.message||"No se pudo actualizar el cliente"))}catch(t){alert("Error al actualizar el cliente: "+((null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||t.message))}})()},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),e.jsx("input",{type:"text",value:R.nombre,onChange:e=>G("nombre",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:R.email,onChange:e=>G("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),e.jsx("input",{type:"text",value:R.telefono,onChange:e=>G("telefono",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),e.jsx("input",{type:"text",value:R.empresa,onChange:e=>G("empresa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),e.jsx("textarea",{value:R.direccion,onChange:e=>G("direccion",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),e.jsxs("select",{value:R.estado,onChange:e=>G("estado",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"activo",children:"Activo"}),e.jsx("option",{value:"inactivo",children:"Inactivo"}),e.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol"}),e.jsxs("select",{value:R.rol,onChange:e=>G("rol",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"cliente",children:"Cliente"}),e.jsx("option",{value:"empleado",children:"Empleado"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{type:"submit",variant:"primary",className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4"}),"Guardar Cambios"]}),e.jsx($a,{type:"button",variant:"ghost",onClick:U,children:"Cancelar"})]})]})]})})})]})})};Lt.propTypes={showNavigation:ia.bool};const zt=({showNavigation:a=!0})=>{const[s,r]=Le.useState({nombre:"",username:"",email:"",password:"",confirmPassword:"",telefono:"",empresa:"",direccion:"",rol:"cliente",estado:"activo"}),[n,i]=Le.useState(!1),[o,d]=Le.useState({}),[x,m]=Le.useState(""),[u,g]=Le.useState(!1),[p,b]=Le.useState(!1),j=e=>{const{name:a,value:t}=e.target;r(e=>({...e,[a]:t})),o[a]&&d(e=>({...e,[a]:""}))};return e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-4xl mx-auto":"max-w-4xl",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"➕ Nuevo Cliente"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Registra un nuevo cliente en el sistema con toda su información de contacto"})]})})}),x&&e.jsx(lt,{variant:"gradient",className:"mb-6 border-l-4 border-green-500 bg-green-50 dark:bg-green-900/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{className:"w-6 h-6 text-green-600"}),e.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:x})]})}),o.submit&&e.jsx(lt,{variant:"gradient",className:"mb-6 border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-6 h-6 text-red-600"}),e.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:o.submit})]})}),e.jsx(lt,{variant:"gradient",children:e.jsxs("form",{onSubmit:async e=>{var a,t;if(e.preventDefault(),(()=>{const e={};return s.nombre.trim()||(e.nombre="El nombre es requerido"),s.username.trim()||(e.username="El nombre de usuario es requerido"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="El formato del email no es válido"):e.email="El email es requerido",s.password?s.password.length<6&&(e.password="La contraseña debe tener al menos 6 caracteres"):e.password="La contraseña es requerida",s.confirmPassword?s.password!==s.confirmPassword&&(e.confirmPassword="Las contraseñas no coinciden"):e.confirmPassword="Confirmar contraseña es requerido",s.telefono&&!/^[\d\s-+()]+$/.test(s.telefono)&&(e.telefono="El formato del teléfono no es válido"),s.email&&!/\S+@\S+\.\S+/.test(s.email)&&(e.email="El formato del email no es válido"),d(e),0===Object.keys(e).length})()){i(!0),m("");try{const e={nombre:s.nombre,username:s.username,email:s.email,password:s.password,telefono:s.telefono||"",empresa:s.empresa||"",direccion:s.direccion||"",rol:s.rol||"cliente",estado:s.estado||"activo"};(await ya(e)).data.success&&(m("¡Cliente creado exitosamente!"),r({nombre:"",username:"",email:"",password:"",confirmPassword:"",telefono:"",empresa:"",direccion:"",rol:"cliente",estado:"activo"}),setTimeout(()=>{m("")},5e3))}catch(l){(null==(t=null==(a=l.response)?void 0:a.data)?void 0:t.message)?d({submit:l.response.data.message}):d({submit:"Error al crear el cliente. Por favor intenta nuevamente."})}finally{i(!1)}}},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),"Información Personal"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),e.jsx("input",{type:"text",name:"nombre",value:s.nombre,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(o.nombre?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Juan Pérez García"}),o.nombre&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.nombre})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de Usuario *"}),e.jsx("input",{type:"text",name:"username",value:s.username,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(o.username?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"juan.perez"}),o.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.username})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(t,{className:"w-5 h-5"}),"Información de Contacto"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(o.email?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"juan@ejemplo.com"}),o.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),e.jsx("input",{type:"tel",name:"telefono",value:s.telefono,onChange:j,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(o.telefono?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"+52 55 1234 5678"}),o.telefono&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.telefono})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"Información de Empresa"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),e.jsx("input",{type:"text",name:"empresa",value:s.empresa,onChange:j,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors",placeholder:"Nombre de la empresa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),e.jsx("textarea",{name:"direccion",value:s.direccion,onChange:j,rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors",placeholder:"Dirección completa del cliente"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),"Información de Acceso"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"password",value:s.password,onChange:j,className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(o.password?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Mínimo 6 caracteres"}),e.jsx("button",{type:"button",onClick:()=>g(!u),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u?e.jsx(W,{className:"w-5 h-5"}):e.jsx(f,{className:"w-5 h-5"})})]}),o.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Contraseña *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:p?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:j,className:"w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors "+(o.confirmPassword?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Repetir contraseña"}),e.jsx("button",{type:"button",onClick:()=>b(!p),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p?e.jsx(W,{className:"w-5 h-5"}):e.jsx(f,{className:"w-5 h-5"})})]}),o.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.confirmPassword})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Estado del Cliente"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado Inicial"}),e.jsxs("select",{name:"estado",value:s.estado,onChange:j,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white transition-colors",children:[e.jsx("option",{value:"activo",children:"Activo"}),e.jsx("option",{value:"inactivo",children:"Inactivo"}),e.jsx("option",{value:"bloqueado",children:"Bloqueado"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200 dark:border-gray-600",children:[e.jsx($a,{type:"submit",variant:"primary",className:"flex items-center justify-center gap-2",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4"}),"Crear Cliente"]})}),e.jsxs($a,{type:"button",variant:"secondary",onClick:()=>{r({nombre:"",username:"",email:"",password:"",confirmPassword:"",telefono:"",empresa:"",direccion:"",rol:"cliente",estado:"activo"}),d({}),m("")},className:"flex items-center justify-center gap-2",children:[e.jsx(l,{className:"w-4 h-4"}),"Limpiar Formulario"]})]})]})}),e.jsx(lt,{variant:"gradient",className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(h,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Información Importante"}),e.jsxs("ul",{className:"text-blue-700 dark:text-blue-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Los campos marcados con (*) son obligatorios"}),e.jsx("li",{children:"• El email debe ser único en el sistema"}),e.jsx("li",{children:"• La contraseña debe tener al menos 6 caracteres"}),e.jsx("li",{children:"• El cliente recibirá sus credenciales por email una vez creado"})]})]})]})})]})})};zt.propTypes={showNavigation:ia.bool};const Dt=({showNavigation:a=!0})=>{const[t,s]=Le.useState([]),[r,l]=Le.useState([]),[n,i]=Le.useState([]),[o,c]=Le.useState(!0),[d,h]=Le.useState("month");Le.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const[e,a,t]=await Promise.all([va(),ka(),Ea()]);if(e.data.success){const a=e.data.data.filter(e=>"admin"!==e.rol);s(a)}a.data.success&&l(a.data.data),t.data.success&&i(t.data.data)}catch(e){}finally{c(!1)}},g=(e,a="fecha_registro")=>{const{startDate:t}=(()=>{const e=new Date;let a;switch(d){case"week":a=new Date(e.getTime()-6048e5);break;case"month":a=new Date(e.getTime()-2592e6);break;case"quarter":a=new Date(e.getTime()-7776e6);break;case"year":a=new Date(e.getTime()-31536e6);break;default:return{startDate:null,endDate:e}}return{startDate:a,endDate:e}})();return t?e.filter(e=>new Date(e[a])>=t):e},f=()=>{const e=g(t),a=t.filter(e=>"activo"===e.estado).length,s=e.length,r=t.length,l=r-s,n=l>0?(s-l)/l*100:100;return{total:r,active:a,new:s,growthRate:Math.round(100*n)/100,retentionRate:r>0?Math.round(a/r*100):0}},j=()=>{const e=r.filter(e=>t.find(a=>a.id===e.cliente_id||a.name===e.cliente_nombre)),a=t.map(a=>{const t=e.filter(e=>e.cliente_id===a.id||e.cliente_nombre===a.nombre).length;return{client:a.nombre||a.username,orders:t,email:a.email}}).sort((e,a)=>a.orders-e.orders),s=t.length>0?Math.round(e.length/t.length*100)/100:0;return{totalOrders:e.length,averagePerClient:s,topClients:a.slice(0,5)}},v=()=>{const e=n.filter(e=>t.find(a=>a.id===e.cliente_id||a.name===e.cliente_nombre)),a=e.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),s=t.length>0?a/t.length:0,r=t.map(a=>{const t=e.filter(e=>e.cliente_id===a.id||e.cliente_nombre===a.nombre).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);return{client:a.nombre||a.username,revenue:t,email:a.email}}).sort((e,a)=>a.revenue-e.revenue);return{totalRevenue:a,averagePerClient:Math.round(100*s)/100,topClients:r.slice(0,5)}},y=()=>({statusDistribution:{Activo:t.filter(e=>"activo"===e.estado).length,Inactivo:t.filter(e=>"inactivo"===e.estado).length,Bloqueado:t.filter(e=>"bloqueado"===e.estado).length},companyDistribution:t.reduce((e,a)=>{const t=a.empresa||"Sin empresa";return e[t]=(e[t]||0)+1,e},{})}),N=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e);if(o)return e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})});const w=f(),k=j(),C=v(),{statusDistribution:S,companyDistribution:E}=y();return e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📊 Estadísticas de Clientes"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Análisis detallado del comportamiento y métricas de tus clientes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:u,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e={clients:f(),orders:j(),payments:v(),distribution:y(),exportDate:(new Date).toISOString(),timeRange:d},a=JSON.stringify(e,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(a),s=`estadisticas_clientes_${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",s),r.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]})]})]})}),e.jsx(lt,{variant:"gradient",className:"mb-8",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Período de análisis:"]}),["week","month","quarter","year"].map(a=>e.jsxs($a,{variant:d===a?"primary":"ghost",size:"sm",onClick:()=>h(a),children:["week"===a&&"Última semana","month"===a&&"Último mes","quarter"===a&&"Último trimestre","year"===a&&"Último año"]},a))]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(D,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:w.total}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total Clientes"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[w.growthRate>0?e.jsx(A,{className:"w-3 h-3 text-green-500"}):e.jsx(M,{className:"w-3 h-3 text-red-500"}),e.jsxs("span",{className:w.growthRate>0?"text-green-500":"text-red-500",children:[Math.abs(w.growthRate),"%"]})]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(L,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:w.active}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Clientes Activos"}),e.jsxs("div",{className:"text-xs text-green-600",children:[w.retentionRate,"% retención"]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(x,{className:"w-8 h-8 text-purple-600"})}),e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:k.averagePerClient}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Pedidos/Cliente"}),e.jsxs("div",{className:"text-xs text-purple-600",children:[k.totalOrders," total"]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(m,{className:"w-8 h-8 text-orange-600"})}),e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:N(C.averagePerClient)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ingreso/Cliente"}),e.jsxs("div",{className:"text-xs text-orange-600",children:[N(C.totalRevenue)," total"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(T,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Distribución por Estado"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(S).map(([a,t])=>{const s=w.total>0?Math.round(t/w.total*100):0,r="Activo"===a?"bg-green-500":"Bloqueado"===a?"bg-yellow-500":"bg-red-500";return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${r}`}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s,"%)"]})]})]},a)})})]}),e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(B,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top Empresas"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(E).sort(([,e],[,a])=>a-e).slice(0,5).map(([a,t])=>{const s=w.total>0?Math.round(t/w.total*100):0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:a.length>20?`${a.substring(0,20)}...`:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s,"%)"]})]})]},a)})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(R,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top Clientes por Pedidos"})]}),e.jsx("div",{className:"space-y-3",children:k.topClients.map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 dark:bg-green-900/20 text-green-600 rounded-full text-sm font-bold",children:t+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:a.client}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-green-600",children:a.orders}),e.jsx("p",{className:"text-xs text-gray-500",children:"pedidos"})]})]},a.client))})]}),e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(m,{className:"w-5 h-5 text-orange-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top Clientes por Ingresos"})]}),e.jsx("div",{className:"space-y-3",children:C.topClients.map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 dark:bg-orange-900/20 text-orange-600 rounded-full text-sm font-bold",children:t+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:a.client}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-orange-600",children:N(a.revenue)}),e.jsx("p",{className:"text-xs text-gray-500",children:"ingresos"})]})]},a.client))})]})]})]})})};Dt.propTypes={showNavigation:ia.bool};const Mt=({showNavigation:a=!0})=>{const{user:t}=qa(),[s,r]=Le.useState([]),[l,i]=Le.useState([]),[o,x]=Le.useState([]),[v,y]=Le.useState(!0),[N,S]=Le.useState("all"),[E,_]=Le.useState("all"),[A,L]=Le.useState(""),[z,D]=Le.useState(null),[M,R]=Le.useState(!1),[T,O]=Le.useState(!1);Le.useEffect(()=>{I()},[]);const I=async()=>{try{y(!0);const[e,a,t]=await Promise.all([Ea(),va(),ka()]);e.data.success&&r(e.data.data),a.data.success&&i(a.data.data.filter(e=>"admin"!==e.rol)),t.data.success&&x(t.data.data)}catch(e){}finally{y(!1)}},q=async(e,a)=>{try{(await Pa(e,{estado:a})).data.success&&r(s.map(t=>t.id===e?{...t,estado:a}:t))}catch(t){}},F=a=>{switch(a){case"aplicado":return e.jsx(c,{className:"w-4 h-4"});case"pendiente":case"procesando":default:return e.jsx(j,{className:"w-4 h-4"});case"rechazado":return e.jsx(d,{className:"w-4 h-4"});case"cancelado":return e.jsx(h,{className:"w-4 h-4"})}},$=e=>{switch(e){case"aplicado":return"bg-green-500 text-white";case"pendiente":return"bg-yellow-500 text-white";case"procesando":return"bg-blue-500 text-white";case"rechazado":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},V=a=>{switch(null==a?void 0:a.toLowerCase()){case"tarjeta":case"card":default:return e.jsx(n,{className:"w-4 h-4"});case"transferencia":case"transfer":return e.jsx(B,{className:"w-4 h-4"});case"efectivo":case"cash":return e.jsx(m,{className:"w-4 h-4"})}},W=e=>{switch(null==e?void 0:e.toLowerCase()){case"tarjeta":case"card":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"transferencia":case"transfer":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"efectivo":case"cash":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";default:return"text-gray-600 bg-gray-100"}},H=s.filter(e=>{var a,t,s,r;const l="all"===N||e.estado===N,n="all"===E||(null==(a=e.metodo_pago)?void 0:a.toLowerCase().includes(E.toLowerCase())),i=""===A||(null==(t=e.concepto)?void 0:t.toLowerCase().includes(A.toLowerCase()))||(null==(s=e.cliente_nombre)?void 0:s.toLowerCase().includes(A.toLowerCase()))||(null==(r=e.referencia)?void 0:r.toLowerCase().includes(A.toLowerCase()));return l&&n&&i}),G=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",Y=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00",X=s.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),K=s.filter(e=>"pendiente"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0),J=s.filter(e=>"aplicado"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);s.filter(e=>"procesando"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);const Z=s.filter(e=>"rechazado"===e.estado).reduce((e,a)=>e+(parseFloat(a.monto)||0),0);return v?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"💰 Gestión de Pagos"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todos los pagos, facturación y transacciones del sistema"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:I,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(H,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`pagos_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>O(!0),className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nuevo Pago"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(m,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:Y(X)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pagos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(c,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:Y(J)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completados"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(j,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:Y(K)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendientes"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(d,{className:"w-8 h-8 text-red-600"})}),e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:Y(Z)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rechazados"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por concepto, cliente o referencia...",value:A,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===N?"primary":"ghost",size:"sm",onClick:()=>S("all"),children:["Todos (",s.length,")"]}),e.jsxs($a,{variant:"aplicado"===N?"primary":"ghost",size:"sm",onClick:()=>S("aplicado"),children:["Aplicados (",s.filter(e=>"aplicado"===e.estado).length,")"]}),e.jsxs($a,{variant:"pendiente"===N?"primary":"ghost",size:"sm",onClick:()=>S("pendiente"),children:["Pendientes (",s.filter(e=>"pendiente"===e.estado).length,")"]}),e.jsxs($a,{variant:"procesando"===N?"primary":"ghost",size:"sm",onClick:()=>S("procesando"),children:["Procesando (",s.filter(e=>"procesando"===e.estado).length,")"]}),e.jsxs($a,{variant:"rechazado"===N?"primary":"ghost",size:"sm",onClick:()=>S("rechazado"),children:["Rechazados (",s.filter(e=>"rechazado"===e.estado).length,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Método:"]}),e.jsx($a,{variant:"all"===E?"secondary":"ghost",size:"sm",onClick:()=>_("all"),children:"Todos"}),e.jsx($a,{variant:"tarjeta"===E?"secondary":"ghost",size:"sm",onClick:()=>_("tarjeta"),children:"Tarjeta"}),e.jsx($a,{variant:"transferencia"===E?"secondary":"ghost",size:"sm",onClick:()=>_("transferencia"),children:"Transferencia"}),e.jsx($a,{variant:"efectivo"===E?"secondary":"ghost",size:"sm",onClick:()=>_("efectivo"),children:"Efectivo"})]})]}),e.jsx("div",{className:"grid gap-6",children:H.map(a=>e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(m,{className:"w-5 h-5 inline mr-2"}),a.concepto||"Pago sin concepto"]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${$(a.estado||"pendiente")}`,children:[F(a.estado||"pendiente"),"aplicado"===a.estado?"Aplicado":"pendiente"===a.estado?"Pendiente":"procesando"===a.estado?"Procesando":"rechazado"===a.estado?"Rechazado":"Cancelado"]}),a.metodo_pago&&e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${W(a.metodo_pago)}`,children:[V(a.metodo_pago),a.metodo_pago]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Monto"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:Y(a.monto)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),e.jsx("p",{className:"font-medium",children:a.cliente_nombre||"No especificado"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fecha"}),e.jsx("p",{className:"font-medium",children:G(a.fecha)})]})]})]}),a.referencia&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Referencia"}),e.jsx("p",{className:"text-sm font-mono bg-gray-100 dark:bg-slate-700 px-2 py-1 rounded",children:a.referencia})]})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("span",{children:["Registrado el ",G(a.fecha_registro)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{D(a),R(!0)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Editar"]}),"pendiente"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>q(a.id,"aplicado"),children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar Aplicado"]}),"procesando"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>q(a.id,"aplicado"),children:[e.jsx(c,{className:"w-4 h-4"}),"Confirmar Pago"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>(async e=>{if(confirm("¿Estás seguro de que quieres eliminar este pago?"))try{(await _a(e)).data.success&&r(s.filter(a=>a.id!==e))}catch(a){}})(a.id),children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]})]})]})},a.id))}),0===H.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(m,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay pagos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===N?"No se han registrado pagos aún":`No hay pagos con estado "${N}"`})]}),M&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles del Pago"}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${$(z.estado||"pendiente")}`,children:[F(z.estado||"pendiente"),"aplicado"===z.estado?"Aplicado":"pendiente"===z.estado?"Pendiente":"procesando"===z.estado?"Procesando":"rechazado"===z.estado?"Rechazado":"Cancelado"]}),z.metodo_pago&&e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${W(z.metodo_pago)}`,children:[V(z.metodo_pago),z.metodo_pago]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Concepto"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:z.concepto||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monto"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Y(z.monto)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:z.cliente_nombre||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:G(z.fecha)})]}),z.referencia&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono bg-gray-100 dark:bg-slate-700 px-3 py-2 rounded",children:z.referencia})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Registro"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:G(z.fecha_registro)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Última Actualización"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:G(z.fecha_actualizacion)})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["pendiente"===z.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{q(z.id,"aplicado"),R(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar como Aplicado"]}),"procesando"===z.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{q(z.id,"aplicado"),R(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Confirmar Pago"]}),e.jsxs($a,{variant:"secondary",className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Editar Pago"]}),e.jsx($a,{variant:"ghost",onClick:()=>R(!1),children:"Cerrar"})]})]})]})})})]})})},Rt=({showNavigation:a=!0})=>{const{user:t}=qa(),[s,r]=Le.useState([]),[l,n]=Le.useState([]),[i,o]=Le.useState([]),[c,d]=Le.useState([]),[h,u]=Le.useState(!0),[g,f]=Le.useState("month"),[j,v]=Le.useState("overview");Le.useEffect(()=>{y()},[]);const y=async()=>{try{u(!0);const[e,a,t,s]=await Promise.all([Ea(),ka(),va(),Aa()]);e.data.success&&r(e.data.data),a.data.success&&n(a.data.data),t.data.success&&o(t.data.data.filter(e=>"admin"!==e.rol)),s.data.success&&d(s.data.data)}catch(e){}finally{u(!1)}},N=()=>{const e=new Date;let a,t;switch(g){case"week":a=new Date(e.getTime()-6048e5),t=new Date(e.getTime()-12096e5);break;case"month":a=new Date(e.getTime()-2592e6),t=new Date(e.getTime()-5184e6);break;case"quarter":a=new Date(e.getTime()-7776e6),t=new Date(e.getTime()-15552e6);break;case"year":a=new Date(e.getTime()-31536e6),t=new Date(e.getTime()-63072e6);break;default:return{startDate:null,endDate:e,previousStartDate:null,previousEndDate:a}}return{startDate:a,endDate:e,previousStartDate:t,previousEndDate:a}},w=(e,a="fecha_registro")=>{const{startDate:t}=N();return t?e.filter(e=>new Date(e[a])>=t):e},k=(e,a="fecha_registro")=>{const{previousStartDate:t,previousEndDate:s}=N();return t?e.filter(e=>{const r=new Date(e[a]);return r>=t&&r<s}):e},C=()=>{const e=w(s,"fecha"),a=k(s,"fecha"),t=e.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),r=a.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),n=r>0?(t-r)/r*100:100,o=w(l,"fecha_creacion"),d=k(l,"fecha_creacion"),x=d.length>0?(o.length-d.length)/d.length*100:100,m=w(i),h=k(i),u=h.length>0?(m.length-h.length)/h.length*100:100,g=o.length>0?t/o.length:0,p=c.length>0?o.length/c.length*100:0;return{currentRevenue:t,previousRevenue:r,revenueGrowth:Math.round(100*n)/100,currentOrders:o.length,ordersGrowth:Math.round(100*x)/100,currentClients:m.length,clientsGrowth:Math.round(100*u)/100,avgOrderValue:Math.round(100*g)/100,conversionRate:Math.round(100*p)/100}},S=()=>{const e=w(s,"fecha"),a={};return e.forEach(e=>{const t=e.metodo_pago||"No especificado";a[t]||(a[t]={count:0,total:0}),a[t].count++,a[t].total+=parseFloat(e.monto)||0}),Object.entries(a).map(([a,t])=>({method:a,count:t.count,total:t.total,percentage:e.length>0?Math.round(t.count/e.length*100):0})).sort((e,a)=>a.total-e.total)},E=()=>{const e=w(s,"fecha"),a={};return e.forEach(e=>{const t=e.cliente_nombre||"Cliente desconocido";a[t]||(a[t]={total:0,payments:0}),a[t].total+=parseFloat(e.monto)||0,a[t].payments++}),Object.entries(a).map(([e,a])=>({client:e,total:a.total,payments:a.payments,avgPayment:a.payments>0?a.total/a.payments:0})).sort((e,a)=>a.total-e.total).slice(0,5)},P=()=>{const e=[],a=new Date;for(let t=5;t>=0;t--){const r=new Date(a.getFullYear(),a.getMonth()-t,1),n=new Date(r.getFullYear(),r.getMonth(),1),i=new Date(r.getFullYear(),r.getMonth()+1,0),o=s.filter(e=>{const a=new Date(e.fecha);return a>=n&&a<=i}),c=l.filter(e=>{const a=new Date(e.fecha_creacion);return a>=n&&a<=i});e.push({month:r.toLocaleDateString("es-ES",{month:"short",year:"2-digit"}),revenue:o.reduce((e,a)=>e+(parseFloat(a.monto)||0),0),orders:c.length,payments:o.length})}return e},z=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e);if(h)return e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})});const M=C(),O=S(),I=E(),q=P();return e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📈 Reportes Financieros"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Análisis detallado del rendimiento financiero y métricas de negocio"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:y,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e={metrics:C(),paymentMethods:S(),topClients:E(),monthlyAnalysis:P(),reportType:j,timeRange:g,generatedAt:(new Date).toISOString()},a=JSON.stringify(e,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(a),s=`reporte_financiero_${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",s),r.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]})]})]})}),e.jsx(lt,{variant:"gradient",className:"mb-8",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Período de análisis:"]}),["week","month","quarter","year"].map(a=>e.jsxs($a,{variant:g===a?"primary":"ghost",size:"sm",onClick:()=>f(a),children:["week"===a&&"Última semana","month"===a&&"Último mes","quarter"===a&&"Último trimestre","year"===a&&"Último año"]},a))]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(m,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:z(M.currentRevenue)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ingresos"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[M.revenueGrowth>0?e.jsx(G,{className:"w-3 h-3 text-green-500"}):e.jsx(Y,{className:"w-3 h-3 text-red-500"}),e.jsxs("span",{className:M.revenueGrowth>0?"text-green-500":"text-red-500",children:[Math.abs(M.revenueGrowth),"%"]})]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(x,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:M.currentOrders}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Pedidos"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[M.ordersGrowth>0?e.jsx(G,{className:"w-3 h-3 text-green-500"}):e.jsx(Y,{className:"w-3 h-3 text-red-500"}),e.jsxs("span",{className:M.ordersGrowth>0?"text-green-500":"text-red-500",children:[Math.abs(M.ordersGrowth),"%"]})]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(_,{className:"w-8 h-8 text-purple-600"})}),e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:z(M.avgOrderValue)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Valor Promedio"}),e.jsx("div",{className:"text-xs text-purple-600",children:"por pedido"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(L,{className:"w-8 h-8 text-orange-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[M.conversionRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Conversión"}),e.jsx("div",{className:"text-xs text-orange-600",children:"cotización → pedido"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(R,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Evolución Mensual"})]}),e.jsx("div",{className:"space-y-4",children:q.map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/20 text-blue-600 rounded-full text-sm font-bold",children:a.month}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:z(a.revenue)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.orders," pedidos, ",a.payments," pagos"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(100,a.revenue/Math.max(...q.map(e=>e.revenue))*100)}%`}})})})]},a.month))})]}),e.jsxs(lt,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Métodos de Pago"})]}),e.jsx("div",{className:"space-y-4",children:O.map((a,t)=>{const s=["bg-green-500","bg-blue-500","bg-purple-500","bg-orange-500"],r=s[t%s.length];return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${r}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:a.method}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.count," transacciones"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-green-600",children:z(a.total)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.percentage,"%"]})]})]},a.method)})})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(D,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Top 5 Clientes por Ingresos"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:I.map((a,t)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/20 text-purple-600 rounded-full text-lg font-bold mx-auto mb-3",children:t+1}),e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 mb-2 truncate",title:a.client,children:a.client.length>15?`${a.client.substring(0,15)}...`:a.client}),e.jsx("p",{className:"text-xl font-bold text-purple-600 mb-1",children:z(a.total)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.payments," pagos"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Promedio: ",z(a.avgPayment)]})]},a.client))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(A,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Rendimiento General"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ingresos:"}),e.jsx("span",{className:"font-medium",children:z(M.currentRevenue)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pedidos:"}),e.jsx("span",{className:"font-medium",children:M.currentOrders})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Nuevos clientes:"}),e.jsx("span",{className:"font-medium",children:M.currentClients})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(_,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Métricas Clave"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Valor promedio:"}),e.jsx("span",{className:"font-medium",children:z(M.avgOrderValue)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tasa conversión:"}),e.jsxs("span",{className:"font-medium",children:[M.conversionRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Métodos de pago:"}),e.jsx("span",{className:"font-medium",children:O.length})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(L,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Tendencias"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Ingresos:"}),e.jsxs("span",{className:"font-medium flex items-center gap-1 "+(M.revenueGrowth>0?"text-green-600":"text-red-600"),children:[M.revenueGrowth>0?e.jsx(G,{className:"w-3 h-3"}):e.jsx(Y,{className:"w-3 h-3"}),Math.abs(M.revenueGrowth),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Pedidos:"}),e.jsxs("span",{className:"font-medium flex items-center gap-1 "+(M.ordersGrowth>0?"text-green-600":"text-red-600"),children:[M.ordersGrowth>0?e.jsx(G,{className:"w-3 h-3"}):e.jsx(Y,{className:"w-3 h-3"}),Math.abs(M.ordersGrowth),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Clientes:"}),e.jsxs("span",{className:"font-medium flex items-center gap-1 "+(M.clientsGrowth>0?"text-green-600":"text-red-600"),children:[M.clientsGrowth>0?e.jsx(G,{className:"w-3 h-3"}):e.jsx(Y,{className:"w-3 h-3"}),Math.abs(M.clientsGrowth),"%"]})]})]})]})]})]})})},Tt=({showNavigation:a=!0})=>{const[t,s]=Le.useState([]),[r,l]=Le.useState(!0),[n,i]=Le.useState("all"),[o,x]=Le.useState(""),[g,y]=Le.useState(null),[N,w]=Le.useState(!1);Le.useEffect(()=>{C()},[]);const C=async()=>{try{l(!0);const e=await ja.get("/api/invoices");e.data.success&&s(e.data.data)}catch(e){}finally{l(!1)}},S=a=>{switch(a){case"pagada":case"timbrada":return e.jsx(c,{className:"w-4 h-4"});case"emitida":default:return e.jsx(j,{className:"w-4 h-4"});case"borrador":return e.jsx(h,{className:"w-4 h-4"});case"cancelada":return e.jsx(d,{className:"w-4 h-4"})}},E=e=>{switch(e){case"pagada":return"bg-green-500 text-white";case"emitida":return"bg-blue-500 text-white";case"borrador":default:return"bg-gray-500 text-white";case"timbrada":return"bg-indigo-500 text-white";case"cancelada":return"bg-red-500 text-white"}},P=async(e,a)=>{try{(await(r=e,l=a,ja.put(`/api/invoices/${r}/status`,{estado:l}))).data.success&&s(t.map(t=>t.id===e?{...t,estado:a}:t))}catch(n){alert("Error al actualizar el estado de la factura")}var r,l},_=async e=>{try{if(!e.cliente_email)return void alert("No se puede enviar la factura: el cliente no tiene email registrado");alert(`Factura ${e.numero_factura} enviada exitosamente a ${e.cliente_email}`)}catch(a){alert("Error al enviar la factura. Intente nuevamente.")}},A=e=>{const a={...e,generated_at:(new Date).toISOString(),generated_by:"Sistema de Facturación BODERLESS TECHNO COMPANY"},t=JSON.stringify(a,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(t),r=`factura_${e.numero_factura}_${(new Date).toISOString().split("T")[0]}.json`,l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download",r),l.click()},L=t.filter(e=>{var a,t,s;const r="all"===n||e.estado===n,l=""===o||(null==(a=e.numero_factura)?void 0:a.toLowerCase().includes(o.toLowerCase()))||(null==(t=e.cliente_nombre)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=e.concepto)?void 0:s.toLowerCase().includes(o.toLowerCase()));return r&&l}),z=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",D=e=>e?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e):"$0.00",M=t.reduce((e,a)=>e+(parseFloat(a.total)||0),0),R=t.filter(e=>"pagada"===e.estado).reduce((e,a)=>e+(parseFloat(a.total)||0),0),T=t.filter(e=>"emitida"===e.estado).reduce((e,a)=>e+(parseFloat(a.total)||0),0),O=t.filter(e=>"cancelada"===e.estado).reduce((e,a)=>e+(parseFloat(a.total)||0),0);return r?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🧾 Gestión de Facturas"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todas las facturas, facturación y documentos fiscales del sistema"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:C,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(L,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`facturas_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(X,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:D(M)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Facturado"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(c,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:D(R)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pagadas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(j,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:D(T)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Emitidas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(d,{className:"w-8 h-8 text-red-600"})}),e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:D(O)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Canceladas"})]})]}),e.jsx(lt,{variant:"gradient",className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por número, cliente o concepto...",value:o,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===n?"primary":"ghost",size:"sm",onClick:()=>i("all"),children:["Todas (",t.length,")"]}),e.jsxs($a,{variant:"borrador"===n?"primary":"ghost",size:"sm",onClick:()=>i("borrador"),children:["Borrador (",t.filter(e=>"borrador"===e.estado).length,")"]}),e.jsxs($a,{variant:"emitida"===n?"primary":"ghost",size:"sm",onClick:()=>i("emitida"),children:["Emitidas (",t.filter(e=>"emitida"===e.estado).length,")"]}),e.jsxs($a,{variant:"timbrada"===n?"primary":"ghost",size:"sm",onClick:()=>i("timbrada"),children:["Timbradas (",t.filter(e=>"timbrada"===e.estado).length,")"]}),e.jsxs($a,{variant:"pagada"===n?"primary":"ghost",size:"sm",onClick:()=>i("pagada"),children:["Pagadas (",t.filter(e=>"pagada"===e.estado).length,")"]}),e.jsxs($a,{variant:"cancelada"===n?"primary":"ghost",size:"sm",onClick:()=>i("cancelada"),children:["Canceladas (",t.filter(e=>"cancelada"===e.estado).length,")"]})]})]})}),e.jsx("div",{className:"grid gap-6",children:L.map(a=>e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(v,{className:"w-5 h-5 inline mr-2"}),a.numero_factura]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${E(a.estado||"borrador")}`,children:[S(a.estado||"borrador"),a.estado||"borrador"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),e.jsx("p",{className:"font-medium",children:a.cliente_nombre})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:D(a.total)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Emisión"}),e.jsx("p",{className:"font-medium",children:z(a.fecha_emision)})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Concepto:"})," ",a.concepto]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Subtotal:"}),e.jsx("span",{className:"ml-2 font-medium",children:D(a.subtotal)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"IVA:"}),e.jsx("span",{className:"ml-2 font-medium",children:D(a.iva)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Vencimiento:"}),e.jsx("span",{className:"ml-2 font-medium",children:z(a.fecha_vencimiento)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("span",{children:["Registrada el ",z(a.createdAt)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{y(a),w(!0)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(a),children:[e.jsx(b,{className:"w-4 h-4"}),"Descargar"]}),e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(a),children:[e.jsx(K,{className:"w-4 h-4"}),"Enviar"]}),"borrador"===a.estado&&e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>P(a.id,"emitida"),children:[e.jsx(c,{className:"w-4 h-4"}),"Emitir"]}),"emitida"===a.estado&&e.jsxs(e.Fragment,{children:[e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>P(a.id,"timbrada"),children:[e.jsx(c,{className:"w-4 h-4"}),"Timbrar"]}),e.jsxs($a,{variant:"warning",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>P(a.id,"pagada"),children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar Pagada"]})]}),"timbrada"===a.estado&&e.jsxs($a,{variant:"warning",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>P(a.id,"pagada"),children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar Pagada"]})]})]})},a.id))}),0===L.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(v,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay facturas"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===n?"No se han generado facturas aún":`No hay facturas con estado "${n}"`})]}),N&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Factura ",g.numero_factura]}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-3 mb-4",children:e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${E(g.estado||"borrador")}`,children:[S(g.estado||"borrador"),g.estado||"borrador"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Información del Cliente"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:g.cliente_nombre})]}),g.cliente_email&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:g.cliente_email})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Información de la Factura"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Número de Factura"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-mono",children:g.numero_factura})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Emisión"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:z(g.fecha_emision)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Vencimiento"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:z(g.fecha_vencimiento)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Detalles del Servicio"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-900 dark:text-gray-100 mb-4",children:g.concepto}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:D(g.subtotal)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"IVA (16%):"}),e.jsx("span",{className:"font-medium",children:D(g.iva)})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-green-600",children:D(g.total)})]})]})]})]}),g.notas&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notas"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-slate-700 p-3 rounded",children:g.notas})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{variant:"primary",className:"flex items-center gap-2",onClick:()=>A(g),children:[e.jsx(b,{className:"w-4 h-4"}),"Descargar PDF"]}),e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>_(g),children:[e.jsx(K,{className:"w-4 h-4"}),"Enviar por Email"]}),"borrador"===g.estado&&e.jsxs($a,{variant:"primary",className:"flex items-center gap-2",onClick:()=>{P(g.id,"emitida"),w(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Emitir Factura"]}),"emitida"===g.estado&&e.jsxs(e.Fragment,{children:[e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{P(g.id,"timbrada"),w(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Timbrar Factura"]}),e.jsxs($a,{variant:"warning",className:"flex items-center gap-2",onClick:()=>{P(g.id,"pagada"),w(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar como Pagada"]})]}),"timbrada"===g.estado&&e.jsxs($a,{variant:"warning",className:"flex items-center gap-2",onClick:()=>{P(g.id,"pagada"),w(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar como Pagada"]}),e.jsx($a,{variant:"ghost",onClick:()=>w(!1),children:"Cerrar"})]})]})]})})})]})})};Tt.propTypes={showNavigation:ia.bool};const Ot=({showNavigation:a=!0})=>{const[s,r]=Le.useState([]),[l,n]=Le.useState(!0),[i,o]=Le.useState("all"),[x,m]=Le.useState("all"),[j,v]=Le.useState(""),[y,N]=Le.useState(null),[w,C]=Le.useState(!1);Le.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const e=await La();e.data.success&&r(e.data.data)}catch(e){}finally{n(!1)}},E=async e=>{try{(await za(e)).data.success&&r(s.map(a=>a.id===e?{...a,leida:!0}:a))}catch(a){}},_=async e=>{if(confirm("¿Estás seguro de que quieres eliminar esta notificación?"))try{const a=await(e=>ja.delete(`/api/notifications/${e}`))(e);a.data.success&&r(s.filter(a=>a.id!==e))}catch(a){}},A=a=>{switch(null==a?void 0:a.toLowerCase()){case"info":case"información":return e.jsx(ae,{className:"w-4 h-4"});case"warning":case"advertencia":return e.jsx(Z,{className:"w-4 h-4"});case"error":case"fallo":return e.jsx(d,{className:"w-4 h-4"});case"success":case"éxito":return e.jsx(c,{className:"w-4 h-4"});case"payment":case"pago":return e.jsx(t,{className:"w-4 h-4"});case"order":case"pedido":return e.jsx(ee,{className:"w-4 h-4"});case"system":case"sistema":return e.jsx(Q,{className:"w-4 h-4"});default:return e.jsx(J,{className:"w-4 h-4"})}},L=e=>{switch(null==e?void 0:e.toLowerCase()){case"info":case"información":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"warning":case"advertencia":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"error":case"fallo":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"success":case"éxito":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"payment":case"pago":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"order":case"pedido":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";case"system":case"sistema":return"text-gray-600 bg-gray-100 dark:bg-gray-900/20";default:return"text-gray-600 bg-gray-100"}},z=e=>{switch(null==e?void 0:e.toLowerCase()){case"alta":case"high":return"border-l-red-500";case"normal":case"medium":return"border-l-yellow-500";case"baja":case"low":return"border-l-green-500";default:return"border-l-gray-500"}},D=s.filter(e=>{var a,t;const s="all"===i||"read"===i&&e.leida||"unread"===i&&!e.leida,r="all"===x||e.tipo===x,l=""===j||(null==(a=e.titulo)?void 0:a.toLowerCase().includes(j.toLowerCase()))||(null==(t=e.mensaje)?void 0:t.toLowerCase().includes(j.toLowerCase()));return s&&r&&l}),M=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",R=s.length,T=s.filter(e=>!e.leida).length,O=s.filter(e=>e.leida).length,I=s.filter(e=>{var a;return"alta"===(null==(a=e.prioridad)?void 0:a.toLowerCase())}).length;return l?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🔔 Gestión de Notificaciones"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todas las notificaciones del sistema y mantente informado de las actividades importantes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:S,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(D,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`notificaciones_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"success",size:"sm",onClick:async()=>{try{(await Da()).data.success&&r(s.map(e=>({...e,leida:!0})))}catch(e){}},className:"flex items-center gap-2",disabled:0===T,children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar Todo Leído"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(J,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:R}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Notificaciones"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(h,{className:"w-8 h-8 text-orange-600"})}),e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:T}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Leer"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(c,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:O}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Leídas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Z,{className:"w-8 h-8 text-red-600"})}),e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:I}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Alta Prioridad"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por título o mensaje...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===i?"primary":"ghost",size:"sm",onClick:()=>o("all"),children:["Todas (",R,")"]}),e.jsxs($a,{variant:"unread"===i?"primary":"ghost",size:"sm",onClick:()=>o("unread"),children:["Sin Leer (",T,")"]}),e.jsxs($a,{variant:"read"===i?"primary":"ghost",size:"sm",onClick:()=>o("read"),children:["Leídas (",O,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),e.jsx($a,{variant:"all"===x?"secondary":"ghost",size:"sm",onClick:()=>m("all"),children:"Todos"}),e.jsx($a,{variant:"info"===x?"secondary":"ghost",size:"sm",onClick:()=>m("info"),children:"Información"}),e.jsx($a,{variant:"warning"===x?"secondary":"ghost",size:"sm",onClick:()=>m("warning"),children:"Advertencia"}),e.jsx($a,{variant:"payment"===x?"secondary":"ghost",size:"sm",onClick:()=>m("payment"),children:"Pagos"}),e.jsx($a,{variant:"system"===x?"secondary":"ghost",size:"sm",onClick:()=>m("system"),children:"Sistema"})]})]}),e.jsx("div",{className:"grid gap-6",children:D.map(a=>{var t,s;return e.jsx(lt,{variant:"gradient",hover:!0,className:`group border-l-4 ${z(a.prioridad)} ${a.leida?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(J,{className:"w-5 h-5 inline mr-2"}),a.titulo||"Notificación"]}),!a.leida&&e.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-medium rounded-full",children:"Nueva"}),a.tipo&&e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${L(a.tipo)}`,children:[A(a.tipo),a.tipo]}),a.prioridad&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded "+("alta"===(null==(t=a.prioridad)?void 0:t.toLowerCase())?"bg-red-100 text-red-800":"normal"===(null==(s=a.prioridad)?void 0:s.toLowerCase())?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:a.prioridad})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:a.mensaje||"Sin mensaje"}),a.datos_adicionales&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Información adicional:"}),e.jsx("pre",{className:"text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:"string"==typeof a.datos_adicionales?a.datos_adicionales:JSON.stringify(a.datos_adicionales,null,2)})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:M(a.createdAt)})]}),a.usuario_id&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsxs("span",{children:["Usuario: ",a.usuario_id]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{N(a),C(!0),a.leida||E(a.id)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),!a.leida&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>E(a.id),children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar Leída"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(a.id),children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]})]})]})},a.id)})}),0===D.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(J,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===i?"No se han registrado notificaciones aún":"No hay notificaciones "+("read"===i?"leídas":"sin leer")})]}),w&&y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles de la Notificación"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3 mb-4",children:[y.tipo&&e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${L(y.tipo)}`,children:[A(y.tipo),y.tipo]}),!y.leida&&e.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-medium rounded-full",children:"No leída"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Título"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:y.titulo||"Sin título"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensaje"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:y.mensaje||"Sin mensaje"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha de Creación"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:M(y.createdAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prioridad"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:y.prioridad||"No especificada"})]})]}),y.datos_adicionales&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Datos Adicionales"}),e.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-3 rounded",children:e.jsx("pre",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:"string"==typeof y.datos_adicionales?y.datos_adicionales:JSON.stringify(y.datos_adicionales,null,2)})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[!y.leida&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{E(y.id),C(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar como Leída"]}),e.jsxs($a,{variant:"danger",className:"flex items-center gap-2",onClick:()=>{_(y.id),C(!1)},children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]}),e.jsx($a,{variant:"ghost",onClick:()=>C(!1),children:"Cerrar"})]})]})]})})})]})})};Ot.propTypes={showNavigation:ia.bool};const It=({showNavigation:a=!0})=>{const[s,r]=Le.useState([]),[l,n]=Le.useState(!0),[i,o]=Le.useState("all"),[d,x]=Le.useState("all"),[m,v]=Le.useState(""),[y,N]=Le.useState(null),[C,S]=Le.useState(!1),[E,P]=Le.useState(!1),[_,A]=Le.useState({destinatario:"",asunto:"",mensaje:"",prioridad:"normal"});Le.useEffect(()=>{L()},[]);const L=async()=>{try{n(!0);const e=await ja.get("/api/messages");e.data.success?r(e.data.data||[]):r([])}catch(e){r([])}finally{n(!1)}},z=async e=>{try{await(a=e,ja.put(`/api/messages/${a}/read`)),r(s.map(a=>a.id===e?{...a,estado:"leido"}:a))}catch(t){}var a},D=e=>{A({destinatario:e.remitente_email,asunto:`Re: ${e.asunto}`,mensaje:`\n\n--- Mensaje original ---\nDe: ${e.remitente}\nFecha: ${I(e.fecha_envio)}\nAsunto: ${e.asunto}\n\n${e.mensaje}`,prioridad:e.prioridad}),P(!0)},M=a=>{switch(a){case"consulta_pedido":default:return e.jsx(ee,{className:"w-4 h-4"});case"consulta_general":return e.jsx(t,{className:"w-4 h-4"});case"soporte":return e.jsx(h,{className:"w-4 h-4"});case"cotizacion":return e.jsx(le,{className:"w-4 h-4"});case"feedback":return e.jsx(c,{className:"w-4 h-4"})}},R=e=>{switch(e){case"consulta_pedido":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"consulta_general":return"text-gray-600 bg-gray-100 dark:bg-gray-900/20";case"soporte":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"cotizacion":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"feedback":return"text-green-600 bg-green-100 dark:bg-green-900/20";default:return"text-gray-600 bg-gray-100"}},T=e=>{switch(null==e?void 0:e.toLowerCase()){case"alta":case"high":return"border-l-red-500";case"normal":case"medium":return"border-l-yellow-500";case"baja":case"low":return"border-l-green-500";default:return"border-l-gray-500"}},O=s.filter(e=>{var a,t,s;const r="all"===i||"read"===i&&"leido"===e.estado||"unread"===i&&"no_leido"===e.estado||"replied"===i&&e.respondido||"pending"===i&&!e.respondido,l="all"===d||e.tipo===d,n=""===m||(null==(a=e.asunto)?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null==(t=e.remitente)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.mensaje)?void 0:s.toLowerCase().includes(m.toLowerCase()));return r&&l&&n}),I=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",q=s.length,F=s.filter(e=>"no_leido"===e.estado).length,$=s.filter(e=>e.respondido).length,B=s.filter(e=>!e.respondido).length;return l?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"💬 Gestión de Mensajes"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra toda la comunicación con clientes y mantén un registro de conversaciones importantes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:L,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(O,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`mensajes_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>P(!0),className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nuevo Mensaje"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(ee,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:q}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Mensajes"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(h,{className:"w-8 h-8 text-orange-600"})}),e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:F}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Leer"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(c,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:$}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respondidos"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(j,{className:"w-8 h-8 text-red-600"})}),e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:B}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendientes"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por asunto, remitente o contenido...",value:m,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===i?"primary":"ghost",size:"sm",onClick:()=>o("all"),children:["Todos (",q,")"]}),e.jsxs($a,{variant:"unread"===i?"primary":"ghost",size:"sm",onClick:()=>o("unread"),children:["Sin Leer (",F,")"]}),e.jsxs($a,{variant:"pending"===i?"primary":"ghost",size:"sm",onClick:()=>o("pending"),children:["Pendientes (",B,")"]}),e.jsxs($a,{variant:"replied"===i?"primary":"ghost",size:"sm",onClick:()=>o("replied"),children:["Respondidos (",$,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),e.jsx($a,{variant:"all"===d?"secondary":"ghost",size:"sm",onClick:()=>x("all"),children:"Todos"}),e.jsx($a,{variant:"consulta_pedido"===d?"secondary":"ghost",size:"sm",onClick:()=>x("consulta_pedido"),children:"Consultas Pedidos"}),e.jsx($a,{variant:"soporte"===d?"secondary":"ghost",size:"sm",onClick:()=>x("soporte"),children:"Soporte"}),e.jsx($a,{variant:"cotizacion"===d?"secondary":"ghost",size:"sm",onClick:()=>x("cotizacion"),children:"Cotizaciones"})]})]}),e.jsx("div",{className:"grid gap-6",children:O.map(a=>{var t,s;return e.jsx(lt,{variant:"gradient",hover:!0,className:`group border-l-4 ${T(a.prioridad)} ${"no_leido"===a.estado?"bg-blue-50/50 dark:bg-blue-900/10":""}`,children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(ee,{className:"w-5 h-5 inline mr-2"}),a.asunto]}),"no_leido"===a.estado&&e.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-medium rounded-full",children:"Nuevo"}),a.respondido&&e.jsx("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-medium rounded-full",children:"Respondido"}),a.tipo&&e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${R(a.tipo)}`,children:[M(a.tipo),a.tipo.replace("_"," ")]}),a.adjuntos.length>0&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:[e.jsx(te,{className:"w-3 h-3"}),a.adjuntos.length]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"De:"}),e.jsx("p",{className:"font-medium",children:a.remitente}),e.jsx("p",{className:"text-sm text-gray-500",children:a.remitente_email})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fecha"}),e.jsx("p",{className:"font-medium",children:I(a.fecha_envio)})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 line-clamp-3",children:a.mensaje})}),a.pedido_relacionado&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:["Pedido relacionado: #",a.pedido_relacionado]})}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded "+("alta"===(null==(t=a.prioridad)?void 0:t.toLowerCase())?"bg-red-100 text-red-800":"normal"===(null==(s=a.prioridad)?void 0:s.toLowerCase())?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Prioridad: ",a.prioridad]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{N(a),S(!0),"no_leido"===a.estado&&z(a.id)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Completo"]}),e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>D(a),children:[e.jsx(se,{className:"w-4 h-4"}),"Responder"]}),"no_leido"===a.estado&&e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>z(a.id),children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar Leído"]})]})]})},a.id)})}),0===O.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(ee,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay mensajes"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===i?"No se han recibido mensajes aún":`No hay mensajes ${i}`})]}),C&&y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:y.asunto}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:["De: ",y.remitente]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y.remitente_email}),e.jsx("p",{className:"text-sm text-gray-500",children:I(y.fecha_envio)})]}),e.jsx("div",{className:"flex gap-2",children:y.tipo&&e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${R(y.tipo)}`,children:[M(y.tipo),y.tipo.replace("_"," ")]})})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:y.mensaje})}),y.adjuntos.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Adjuntos:"}),e.jsx("div",{className:"flex gap-2",children:y.adjuntos.map((a,t)=>e.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 dark:bg-slate-600 text-gray-700 dark:text-gray-300 rounded",children:[e.jsx(te,{className:"w-4 h-4"}),a]},t))})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{variant:"primary",className:"flex items-center gap-2",onClick:()=>{D(y),S(!1)},children:[e.jsx(se,{className:"w-4 h-4"}),"Responder"]}),e.jsxs($a,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{A({destinatario:"",asunto:`Fwd: ${y.asunto}`,mensaje:`\n\n--- Mensaje reenviado ---\nDe: ${y.remitente}\nFecha: ${I(y.fecha_envio)}\nAsunto: ${y.asunto}\n\n${y.mensaje}`,prioridad:y.prioridad}),P(!0),S(!1)},children:[e.jsx(re,{className:"w-4 h-4"}),"Reenviar"]}),e.jsx($a,{variant:"ghost",onClick:()=>S(!1),children:"Cerrar"})]})]})]})})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Nuevo Mensaje"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Para:"}),e.jsx("input",{type:"email",value:_.destinatario,onChange:e=>A({..._,destinatario:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"email@ejemplo.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asunto:"}),e.jsx("input",{type:"text",value:_.asunto,onChange:e=>A({..._,asunto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Asunto del mensaje"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prioridad:"}),e.jsxs("select",{value:_.prioridad,onChange:e=>A({..._,prioridad:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"baja",children:"Baja"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"alta",children:"Alta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensaje:"}),e.jsx("textarea",{value:_.mensaje,onChange:e=>A({..._,mensaje:e.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Escribe tu mensaje aquí..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{variant:"primary",className:"flex items-center gap-2",onClick:async()=>{try{await(e=_,ja.post("/api/messages",e));Date.now(),_.destinatario,_.asunto,_.mensaje,(new Date).toISOString(),_.prioridad,(new Date).toISOString();alert("Mensaje enviado exitosamente"),y&&r(s.map(e=>e.id===y.id?{...e,respondido:!0}:e)),P(!1),A({destinatario:"",asunto:"",mensaje:"",prioridad:"normal"})}catch(a){alert("Error al enviar el mensaje")}var e},disabled:!_.destinatario||!_.asunto||!_.mensaje,children:[e.jsx(K,{className:"w-4 h-4"}),"Enviar Mensaje"]}),e.jsx($a,{variant:"ghost",onClick:()=>P(!1),children:"Cancelar"})]})]})]})})})]})})};It.propTypes={showNavigation:ia.bool};const qt=({showNavigation:a=!0})=>{const[s,r]=Le.useState([]),[l,n]=Le.useState(!0),[i,o]=Le.useState("all"),[x,m]=Le.useState("all"),[v,y]=Le.useState(""),[N,k]=Le.useState(null),[S,E]=Le.useState(!1),[A,L]=Le.useState(!1),[z,M]=Le.useState({nombre:"",asunto:"",contenido:"",audiencia:"todos",fecha_programada:"",tipo:"promocional"});Le.useEffect(()=>{R()},[]);const R=async()=>{try{n(!0);const e=await ja.get("/api/email-campaigns");e.data.success?r(e.data.data||[]):r([])}catch(e){r([])}finally{n(!1)}},T=async e=>{try{const t=s.find(a=>a.id===e);if(!t)return;await(a=e,ja.post(`/api/email-campaigns/${a}/send`)),r(s.map(a=>a.id===e?{...a,estado:"enviada",fecha_envio:(new Date).toISOString()}:a)),alert(`Campaña "${t.nombre}" enviada exitosamente`)}catch(t){alert("Error al enviar la campaña")}var a},O=a=>{switch(a){case"enviada":return e.jsx(c,{className:"w-4 h-4"});case"programada":return e.jsx(j,{className:"w-4 h-4"});case"borrador":return e.jsx(C,{className:"w-4 h-4"});case"pausada":return e.jsx(d,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}},I=e=>{switch(e){case"enviada":return"bg-green-500 text-white";case"programada":return"bg-blue-500 text-white";case"borrador":default:return"bg-gray-500 text-white";case"pausada":return"bg-red-500 text-white"}},q=a=>{switch(a){case"promocional":return e.jsx(_,{className:"w-4 h-4"});case"bienvenida":return e.jsx(D,{className:"w-4 h-4"});case"seguimiento":default:return e.jsx(t,{className:"w-4 h-4"});case"reactivacion":return e.jsx(Q,{className:"w-4 h-4"})}},F=e=>{switch(e){case"promocional":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"bienvenida":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"seguimiento":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"reactivacion":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";default:return"text-gray-600 bg-gray-100"}},$=s.filter(e=>{var a,t;const s="all"===i||e.estado===i,r="all"===x||e.tipo===x,l=""===v||(null==(a=e.nombre)?void 0:a.toLowerCase().includes(v.toLowerCase()))||(null==(t=e.asunto)?void 0:t.toLowerCase().includes(v.toLowerCase()));return s&&r&&l}),B=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",V=s.length,W=s.filter(e=>"enviada"===e.estado).length,H=s.filter(e=>"programada"===e.estado).length,G=s.filter(e=>"borrador"===e.estado).length,Y=s.reduce((e,a)=>{var t;return e+((null==(t=a.metricas)?void 0:t.enviados)||0)},0),X=s.reduce((e,a)=>{var t;return e+((null==(t=a.metricas)?void 0:t.abiertos)||0)},0),J=s.reduce((e,a)=>{var t;return e+((null==(t=a.metricas)?void 0:t.clicks)||0)},0),Z=Y>0?Math.round(X/Y*100):0,ee=Y>0?Math.round(J/Y*100):0;return l?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📧 Email Marketing"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Crea y gestiona campañas de email marketing para mantener conectados a tus clientes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:R,className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Actualizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify($,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`campanas_email_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>L(!0),className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nueva Campaña"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(t,{className:"w-8 h-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:V}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Campañas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(c,{className:"w-8 h-8 text-green-600"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:W}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enviadas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(ne,{className:"w-8 h-8 text-purple-600"})}),e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:Y.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Emails Enviados"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(f,{className:"w-8 h-8 text-orange-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[Z,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasa de Apertura"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(ie,{className:"w-8 h-8 text-red-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:[ee,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasa de Clicks"})]})]}),e.jsxs(lt,{variant:"gradient",className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o asunto...",value:v,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===i?"primary":"ghost",size:"sm",onClick:()=>o("all"),children:["Todas (",V,")"]}),e.jsxs($a,{variant:"enviada"===i?"primary":"ghost",size:"sm",onClick:()=>o("enviada"),children:["Enviadas (",W,")"]}),e.jsxs($a,{variant:"programada"===i?"primary":"ghost",size:"sm",onClick:()=>o("programada"),children:["Programadas (",H,")"]}),e.jsxs($a,{variant:"borrador"===i?"primary":"ghost",size:"sm",onClick:()=>o("borrador"),children:["Borradores (",G,")"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Tipo:"]}),e.jsx($a,{variant:"all"===x?"secondary":"ghost",size:"sm",onClick:()=>m("all"),children:"Todos"}),e.jsx($a,{variant:"promocional"===x?"secondary":"ghost",size:"sm",onClick:()=>m("promocional"),children:"Promocional"}),e.jsx($a,{variant:"bienvenida"===x?"secondary":"ghost",size:"sm",onClick:()=>m("bienvenida"),children:"Bienvenida"}),e.jsx($a,{variant:"seguimiento"===x?"secondary":"ghost",size:"sm",onClick:()=>m("seguimiento"),children:"Seguimiento"})]})]}),e.jsx("div",{className:"grid gap-6",children:$.map(a=>e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(t,{className:"w-5 h-5 inline mr-2"}),a.nombre]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${I(a.estado)}`,children:[O(a.estado),a.estado]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${F(a.tipo)}`,children:[q(a.tipo),a.tipo]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-2",children:a.asunto}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 line-clamp-2",children:a.contenido})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Destinatarios"}),e.jsx("p",{className:"font-medium",children:a.destinatarios})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Creada"}),e.jsx("p",{className:"font-medium",children:B(a.fecha_creacion)})]})]}),a.fecha_envio&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Enviada"}),e.jsx("p",{className:"font-medium",children:B(a.fecha_envio)})]})]}),a.fecha_programada&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Programada"}),e.jsx("p",{className:"font-medium",children:B(a.fecha_programada)})]})]})]}),"enviada"===a.estado&&a.metricas&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:a.metricas.abiertos}),e.jsx("p",{className:"text-xs text-gray-500",children:"Abiertos"}),e.jsxs("p",{className:"text-xs text-green-600",children:[Math.round(a.metricas.abiertos/a.metricas.enviados*100),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:a.metricas.clicks}),e.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"}),e.jsxs("p",{className:"text-xs text-blue-600",children:[Math.round(a.metricas.clicks/a.metricas.enviados*100),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-purple-600",children:a.metricas.conversiones}),e.jsx("p",{className:"text-xs text-gray-500",children:"Conversiones"}),e.jsxs("p",{className:"text-xs text-purple-600",children:[Math.round(a.metricas.conversiones/a.metricas.enviados*100),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-orange-600",children:a.metricas.enviados}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Enviados"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{k(a),E(!0)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),"borrador"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>T(a.id),children:[e.jsx(K,{className:"w-4 h-4"}),"Enviar"]}),"enviada"!==a.estado&&e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Editar"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]})]})]})},a.id))}),0===$.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(t,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay campañas"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===i?"No se han creado campañas aún":`No hay campañas ${i}`})]}),S&&N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:N.nombre}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${I(N.estado)}`,children:[O(N.estado),N.estado]}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${F(N.tipo)}`,children:[q(N.tipo),N.tipo]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asunto"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-lg font-medium",children:N.asunto})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contenido"}),e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:N.contenido})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Audiencia"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:N.audiencia})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Destinatarios"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:N.destinatarios})]})]}),"enviada"===N.estado&&N.metricas&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Métricas de Rendimiento"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N.metricas.enviados}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enviados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.metricas.abiertos}),e.jsx("p",{className:"text-sm text-gray-500",children:"Abiertos"}),e.jsxs("p",{className:"text-xs text-green-600",children:[Math.round(N.metricas.abiertos/N.metricas.enviados*100),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.metricas.clicks}),e.jsx("p",{className:"text-sm text-gray-500",children:"Clicks"}),e.jsxs("p",{className:"text-xs text-purple-600",children:[Math.round(N.metricas.clicks/N.metricas.enviados*100),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.metricas.conversiones}),e.jsx("p",{className:"text-sm text-gray-500",children:"Conversiones"}),e.jsxs("p",{className:"text-xs text-orange-600",children:[Math.round(N.metricas.conversiones/N.metricas.enviados*100),"%"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["borrador"===N.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{T(N.id),E(!1)},children:[e.jsx(K,{className:"w-4 h-4"}),"Enviar Campaña"]}),"enviada"!==N.estado&&e.jsxs($a,{variant:"secondary",className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Editar Campaña"]}),e.jsx($a,{variant:"ghost",onClick:()=>E(!1),children:"Cerrar"})]})]})]})})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Nueva Campaña"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de la Campaña:"}),e.jsx("input",{type:"text",value:z.nombre,onChange:e=>M({...z,nombre:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Nombre descriptivo de la campaña"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asunto del Email:"}),e.jsx("input",{type:"text",value:z.asunto,onChange:e=>M({...z,asunto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Asunto que verán los destinatarios"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Campaña:"}),e.jsxs("select",{value:z.tipo,onChange:e=>M({...z,tipo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"promocional",children:"Promocional"}),e.jsx("option",{value:"bienvenida",children:"Bienvenida"}),e.jsx("option",{value:"seguimiento",children:"Seguimiento"}),e.jsx("option",{value:"reactivacion",children:"Reactivación"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Audiencia:"}),e.jsxs("select",{value:z.audiencia,onChange:e=>M({...z,audiencia:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"todos",children:"Todos los clientes"}),e.jsx("option",{value:"nuevos_clientes",children:"Nuevos clientes"}),e.jsx("option",{value:"clientes_activos",children:"Clientes activos"}),e.jsx("option",{value:"inactivos",children:"Clientes inactivos"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha Programada (opcional):"}),e.jsx("input",{type:"datetime-local",value:z.fecha_programada,onChange:e=>M({...z,fecha_programada:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contenido del Email:"}),e.jsx("textarea",{value:z.contenido,onChange:e=>M({...z,contenido:e.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Escribe el contenido de tu email aquí..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs($a,{variant:"primary",className:"flex items-center gap-2",onClick:async()=>{try{const a=await(e=z,ja.post("/api/email-campaigns",e));a.data.success&&(r([...s,a.data.data]),M({nombre:"",asunto:"",contenido:"",audiencia:"todos",fecha_programada:"",tipo:"promocional"}),L(!1),alert("Campaña creada exitosamente"))}catch(a){alert("Error al crear la campaña")}var e},disabled:!z.nombre||!z.asunto||!z.contenido,children:[e.jsx(w,{className:"w-4 h-4"}),"Crear Campaña"]}),e.jsx($a,{variant:"ghost",onClick:()=>L(!1),children:"Cancelar"})]})]})]})})})]})})};qt.propTypes={showNavigation:ia.bool};const Ft=({showNavigation:a=!0})=>{const{user:l}=qa(),[n,i]=Le.useState(!1),[o,d]=Le.useState(!1),[x,m]=Le.useState(""),[u,g]=Le.useState(""),[p,f]=Le.useState({password_min_length:8,password_require_uppercase:!0,password_require_lowercase:!0,password_require_numbers:!0,password_require_symbols:!0,password_expiration_days:90,password_history_count:5,login_max_attempts:5,login_lockout_minutes:30,session_timeout_minutes:60,session_max_concurrent:3,two_factor_enabled:!1,ip_whitelist:"",ip_blacklist:""}),[b,v]=Le.useState({name:"",description:"",email:"",phone:"",address:"",website:"",logo:"",timezone:"America/Mexico_City",language:"es",currency:"MXN"}),[y,N]=Le.useState({primaryColor:"#7c3aed",secondaryColor:"#06b6d4",theme:"light",compactMode:!1,animations:!0}),[w,k]=Le.useState({businessHours:{monday:{start:"09:00",end:"18:00",active:!0},tuesday:{start:"09:00",end:"18:00",active:!0},wednesday:{start:"09:00",end:"18:00",active:!0},thursday:{start:"09:00",end:"18:00",active:!0},friday:{start:"09:00",end:"18:00",active:!0},saturday:{start:"10:00",end:"14:00",active:!1},sunday:{start:"10:00",end:"14:00",active:!1}},autoResponseEnabled:!0,autoResponseMessage:"Gracias por contactarnos. Responderemos pronto.",notificationsEnabled:!0,emailNotifications:!0,smsNotifications:!1});Le.useEffect(()=>{l&&C()},[l]);const C=async()=>{i(!0);try{const e=(await ja.get("/api/configuration/general")).data||{};v(a=>({...a,name:e.COMPANY_NAME||"BODERLESS TECHNO COMPANY",description:e.COMPANY_DESCRIPTION||"Soluciones tecnológicas sin fronteras",email:e.COMPANY_EMAIL||"contacto@boderless.com",phone:e.COMPANY_PHONE||"+52 555 123 4567",address:e.COMPANY_ADDRESS||"Ciudad de México, México",website:e.COMPANY_WEBSITE||"https://boderless.com",timezone:e.COMPANY_TIMEZONE||a.timezone,language:e.COMPANY_LANGUAGE||a.language,currency:e.COMPANY_CURRENCY||a.currency})),N(a=>({...a,primaryColor:e.THEME_PRIMARY_COLOR||a.primaryColor,secondaryColor:e.THEME_SECONDARY_COLOR||a.secondaryColor,theme:e.THEME_MODE||a.theme,compactMode:"true"===e.THEME_COMPACT_MODE||a.compactMode,animations:"false"!==e.THEME_ANIMATIONS&&a.animations}));const a=(await ja.get("/api/configuration/security")).data||{};f({password_min_length:a.password_min_length||8,password_require_uppercase:!!a.password_require_uppercase,password_require_lowercase:!!a.password_require_lowercase,password_require_numbers:!!a.password_require_numbers,password_require_symbols:!!a.password_require_symbols,password_expiration_days:a.password_expiration_days||90,password_history_count:a.password_history_count||5,login_max_attempts:a.login_max_attempts||5,login_lockout_minutes:a.login_lockout_minutes||30,session_timeout_minutes:a.session_timeout_minutes||60,session_max_concurrent:a.session_max_concurrent||3,two_factor_enabled:!!a.two_factor_enabled,ip_whitelist:a.ip_whitelist||"",ip_blacklist:a.ip_blacklist||""}),k(a=>({...a,autoResponseEnabled:"false"!==e.AUTO_RESPONSE_ENABLED,autoResponseMessage:e.AUTO_RESPONSE_MESSAGE||a.autoResponseMessage,notificationsEnabled:"false"!==e.NOTIFICATIONS_ENABLED,emailNotifications:"false"!==e.EMAIL_NOTIFICATIONS_ENABLED,smsNotifications:"true"===e.SMS_NOTIFICATIONS_ENABLED})),S("Configuración cargada exitosamente","success")}catch(e){S("Error al cargar la configuración","error")}finally{i(!1)}},S=(e,a)=>{m(e),g(a),setTimeout(()=>{m(""),g("")},3e3)},E=(e,a)=>{v(t=>({...t,[e]:a}))},P=(e,a)=>{N(t=>({...t,[e]:a}))},_=(e,a)=>{k(t=>({...t,[e]:a}))},A=(e,a,t)=>{k(s=>({...s,businessHours:{...s.businessHours,[e]:{...s.businessHours[e],[a]:t}}}))},L=(e,a)=>{f(t=>({...t,[e]:a}))},z=a=>{switch(a){case"light":default:return e.jsx(de,{className:"w-4 h-4"});case"dark":return e.jsx(me,{className:"w-4 h-4"});case"auto":return e.jsx(xe,{className:"w-4 h-4"})}};return n?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsx("div",{className:a?"max-w-7xl mx-auto":"",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ga,{size:"lg"})})})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"⚙️ Configuración General"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra la configuración básica del sistema, información de la empresa y preferencias generales"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:C,className:"flex items-center gap-2",disabled:n,children:[e.jsx(U,{className:"w-4 h-4 "+(n?"animate-spin":"")}),"Recargar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:async()=>{d(!0);try{const e={COMPANY_NAME:b.name,COMPANY_DESCRIPTION:b.description,COMPANY_EMAIL:b.email,COMPANY_PHONE:b.phone,COMPANY_ADDRESS:b.address,COMPANY_WEBSITE:b.website,COMPANY_TIMEZONE:b.timezone,COMPANY_LANGUAGE:b.language,COMPANY_CURRENCY:b.currency,THEME_MODE:y.theme,THEME_PRIMARY_COLOR:y.primaryColor,THEME_SECONDARY_COLOR:y.secondaryColor,THEME_COMPACT_MODE:y.compactMode.toString(),THEME_ANIMATIONS:y.animations.toString(),AUTO_RESPONSE_ENABLED:w.autoResponseEnabled.toString(),AUTO_RESPONSE_MESSAGE:w.autoResponseMessage,NOTIFICATIONS_ENABLED:w.notificationsEnabled.toString(),EMAIL_NOTIFICATIONS_ENABLED:w.emailNotifications.toString(),SMS_NOTIFICATIONS_ENABLED:w.smsNotifications.toString()};await ja.put("/api/configuration/general",e),await ja.put("/api/configuration/security",p),S("Configuración guardada exitosamente","success")}catch(e){S("Error al guardar la configuración. Verifique los datos.","error")}finally{d(!1)}},className:"flex items-center gap-2",disabled:o,children:[e.jsx(H,{className:"w-4 h-4"}),o?"Guardando...":"Guardar Cambios"]})]})]}),x&&e.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===u?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===u?e.jsx(c,{className:"w-5 h-5"}):e.jsx(h,{className:"w-5 h-5"}),x]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(B,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Información de la Empresa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre de la Empresa"}),e.jsx("input",{type:"text",value:b.name,onChange:e=>E("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email de Contacto"}),e.jsxs("div",{className:"relative",children:[e.jsx(t,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"email",value:b.email,onChange:e=>E("email",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Teléfono"}),e.jsxs("div",{className:"relative",children:[e.jsx(s,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"tel",value:b.phone,onChange:e=>E("phone",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sitio Web"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"url",value:b.website,onChange:e=>E("website",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dirección"}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"text",value:b.address,onChange:e=>E("address",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción de la Empresa"}),e.jsx("textarea",{rows:3,value:b.description,onChange:e=>E("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(oe,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración de Tema"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tema de la Interfaz"}),e.jsx("div",{className:"space-y-2",children:[{value:"light",label:"Claro",icon:"sun"},{value:"dark",label:"Oscuro",icon:"moon"},{value:"auto",label:"Automático",icon:"monitor"}].map(a=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"theme",value:a.value,checked:y.theme===a.value,onChange:e=>P("theme",e.target.value),className:"mr-3"}),e.jsxs("div",{className:"flex items-center gap-2",children:[z(a.value),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a.label})]})]},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color Primario"}),e.jsx("input",{type:"color",value:y.primaryColor,onChange:e=>P("primaryColor",e.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color Secundario"}),e.jsx("input",{type:"color",value:y.secondaryColor,onChange:e=>P("secondaryColor",e.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-lg"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y.compactMode,onChange:e=>P("compactMode",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Modo Compacto"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y.animations,onChange:e=>P("animations",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Habilitar Animaciones"})]})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ne,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración Regional"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Zona Horaria"}),e.jsxs("select",{value:b.timezone,onChange:e=>E("timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"America/Mexico_City",children:"México (GMT-6)"}),e.jsx("option",{value:"America/New_York",children:"Nueva York (GMT-5)"}),e.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"}),e.jsx("option",{value:"UTC",children:"UTC (GMT+0)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Idioma"}),e.jsxs("select",{value:b.language,onChange:e=>E("language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fr",children:"Français"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Moneda"}),e.jsxs("select",{value:b.currency,onChange:e=>E("currency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"}),e.jsx("option",{value:"USD",children:"Dólar Americano (USD)"}),e.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(j,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Horarios de Atención"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(w.businessHours).map(([a,t])=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"w-24",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.active,onChange:e=>A(a,"active",e.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:"monday"===a?"Lunes":"tuesday"===a?"Martes":"wednesday"===a?"Miércoles":"thursday"===a?"Jueves":"friday"===a?"Viernes":"saturday"===a?"Sábado":"Domingo"})]})}),t.active&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De:"}),e.jsx("input",{type:"time",value:t.start,onChange:e=>A(a,"start",e.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm dark:bg-slate-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"A:"}),e.jsx("input",{type:"time",value:t.end,onChange:e=>A(a,"end",e.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm dark:bg-slate-600 dark:text-white"})]})]})]},a))})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(h,{className:"w-6 h-6 text-red-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración de Notificaciones"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w.notificationsEnabled,onChange:e=>_("notificationsEnabled",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Habilitar Notificaciones del Sistema"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w.emailNotifications,onChange:e=>_("emailNotifications",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Notificaciones por Email"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w.smsNotifications,onChange:e=>_("smsNotifications",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Notificaciones por SMS"})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center mb-3",children:[e.jsx("input",{type:"checkbox",checked:w.autoResponseEnabled,onChange:e=>_("autoResponseEnabled",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Respuesta Automática"})]}),w.autoResponseEnabled&&e.jsx("textarea",{rows:3,value:w.autoResponseMessage,onChange:e=>_("autoResponseMessage",e.target.value),placeholder:"Mensaje de respuesta automática...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(V,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Configuración de Seguridad"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(O,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Políticas de Contraseña"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Longitud Mínima"}),e.jsx("input",{type:"number",min:"4",max:"50",value:p.password_min_length,onChange:e=>L("password_min_length",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Días para Expiración"}),e.jsx("input",{type:"number",min:"0",max:"365",value:p.password_expiration_days,onChange:e=>L("password_expiration_days",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Requisitos de Contraseña"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.password_require_uppercase,onChange:e=>L("password_require_uppercase",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere mayúsculas"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.password_require_lowercase,onChange:e=>L("password_require_lowercase",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere minúsculas"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.password_require_numbers,onChange:e=>L("password_require_numbers",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere números"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.password_require_symbols,onChange:e=>L("password_require_symbols",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere símbolos"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(D,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Configuración de Sesiones"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timeout de Sesión (minutos)"}),e.jsx("input",{type:"number",min:"5",max:"480",value:p.session_timeout_minutes,onChange:e=>L("session_timeout_minutes",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sesiones Concurrentes Máximas"}),e.jsx("input",{type:"number",min:"1",max:"10",value:p.session_max_concurrent,onChange:e=>L("session_max_concurrent",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intentos Máximos de Login"}),e.jsx("input",{type:"number",min:"1",max:"20",value:p.login_max_attempts,onChange:e=>L("login_max_attempts",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ce,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Seguridad Adicional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.two_factor_enabled,onChange:e=>L("two_factor_enabled",e.target.checked),className:"mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Habilitar Autenticación de Dos Factores (2FA)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IPs Permitidas (whitelist)"}),e.jsx("textarea",{rows:3,value:p.ip_whitelist,onChange:e=>L("ip_whitelist",e.target.value),placeholder:"192.168.1.1, 10.0.0.1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IPs Bloqueadas (blacklist)"}),e.jsx("textarea",{rows:3,value:p.ip_blacklist,onChange:e=>L("ip_blacklist",e.target.value),placeholder:"192.168.1.100, 10.0.0.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]})]})]})]})]})]})})};Ft.propTypes={showNavigation:ia.bool};const $t=({showNavigation:a=!0})=>{const[t,s]=Le.useState(!1),[r,l]=Le.useState(!1),[i,o]=Le.useState(""),[x,m]=Le.useState(""),[u,g]=Le.useState([]),[p,f]=Le.useState([]),[b,j]=Le.useState(!1),[v,y]=Le.useState({nombre:"",url:"",eventos:[],activo:!0}),[N,k]=Le.useState({tipo:"payment",proveedor:"",nombre:"",descripcion:"",enabled:!0,configuracion:{}}),[C,S]=Le.useState(!1),{user:E}=qa();Le.useEffect(()=>{E&&(_(),A())},[E]);const _=async()=>{s(!0);try{const e=(await ja.get("/api/integrations")).data||[];g(e)}catch(e){L("Error al cargar las integraciones","error")}finally{s(!1)}},A=async()=>{try{const e=await ja.get("/api/integrations/webhooks");f(e.data||[])}catch(e){}},L=(e,a)=>{o(e),m(a),setTimeout(()=>{o(""),m("")},3e3)},z=a=>{switch(a){case"connected":return e.jsx(c,{className:"w-5 h-5 text-green-500"});case"disconnected":return e.jsx(d,{className:"w-5 h-5 text-red-500"});case"error":return e.jsx(h,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(h,{className:"w-5 h-5 text-gray-500"})}},D=e=>{switch(e){case"connected":return"Conectado";case"disconnected":return"Desconectado";case"error":return"Error";default:return"Desconocido"}};return t?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsx("div",{className:a?"max-w-7xl mx-auto":"",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ga,{size:"lg"})})})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🔌 Integraciones"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Conecta tu sistema con servicios externos para automatizar procesos y mejorar la funcionalidad"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:async()=>{try{const e=await ja.post("/api/integrations/sync");L(e.data.message,"success"),await _()}catch(e){L("Error al sincronizar integraciones","error")}},className:"flex items-center gap-2",disabled:t||r,children:[e.jsx(U,{className:"w-4 h-4 "+(t||r?"animate-spin":"")}),"Sincronizar"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:_,className:"flex items-center gap-2",disabled:t,children:[e.jsx(U,{className:"w-4 h-4 "+(t?"animate-spin":"")}),"Recargar"]})]})]}),i&&e.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===x?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===x?e.jsx(c,{className:"w-5 h-5"}):e.jsx(h,{className:"w-5 h-5"}),i]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Integraciones Configuradas"})]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>S(!0),className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nueva Integración"]})]}),e.jsx("div",{className:"space-y-4",children:0===u.length?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(ce,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No hay integraciones configuradas"}),e.jsx("p",{className:"text-sm",children:"Haz clic en Sincronizar para detectar integraciones automáticamente"})]}):u.map(a=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+("payment"===a.tipo?"bg-green-100 dark:bg-green-900/20":"email"===a.tipo?"bg-blue-100 dark:bg-blue-900/20":"crm"===a.tipo?"bg-purple-100 dark:bg-purple-900/20":"bg-gray-100 dark:bg-gray-900/20"),children:"payment"===a.tipo?"💰":"email"===a.tipo?"📧":"crm"===a.tipo?"👥":"🔌"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:a.nombre}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[z(a.status),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:D(a.status)}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs",children:a.tipo})]}),a.descripcion&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.descripcion})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($a,{variant:"secondary",size:"sm",onClick:()=>(async(e,a)=>{try{const a=await ja.post(`/api/integrations/${e}/test`);L(a.data.message,a.data.result.success?"success":"error"),await _()}catch(t){L(`Error al probar conexión con ${a}`,"error")}})(a.id,a.nombre),disabled:r,children:"Probar"}),e.jsx($a,{variant:a.enabled?"primary":"outline",size:"sm",onClick:()=>(async(e,a)=>{l(!0);try{const t=await ja.put(`/api/integrations/${e}`,a);L(t.data.message,"success"),await _()}catch(t){L("Error al actualizar la integración","error")}finally{l(!1)}})(a.id,{enabled:!a.enabled}),disabled:r,children:a.enabled?"Activo":"Inactivo"})]})]}),a.enabled&&a.configuracion&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Configuración"}),e.jsx("div",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:"string"==typeof a.configuracion?a.configuracion:JSON.stringify(JSON.parse(a.configuracion),null,2)})]}),a.ultima_sincronizacion&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Última sincronización: ",new Date(a.ultima_sincronizacion).toLocaleString()]})]},a.id))})]}),C&&e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Nueva Integración"})]}),e.jsx($a,{variant:"secondary",size:"sm",onClick:()=>S(!1),children:e.jsx(d,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo"}),e.jsxs("select",{value:N.tipo,onChange:e=>k(a=>({...a,tipo:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"payment",children:"Payment"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"crm",children:"CRM"}),e.jsx("option",{value:"analytics",children:"Analytics"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proveedor"}),e.jsx("input",{type:"text",value:N.proveedor,onChange:e=>k(a=>({...a,proveedor:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Ej: Stripe, Mailchimp, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",value:N.nombre,onChange:e=>k(a=>({...a,nombre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Nombre descriptivo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripción"}),e.jsx("input",{type:"text",value:N.descripcion,onChange:e=>k(a=>({...a,descripcion:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Descripción de la integración"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx($a,{variant:"primary",onClick:async()=>{l(!0);try{const e=await ja.post("/api/integrations",N);L(e.data.message,"success"),S(!1),k({tipo:"payment",proveedor:"",nombre:"",descripcion:"",enabled:!0,configuracion:{}}),await _()}catch(e){L("Error al crear la integración","error")}finally{l(!1)}},disabled:r||!N.proveedor||!N.nombre,children:r?"Creando...":"Crear Integración"}),e.jsx($a,{variant:"secondary",onClick:()=>S(!1),children:"Cancelar"})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Webhooks"})]}),e.jsxs($a,{variant:"primary",size:"sm",className:"flex items-center gap-2",onClick:()=>j(!0),children:[e.jsx(w,{className:"w-4 h-4"}),"Nuevo Webhook"]})]}),e.jsx("div",{className:"space-y-4",children:0===p.length?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(he,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No hay webhooks configurados"}),e.jsx("p",{className:"text-sm",children:"Los webhooks permiten recibir notificaciones automáticas de eventos"})]}):p.map(a=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:a.nombre||a.name}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(a.activo||a.active?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:a.activo||a.active?"Activo":"Inactivo"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:a.url}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Eventos: ",a.eventos?a.eventos.join(", "):a.events?a.events.join(", "):"No especificados"]}),(a.ultimo_disparado||a.lastTriggered)&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Último disparado: ",new Date(a.ultimo_disparado||a.lastTriggered).toLocaleString()]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx($a,{variant:"danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de que quieres eliminar este webhook?"))try{await ja.delete(`/api/integrations/webhooks/${e}`),L("Webhook eliminado exitosamente","success"),await A()}catch(a){L("Error al eliminar webhook","error")}})(a.id),children:e.jsx(P,{className:"w-4 h-4"})})})]})},a.id))})]}),b&&e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Nuevo Webhook"})]}),e.jsx($a,{variant:"secondary",size:"sm",onClick:()=>j(!1),children:e.jsx(d,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",value:v.nombre,onChange:e=>y(a=>({...a,nombre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Nombre descriptivo del webhook"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL"}),e.jsx("input",{type:"url",value:v.url,onChange:e=>y(a=>({...a,url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"https://ejemplo.com/webhook"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Eventos (separados por comas)"}),e.jsx("input",{type:"text",value:v.eventos.join(", "),onChange:e=>y(a=>({...a,eventos:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"order.created, payment.completed, user.registered"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx($a,{variant:"primary",onClick:async()=>{l(!0);try{const e=await ja.post("/api/integrations/webhooks",v);L(e.data.message,"success"),j(!1),y({nombre:"",url:"",eventos:[],activo:!0}),await A()}catch(e){L("Error al crear webhook","error")}finally{l(!1)}},disabled:r||!v.nombre||!v.url,children:r?"Creando...":"Crear Webhook"}),e.jsx($a,{variant:"secondary",onClick:()=>j(!1),children:"Cancelar"})]})]})]})]})})};$t.propTypes={showNavigation:ia.bool};const Bt=({showNavigation:a=!0})=>{const[t,s]=Le.useState(!1),[r,l]=Le.useState(!1),[n,i]=Le.useState(""),[o,x]=Le.useState(""),[m,h]=Le.useState({requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSymbols:!0,minLength:8,maxLength:128,expireDays:90,preventReuse:5,lockoutAttempts:5,lockoutDuration:30}),[u,g]=Le.useState({enabled:!1,method:"app",backupCodes:[],trustedDevices:[]}),[v,y]=Le.useState({sessionTimeout:1440,maxSessions:3,requireReauth:!1,logoutInactive:!0,inactivityTimeout:60}),[N,C]=Le.useState({ipWhitelist:[],ipBlacklist:[],allowedCountries:["MX","US","CA"],blockVPN:!1,allowMobile:!0,allowDesktop:!0}),[S,E]=Le.useState([]),[P,_]=Le.useState([]),[A,z]=Le.useState({}),[D,M]=Le.useState([]),[R,T]=Le.useState(""),[O,I]=Le.useState(!1),{user:q}=qa();Le.useEffect(()=>{q&&(F(),$(),B(),G(),Y())},[q]);const F=async()=>{s(!0),s(!1)},$=async()=>{try{const e=await ja.get("/api/security/logs?limite=50");E(e.data.logs||[])}catch(e){X("Error al cargar los logs de seguridad","error")}},B=async()=>{try{const e=await ja.get("/api/security/stats?dias=30");_(e.data.resumen||[])}catch(e){}},G=async()=>{try{const e=await ja.get("/api/security/summary");z(e.data||{})}catch(e){}},Y=async()=>{try{const e=[{id:1,device:"Chrome on Windows",ip:"192.168.1.100",location:"México, CDMX",lastActivity:(new Date).toISOString(),current:!0}];M(e)}catch(e){}},X=(e,a)=>{i(e),x(a),setTimeout(()=>{i(""),x("")},3e3)},K=a=>{switch(a){case"login_exitoso":return e.jsx(c,{className:"w-5 h-5 text-green-500"});case"login_fallido":case"acceso_denegado":return e.jsx(d,{className:"w-5 h-5 text-red-500"});case"cambio_password":return e.jsx(ce,{className:"w-5 h-5 text-blue-500"});case"bloqueo_cuenta":return e.jsx(V,{className:"w-5 h-5 text-orange-500"});case"desbloqueo_cuenta":return e.jsx(V,{className:"w-5 h-5 text-green-500"});case"logout":return e.jsx(c,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(L,{className:"w-5 h-5 text-gray-500"})}},J=e=>{switch(e){case"login_exitoso":return"Inicio de sesión exitoso";case"login_fallido":return"Intento de login fallido";case"cambio_password":return"Cambio de contraseña";case"bloqueo_cuenta":return"Cuenta bloqueada";case"desbloqueo_cuenta":return"Cuenta desbloqueada";case"acceso_denegado":return"Acceso denegado";case"logout":return"Cierre de sesión";default:return e.replace("_"," ").toUpperCase()}};return t?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsx("div",{className:a?"max-w-7xl mx-auto":"",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ga,{size:"lg"})})})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🔒 Seguridad"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra la configuración de seguridad, autenticación y control de acceso del sistema"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e={settings:{password:m,twoFactor:u,session:v,access:N},logs:S,sessions:D,exportDate:(new Date).toISOString()},a=JSON.stringify(e,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(a),s=`security_report_${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",s),r.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar Reporte"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{F(),$(),B(),G(),Y()},className:"flex items-center gap-2",disabled:t,children:[e.jsx(U,{className:"w-4 h-4 "+(t?"animate-spin":"")}),"Recargar"]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:async()=>{l(!0);try{X("Configuración de seguridad guardada exitosamente","success")}catch(e){X("Error al guardar la configuración de seguridad","error")}finally{l(!1)}},className:"flex items-center gap-2",disabled:r,children:[e.jsx(H,{className:"w-4 h-4"}),r?"Guardando...":"Guardar Cambios"]})]})]}),n&&e.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===o?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===o?e.jsx(c,{className:"w-5 h-5"}):e.jsx(Z,{className:"w-5 h-5"}),n]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ce,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Política de Contraseñas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Longitud Mínima"}),e.jsx("input",{type:"number",min:"6",max:"32",value:m.minLength,onChange:e=>h(a=>({...a,minLength:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expiración (días)"}),e.jsx("input",{type:"number",min:"0",max:"365",value:m.expireDays,onChange:e=>h(a=>({...a,expireDays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intentos Fallidos"}),e.jsx("input",{type:"number",min:"3",max:"10",value:m.lockoutAttempts,onChange:e=>h(a=>({...a,lockoutAttempts:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bloqueo (minutos)"}),e.jsx("input",{type:"number",min:"5",max:"60",value:m.lockoutDuration,onChange:e=>h(a=>({...a,lockoutDuration:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsx("div",{className:"mt-6 space-y-3",children:[{key:"requireUppercase",label:"Requerir mayúsculas"},{key:"requireLowercase",label:"Requerir minúsculas"},{key:"requireNumbers",label:"Requerir números"},{key:"requireSymbols",label:"Requerir símbolos"}].map(({key:a,label:t})=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m[a],onChange:e=>h(t=>({...t,[a]:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t})]},a))})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(V,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Autenticación de Dos Factores (2FA)"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Habilitar 2FA"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Agrega una capa extra de seguridad a tu cuenta"})]}),e.jsx("label",{className:"inline-flex items-center",children:e.jsx("input",{type:"checkbox",checked:u.enabled,onChange:e=>g(a=>({...a,enabled:e.target.checked})),className:"form-checkbox h-6 w-6 text-violet-600"})})]}),u.enabled&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Método de 2FA"}),e.jsxs("select",{value:u.method,onChange:e=>g(a=>({...a,method:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"app",children:"Aplicación Autenticadora"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"Email"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"primary",size:"sm",onClick:async()=>{try{const e=[];for(let a=0;a<10;a++){const a=new Uint8Array(4);window.crypto.getRandomValues(a);const t=Array.from(a,e=>e.toString(16).padStart(2,"0")).join("").toUpperCase();e.push(t)}g(a=>({...a,backupCodes:e})),X("Códigos de respaldo generados de forma segura","success")}catch(e){X("Error al generar códigos de respaldo","error")}},className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Generar Códigos de Respaldo"]}),e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>I(!O),className:"flex items-center gap-2",children:[O?e.jsx(W,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"}),O?"Ocultar":"Ver"," Códigos"]})]}),O&&u.backupCodes.length>0&&e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 mb-3",children:"Códigos de Respaldo"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono",children:u.backupCodes.map((a,t)=>e.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded border",children:a},t))}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Guarda estos códigos en un lugar seguro. Cada uno puede usarse solo una vez."})]})]})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(j,{className:"w-6 h-6 text-purple-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Gestión de Sesiones"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timeout de Sesión (minutos)"}),e.jsx("input",{type:"number",min:"30",max:"10080",value:v.sessionTimeout,onChange:e=>y(a=>({...a,sessionTimeout:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Máximo de Sesiones Concurrentes"}),e.jsx("input",{type:"number",min:"1",max:"10",value:v.maxSessions,onChange:e=>y(a=>({...a,maxSessions:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsx("div",{className:"mt-6 space-y-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:v.logoutInactive,onChange:e=>y(a=>({...a,logoutInactive:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Cerrar sesión automáticamente por inactividad"})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Sesiones Activas"}),e.jsx("div",{className:"space-y-3",children:D.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.device.includes("iPhone")?e.jsx(ie,{className:"w-5 h-5 text-blue-600"}):e.jsx(xe,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:a.device}),a.current&&e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 text-xs rounded-full",children:"Actual"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a.ip," • ",a.location]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Última actividad: ",new Date(a.lastActivity).toLocaleString()]})]})]}),!a.current&&e.jsxs($a,{variant:"danger",size:"sm",onClick:()=>(async e=>{try{M(a=>a.filter(a=>a.id!==e)),X("Sesión terminada","success")}catch(a){X("Error al terminar la sesión","error")}})(a.id),children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Terminar"]})]},a.id))})]})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ne,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Control de Acceso"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-3",children:"Lista Blanca de IPs"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:R,onChange:e=>T(e.target.value),placeholder:"192.168.1.100",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>{return e="ipWhitelist",void(R&&(C(a=>({...a,[e]:[...a[e],R]})),T(""),X("IP agregada a lista blanca","success")));var e},className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Agregar"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.ipWhitelist.map((a,t)=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-full text-sm",children:[a,e.jsx("button",{onClick:()=>((e,a)=>{C(t=>({...t,[e]:t[e].filter(e=>e!==a)})),X("IP removida de lista blanca","success")})("ipWhitelist",a),className:"text-green-600 hover:text-green-800",children:e.jsx(d,{className:"w-4 h-4"})})]},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.blockVPN,onChange:e=>C(a=>({...a,blockVPN:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Bloquear conexiones VPN/Proxy"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.allowMobile,onChange:e=>C(a=>({...a,allowMobile:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Permitir acceso desde dispositivos móviles"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.allowDesktop,onChange:e=>C(a=>({...a,allowDesktop:e.target.checked})),className:"mr-3 form-checkbox h-5 w-5 text-violet-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Permitir acceso desde computadoras de escritorio"})]})]})]})]}),A.cuentas_bloqueadas&&A.cuentas_bloqueadas.length>0&&e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Z,{className:"w-6 h-6 text-orange-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Cuentas Bloqueadas"})]}),e.jsx("div",{className:"space-y-3",children:A.cuentas_bloqueadas.map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100",children:a.nombre||"Usuario desconocido"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.email_intento}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Bloqueado: ",new Date(a.fecha_bloqueo).toLocaleString()]})]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:()=>(async e=>{try{await ja.post(`/api/security/unlock/${e}`),X(`Cuenta ${e} desbloqueada exitosamente`,"success"),$()}catch(a){X("Error al desbloquear la cuenta","error")}})(a.email_intento),className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4"}),"Desbloquear"]})]},t))})]}),P.length>0&&e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(L,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Estadísticas de Seguridad (Últimos 30 días)"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:P.map((a,t)=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:a.total}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:J(a.tipo)})]},t))})]}),e.jsxs(lt,{variant:"gradient",className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(L,{className:"w-6 h-6 text-red-600"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Registro de Seguridad"})]}),e.jsx("div",{className:"space-y-3",children:0===S.length?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay logs de seguridad disponibles"}):S.map(a=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:K(a.tipo)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:J(a.tipo)}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("login_exitoso"===a.tipo||"logout"===a.tipo||"desbloqueo_cuenta"===a.tipo?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:"login_exitoso"===a.tipo||"logout"===a.tipo||"desbloqueo_cuenta"===a.tipo?"Exitoso":"Fallido"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("span",{className:"flex items-center gap-1 mb-1",children:[e.jsx(k,{className:"w-4 h-4"}),a.email_intento||a.usuario_email||"Usuario desconocido"]}),e.jsxs("span",{className:"flex items-center gap-1 mb-1",children:[e.jsx(ne,{className:"w-4 h-4"}),a.ip," • ",a.ubicacion||"Ubicación desconocida"]}),e.jsxs("span",{className:"flex items-center gap-1 mb-1",children:[e.jsx(xe,{className:"w-4 h-4"}),a.dispositivo||"Dispositivo desconocido"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleString()]}),a.detalles&&e.jsx("div",{className:"mt-2 text-xs text-gray-500 bg-gray-100 dark:bg-slate-600 p-2 rounded",children:"string"==typeof a.detalles?a.detalles:JSON.stringify(a.detalles)})]})]})]},a.id))})]})]})]})})};Bt.propTypes={showNavigation:ia.bool};const Vt=({showNavigation:a=!0})=>{const[t,s]=Le.useState([]),[r,n]=Le.useState(!0),[i,o]=Le.useState(!1),[d,x]=Le.useState(""),[m,h]=Le.useState(""),[p,b]=Le.useState(""),[j,v]=Le.useState("all"),[y,N]=Le.useState("all"),[k,S]=Le.useState(!1),[E,_]=Le.useState(null),[A,L]=Le.useState({nombre:"",descripcion:"",imagen:"",url:"",demo:"",tecnologias:[],categoria:"web",estado:"planificacion"}),[z,D]=Le.useState(""),M=[{id:"all",label:"Todas las categorías",icon:ne},{id:"web",label:"Desarrollo Web",icon:ne},{id:"app",label:"Aplicaciones",icon:ie},{id:"system",label:"Sistemas",icon:ue},{id:"api",label:"APIs",icon:ge}],R=Le.useCallback(async()=>{try{n(!0);const e=await ja.get("/api/projects");e.data.success?s(e.data.data):I("Error al cargar los proyectos","error")}catch(e){I("Error al conectar con el servidor","error")}finally{n(!1)}},[]);Le.useEffect(()=>{R()},[R]);const T=()=>{_(null),L({nombre:"",descripcion:"",imagen:"",url:"",demo:"",tecnologias:[],categoria:"web",estado:"planificacion"}),S(!0)},O=()=>{z.trim()&&!A.tecnologias.includes(z.trim())&&(L(e=>({...e,tecnologias:[...e.tecnologias,z.trim()]})),D(""))},I=(e,a)=>{x(e),h(a),setTimeout(()=>{x(""),h("")},3e3)},q=t.filter(e=>{const a=e.nombre.toLowerCase().includes(p.toLowerCase())||e.descripcion.toLowerCase().includes(p.toLowerCase()),t="all"===j||e.categoria===j,s="all"===y||e.estado===y;return a&&t&&s}),F=a=>{const t=M.find(e=>e.id===a),s=(null==t?void 0:t.icon)||ne;return e.jsx(s,{className:"w-5 h-5"})},$=e=>{switch(e){case"planificacion":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200";case"desarrollo":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200";case"revision":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-200";case"completado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200";case"mantenimiento":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-200"}};return r?e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"p-6",children:e.jsx("div",{className:a?"max-w-7xl mx-auto":"",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600"})})})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"🎨 Gestión de Proyectos"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra el portfolio de proyectos que se muestran en la página pública"})]}),e.jsxs($a,{variant:"primary",size:"sm",onClick:T,className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nuevo Proyecto"]})]}),d&&e.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-center gap-2 "+("success"===m?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:["success"===m?e.jsx(c,{className:"w-5 h-5"}):e.jsx(Z,{className:"w-5 h-5"}),d]})]}),e.jsx(lt,{variant:"gradient",className:"p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar proyectos...",value:p,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("select",{value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white appearance-none",children:M.map(a=>e.jsx("option",{value:a.id,children:a.label},a.id))})]}),e.jsx("select",{value:y,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[{id:"all",label:"Todos los estados"},{id:"planificacion",label:"Planificación"},{id:"desarrollo",label:"Desarrollo"},{id:"revision",label:"Revisión"},{id:"completado",label:"Completado"},{id:"mantenimiento",label:"Mantenimiento"}].map(a=>e.jsx("option",{value:a.id,children:a.label},a.id))})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:q.map(a=>{var t,s;return e.jsxs(lt,{variant:"gradient",className:"overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-gray-700",children:[a.imagen?e.jsx("img",{src:a.imagen,alt:a.nombre,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=400&q=80"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(pe,{className:"w-12 h-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$(a.estado)}`,children:a.estado})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[F(a.categoria),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:a.categoria})]})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2 line-clamp-1",children:a.nombre}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:a.descripcion}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[null==(t=a.tecnologias)?void 0:t.slice(0,3).map((a,t)=>e.jsx("span",{className:"px-2 py-1 bg-violet-100 dark:bg-violet-900/20 text-violet-800 dark:text-violet-200 text-xs rounded-md",children:a},t)),(null==(s=a.tecnologias)?void 0:s.length)>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:["+",a.tecnologias.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[a.demo&&e.jsx("a",{href:a.demo,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-500 hover:text-violet-600 transition-colors",title:"Ver Demo",children:e.jsx(f,{className:"w-4 h-4"})}),a.url&&e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-500 hover:text-violet-600 transition-colors",title:"Ver Código",children:e.jsx(fe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>(e=>{_(e),L({nombre:e.nombre||"",descripcion:e.descripcion||"",imagen:e.imagen||"",url:e.url||"",demo:e.demo||"",tecnologias:e.tecnologias||[],categoria:e.categoria||"web",estado:e.estado||"planificacion"}),S(!0)})(a),className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",title:"Editar",children:e.jsx(C,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de que quieres eliminar este proyecto?"))try{o(!0),await axios.delete(`/api/projects/${e}`),await R(),I("Proyecto eliminado exitosamente","success")}catch(a){I("Error al eliminar el proyecto","error")}finally{o(!1)}})(a.id),className:"p-2 text-gray-500 hover:text-red-600 transition-colors",title:"Eliminar",disabled:i,children:e.jsx(P,{className:"w-4 h-4"})})]})]})]})]},a.id)})}),0===q.length&&e.jsxs(lt,{variant:"gradient",className:"p-12 text-center",children:[e.jsx(pe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No se encontraron proyectos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:p||"all"!==j||"all"!==y?"Intenta ajustar los filtros de búsqueda":"Comienza creando tu primer proyecto"}),!p&&"all"===j&&"all"===y&&e.jsxs($a,{variant:"primary",onClick:T,className:"flex items-center gap-2 mx-auto",children:[e.jsx(w,{className:"w-4 h-4"}),"Crear Primer Proyecto"]})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:E?"Editar Proyecto":"Nuevo Proyecto"}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:e.jsx(l,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre del Proyecto *"}),e.jsx("input",{type:"text",value:A.nombre,onChange:e=>L(a=>({...a,nombre:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Ej: Landing Page Corporativa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripción *"}),e.jsx("textarea",{value:A.descripcion,onChange:e=>L(a=>({...a,descripcion:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Describe el proyecto y sus características principales..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL de Imagen"}),e.jsx("input",{type:"url",value:A.imagen,onChange:e=>L(a=>({...a,imagen:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL del Demo"}),e.jsx("input",{type:"url",value:A.demo,onChange:e=>L(a=>({...a,demo:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"https://demo.ejemplo.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL del Repositorio"}),e.jsx("input",{type:"url",value:A.url,onChange:e=>L(a=>({...a,url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"https://github.com/usuario/proyecto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoría"}),e.jsxs("select",{value:A.categoria,onChange:e=>L(a=>({...a,categoria:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"web",children:"Desarrollo Web"}),e.jsx("option",{value:"app",children:"Aplicaciones"}),e.jsx("option",{value:"system",children:"Sistemas"}),e.jsx("option",{value:"api",children:"APIs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estado"}),e.jsxs("select",{value:A.estado,onChange:e=>L(a=>({...a,estado:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"planificacion",children:"Planificación"}),e.jsx("option",{value:"desarrollo",children:"Desarrollo"}),e.jsx("option",{value:"revision",children:"Revisión"}),e.jsx("option",{value:"completado",children:"Completado"}),e.jsx("option",{value:"mantenimiento",children:"Mantenimiento"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tecnologías"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:z,onChange:e=>D(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),O()),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Ej: React, Node.js, MongoDB..."}),e.jsx($a,{type:"button",variant:"secondary",size:"sm",onClick:O,className:"px-4",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.tecnologias.map((a,t)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-violet-100 dark:bg-violet-900/20 text-violet-800 dark:text-violet-200 text-sm rounded-full",children:[a,e.jsx("button",{type:"button",onClick:()=>(e=>{L(a=>({...a,tecnologias:a.tecnologias.filter(a=>a!==e)}))})(a),className:"ml-1 hover:text-violet-600",children:e.jsx(l,{className:"w-3 h-3"})})]},t))})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-600",children:[e.jsx($a,{variant:"secondary",onClick:()=>S(!1),disabled:i,children:"Cancelar"}),e.jsxs($a,{variant:"primary",onClick:async()=>{if(A.nombre&&A.descripcion)try{o(!0),E?(await ja.put(`/api/projects/${E.id}`,A),I("Proyecto actualizado exitosamente","success")):(await ja.post("/api/projects",A),I("Proyecto creado exitosamente","success")),S(!1),await R()}catch(e){I("Error al guardar el proyecto","error")}finally{o(!1)}else I("Nombre y descripción son requeridos","error")},disabled:i,className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),i?"Guardando...":E?"Actualizar":"Crear Proyecto"]})]})]})})})]})})};Vt.propTypes={showNavigation:ia.bool};const Wt=()=>{const[a,r]=Le.useState({}),[l,i]=Le.useState([]),[o,f]=Le.useState([]),[b,v]=Le.useState(!0),[y,N]=Le.useState("month"),[k,C]=Le.useState("dashboard"),[S,E]=Le.useState(""),[_,A]=Le.useState("todos"),[L,z]=Le.useState(null),[M]=Le.useState([]),[T]=Le.useState([]),[O]=Le.useState([]),[I,q]=Le.useState(!1),[F,$]=Le.useState(null),[B,W]=Le.useState(!1),[H,U]=Le.useState(null),[G,Y]=Le.useState(!1),[X,K]=Le.useState(null),[J,Z]=Le.useState(!1),[Q,ee]=Le.useState(""),[ae,te]=Le.useState(""),[se,re]=Le.useState("");Le.useEffect(()=>{(async()=>{v(!0);try{const[e,a,t]=await Promise.all([Ta(),ja.get("/api/admin/recent-activity"),ja.get("/api/admin/top-clients")]);e.data.success&&r(e.data.data),a.data.success&&i(a.data.data),t.data.success&&f(t.data.data)}catch(e){r({}),i([]),f([])}finally{v(!1)}})()},[y]);const le=async()=>{window.location.reload()},ne=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e),ie=e=>{const a=new Date(e),t=new Date,s=Math.abs(t-a),r=Math.ceil(s/36e5);if(r<24)return`Hace ${r}h`;return`Hace ${Math.ceil(r/24)}d`},oe=e=>{switch(e){case"new_payment":return"💰";case"new_quote":return"📋";case"project_completed":return"✅";case"overdue_payment":return"⚠️";case"new_client":return"👤";default:return"📢"}},ce=(e=null)=>{$(e),q(!0)},de=(e=null)=>{U(e),W(!0)},xe=(e=null)=>{K(e),Y(!0)},me=a=>{if("string"!=typeof a)return e.jsx(h,{className:"w-4 h-4 text-gray-500"});switch(a.toLowerCase()){case"completado":case"pagado":case"activo":return e.jsx(c,{className:"w-4 h-4 text-green-500"});case"en_proceso":return e.jsx(j,{className:"w-4 h-4 text-blue-500"});case"pendiente":case"nuevo":return e.jsx(h,{className:"w-4 h-4 text-yellow-500"});case"pendiente de verificación":return e.jsx(t,{className:"w-4 h-4 text-orange-500"});case"vencido":case"inactivo":return e.jsx(d,{className:"w-4 h-4 text-red-500"});default:return e.jsx(h,{className:"w-4 h-4 text-gray-500"})}},he=e=>{if("string"!=typeof e)return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";switch(e.toLowerCase()){case"completado":case"pagado":case"activo":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"en_proceso":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"pendiente":case"nuevo":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"pendiente de verificación":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"vencido":case"inactivo":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},ue=e=>{if("string"!=typeof e)return"bg-gray-500";switch(e.toLowerCase()){case"alta":return"bg-red-500";case"normal":return"bg-yellow-500";case"baja":return"bg-green-500";default:return"bg-gray-500"}},ge=(e,a)=>e.filter(e=>{if(!e)return!1;const t=a.some(a=>String(e[a]||"").toLowerCase().includes(S.toLowerCase())),s="todos"===_||e.estado&&e.estado===_;return t&&s}),pe=T.filter(e=>{var a;return"completado"===(null==(a=e.estado)?void 0:a.toLowerCase())}).length,fe=O.reduce((e,a)=>{var t;return"pagado"===(null==(t=a.estado)?void 0:t.toLowerCase())?e+parseFloat(a.monto||0):e},0),ve=T.filter(e=>{var a;return"pendiente"===(null==(a=e.estado)?void 0:a.toLowerCase())}).length;return b?e.jsx(ct,{children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"bg-white/10 border border-white/20 rounded-2xl p-6 animate-pulse",children:[e.jsx(nt,{height:"8",width:"1/2",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):L?e.jsx(ct,{children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Error al cargar datos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:L}),e.jsx($a,{onClick:()=>window.location.reload(),variant:"primary",children:"Reintentar"})]})})}):e.jsx(ct,{onSidebarOptionSelect:e=>{["dashboard","overview","analytics","quick-stats"].includes(e)&&C(e),["cotizaciones","pedidos","historial"].includes(e)&&C(e),["ver-clientes","nuevo-cliente","estadisticas-clientes"].includes(e)&&C(e),["pagos-finanzas","reportes-finanzas","facturas-finanzas"].includes(e)&&C(e),["notificaciones-comm","mensajes-comm","emails-comm"].includes(e)&&C(e),["proyectos-admin"].includes(e)&&C(e),["configuracion-general","integraciones","seguridad"].includes(e)&&C(e)},children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Panel de Administración"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"dashboard"===k?"Vista general de tu negocio y actividades recientes":`Gestiona ${k} desde un panel centralizado`})]}),"dashboard"===k&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx($a,{variant:"week"===y?"primary":"ghost",size:"sm",onClick:()=>N("week"),children:"Esta semana"}),e.jsx($a,{variant:"month"===y?"primary":"ghost",size:"sm",onClick:()=>N("month"),children:"Este mes"}),e.jsx($a,{variant:"year"===y?"primary":"ghost",size:"sm",onClick:()=>N("year"),children:"Este año"})]})]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-8 bg-white dark:bg-slate-800 rounded-lg p-2 shadow-lg",children:[{id:"dashboard",label:"Dashboard Principal",icon:R},{id:"clientes",label:"Clientes (CRUD)",icon:D},{id:"pagos",label:"Pagos",icon:n},{id:"configuracion",label:"Configuración (Legacy)",icon:be}].map(a=>e.jsxs("button",{onClick:()=>C(a.id),className:"flex items-center px-4 py-2 rounded-md font-medium transition-all "+(k===a.id?"bg-violet-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700"),children:[e.jsx(a.icon,{className:"w-4 h-4 mr-2"}),a.label]},a.id))}),"dashboard"!==k&&"configuracion"!==k&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:S,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:_,onChange:e=>A(e.target.value),className:"px-4 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",children:[e.jsx("option",{value:"todos",children:"Todos"}),"clientes"===k&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"activo",children:"Activo"}),e.jsx("option",{value:"inactivo",children:"Inactivo"})]}),"pedidos"===k&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"pendiente",children:"Pendiente"}),e.jsx("option",{value:"en_proceso",children:"En Progreso"}),e.jsx("option",{value:"completado",children:"Completado"})]}),"pagos"===k&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"pagado",children:"Pagado"}),e.jsx("option",{value:"pendiente de verificación",children:"Pendiente de Verificación"}),e.jsx("option",{value:"vencido",children:"Vencido"}),e.jsx("option",{value:"pendiente",children:"Pendiente"})]})]})]}),e.jsxs("button",{onClick:()=>{switch(k){case"clientes":ce();break;case"pedidos":de();break;case"pagos":xe()}},className:"flex items-center justify-center px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Agregar ",k.slice(0,-1)]})]}),"dashboard"===k&&e.jsxs(e.Fragment,{children:[e.jsx(bt,{stats:a,formatCurrency:ne}),e.jsx(jt,{stats:a,formatCurrency:ne,className:"mb-8"}),e.jsx(vt,{stats:a,recentActivity:l,topClients:o,formatCurrency:ne,className:"mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(wt,{recentActivity:l,formatDate:ie,getActivityIcon:oe,getActivityColor:e=>{switch(e){case"urgent":return"border-l-red-500 bg-red-50/50 dark:bg-red-900/10";case"high":return"border-l-yellow-500 bg-yellow-50/50 dark:bg-yellow-900/10";default:return"border-l-blue-500 bg-blue-50/50 dark:bg-blue-900/10"}}})}),e.jsx("div",{children:e.jsx(kt,{topClients:o,formatCurrency:ne})})]}),e.jsx(Ct,{onActionClick:e=>{switch(e){case"new_client":C("clientes"),ce();break;case"new_order":C("pedidos"),de();break;case"new_payment":C("pagos"),xe();break;case"view_reports":C("dashboard")}}}),e.jsx(St,{stats:a,formatCurrency:ne,onViewPayments:()=>{C("pagos"),A("pendiente")}})]}),"overview"===k&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Clientes Totales"}),e.jsx("p",{className:"text-3xl font-bold",children:a.totalClients||0})]}),e.jsx(D,{className:"w-8 h-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Proyectos Activos"}),e.jsx("p",{className:"text-3xl font-bold",children:a.activeProjects||0})]}),e.jsx(x,{className:"w-8 h-8 text-green-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"Ingresos del Mes"}),e.jsx("p",{className:"text-3xl font-bold",children:ne(a.monthlyRevenue||0)})]}),e.jsx(m,{className:"w-8 h-8 text-purple-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm",children:"Pagos Pendientes"}),e.jsx("p",{className:"text-3xl font-bold",children:a.pendingPayments||0})]}),e.jsx(h,{className:"w-8 h-8 text-orange-200"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Actividad Reciente"}),e.jsx("div",{className:"space-y-3",children:l.slice(0,5).map((a,t)=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:oe(a.type)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ie(a.date)})]})]})},t))})]})]}),"analytics"===k&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(vt,{stats:a,recentActivity:l,topClients:o,formatCurrency:ne,className:"mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Rendimiento por Período"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Esta Semana"}),e.jsx("span",{className:"font-semibold text-green-600",children:"+12%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Este Mes"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"+8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Este Año"}),e.jsx("span",{className:"font-semibold text-purple-600",children:"+25%"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Métricas de Conversión"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cotizaciones a Pedidos"}),e.jsx("span",{className:"font-semibold text-green-600",children:"68%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Retención de Clientes"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"85%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Satisfacción"}),e.jsx("span",{className:"font-semibold text-purple-600",children:"94%"})]})]})]})]})]}),"quick-stats"===k&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:a.totalClients||0}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Clientes Registrados"}),e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["+",a.newClientsThisMonth||0," este mes"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:a.completedProjects||0}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Proyectos Completados"}),e.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:[a.activeProjects||0," activos"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:ne(a.averageProjectValue||0)}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Valor Promedio"}),e.jsxs("div",{className:"text-sm text-orange-600 mt-1",children:[a.pendingQuotes||0," cotizaciones"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Resumen Ejecutivo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white mb-3",children:"Ingresos"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Mensual:"}),e.jsx("span",{className:"font-semibold",children:ne(a.monthlyRevenue||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pendiente:"}),e.jsx("span",{className:"font-semibold text-orange-600",children:ne(1e3*(a.pendingPayments||0))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-white mb-3",children:"Proyectos"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"En progreso:"}),e.jsx("span",{className:"font-semibold",children:a.activeProjects||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Completados:"}),e.jsx("span",{className:"font-semibold text-green-600",children:a.completedProjects||0})]})]})]})]})]})]}),"dashboard_basico"===k&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-violet-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Clientes"}),e.jsx("p",{className:"text-2xl font-bold text-violet-600 dark:text-violet-400",children:M.length})]}),e.jsx(D,{className:"w-8 h-8 text-violet-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pedidos Completados"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:pe})]}),e.jsx(c,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ingresos Totales"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",fe.toLocaleString()]})]}),e.jsx(m,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pedidos Pendientes"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:ve})]}),e.jsx(h,{className:"w-8 h-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:["clientes"===k&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Registro"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:ge(M,["nombre","email"]).map(a=>{var r;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-violet-400 to-purple-400 flex items-center justify-center text-white font-medium",children:null==(r=a.nombre)?void 0:r.charAt(0)}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.nombre}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",a.id]})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white flex items-center",children:[e.jsx(t,{className:"w-4 h-4 mr-2 text-gray-400"}),a.email]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx(s,{className:"w-4 h-4 mr-2 text-gray-400"}),a.telefono]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[me(a.estado),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${he(a.estado)}`,children:a.estado})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.rol})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4 mr-1"}),new Date(a.fecha_registro).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>ce(a),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de que quieres eliminar este usuario?"))try{await wa(e),await le()}catch(a){z("No se pudo eliminar el usuario.")}})(a.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:e.jsx(P,{className:"w-4 h-4"})})]})})]},a.id)})})]})}),"pedidos"===k&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Descripción"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prioridad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:ge(T,["cliente_nombre","descripcion"]).map(a=>{var t;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.cliente_nombre})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.descripcion})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[me(a.estado),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${he(a.estado)}`,children:a.estado})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${ue(a.prioridad)}`}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.prioridad})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",null==(t=a.valor)?void 0:t.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"w-4 h-4 mr-1"}),new Date(a.fecha_creacion).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>de(a),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de que quieres eliminar este pedido?"))try{await Sa(e),await le()}catch(a){z("No se pudo eliminar el pedido.")}})(a.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:e.jsx(P,{className:"w-4 h-4"})})]})})]},a.id)})})]})}),"pagos"===k&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Concepto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Método"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Referencia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:ge(O,["cliente_nombre","concepto"]).map(a=>{var t;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:a.cliente_nombre}),e.jsx("td",{className:"px-6 py-4",children:a.concepto}),e.jsxs("td",{className:"px-6 py-4",children:["$",null==(t=a.monto)?void 0:t.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:a.metodo}),e.jsx("td",{className:"px-6 py-4",children:a.referencia_transferencia}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[me(a.estado),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${he(a.estado)}`,children:a.estado})]})}),e.jsx("td",{className:"px-6 py-4",children:new Date(a.fecha_pago).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>xe(a),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de que quieres eliminar este pago?"))try{await _a(e),await le()}catch(a){z("No se pudo eliminar el pago.")}})(a.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:e.jsx(P,{className:"w-4 h-4"})})]})})]},a.id)})})]})}),"configuracion"===k&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),"Configuración del Panel"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Ajusta las preferencias y la seguridad de tu panel."})]}),e.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Perfil de Administrador"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",defaultValue:"Admin",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",defaultValue:"admin@example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"Guardar Cambios"})})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[e.jsx(V,{className:"w-5 h-5 mr-2"}),"Seguridad"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Cambiar Contraseña"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Se recomienda cambiar la contraseña periódicamente."})]}),e.jsx("button",{onClick:()=>{Z(!0)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:"Cambiar"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Autenticación de Dos Factores (2FA)"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Añade una capa extra de seguridad a tu cuenta."})]}),e.jsx("button",{className:"w-12 h-6 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center transition-colors p-1",children:e.jsx("span",{className:"w-4 h-4 rounded-full bg-white transform transition-transform"})})]})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[e.jsx(n,{className:"w-5 h-5 mr-2"}),"Pasarelas de Pago"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Credenciales de PayPal"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"Estas credenciales se usarán para procesar pagos reales. Trátelas con cuidado."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client ID"}),e.jsx("input",{type:"text",value:Q,onChange:e=>ee(e.target.value),placeholder:"Su Client ID de PayPal",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Secret Key"}),e.jsx("input",{type:"password",value:ae,onChange:e=>te(e.target.value),placeholder:"Ingrese una nueva Secret Key para actualizar",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"La clave secreta no se muestra por seguridad. Deje el campo en blanco para no cambiarla."})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end items-center gap-4",children:[se&&e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:se}),e.jsx("button",{onClick:async()=>{try{const a={PAYPAL_CLIENT_ID:Q,PAYPAL_SECRET_KEY:ae};a.PAYPAL_SECRET_KEY||delete a.PAYPAL_SECRET_KEY,await(e=a,ja.put("/api/config",e)),re("¡Configuración de PayPal guardada con éxito!"),te(""),setTimeout(()=>re(""),3e3)}catch(a){re("Error al guardar. Verifique la consola."),setTimeout(()=>re(""),3e3)}var e},className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"Guardar Configuración de PayPal"})]})]})]})]}),"cotizaciones"===k&&e.jsx("div",{children:e.jsx(Ht,{showNavigation:!1})}),"pedidos"===k&&e.jsx("div",{children:e.jsx(ut,{showNavigation:!1})}),"historial"===k&&e.jsx("div",{children:e.jsx(gt,{showNavigation:!1})}),"ver-clientes"===k&&e.jsx("div",{children:e.jsx(Lt,{showNavigation:!1})}),"nuevo-cliente"===k&&e.jsx("div",{children:e.jsx(zt,{showNavigation:!1})}),"estadisticas-clientes"===k&&e.jsx("div",{children:e.jsx(Dt,{showNavigation:!1})}),"pagos-finanzas"===k&&e.jsx("div",{children:e.jsx(Mt,{showNavigation:!1})}),"reportes-finanzas"===k&&e.jsx("div",{children:e.jsx(Rt,{showNavigation:!1})}),"facturas-finanzas"===k&&e.jsx("div",{children:e.jsx(Tt,{showNavigation:!1})}),"notificaciones-comm"===k&&e.jsx("div",{children:e.jsx(Ot,{showNavigation:!1})}),"mensajes-comm"===k&&e.jsx("div",{children:e.jsx(It,{showNavigation:!1})}),"emails-comm"===k&&e.jsx("div",{children:e.jsx(qt,{showNavigation:!1})}),"configuracion-general"===k&&e.jsx("div",{children:e.jsx(Ft,{showNavigation:!1})}),"integraciones"===k&&e.jsx("div",{children:e.jsx($t,{showNavigation:!1})}),"seguridad"===k&&e.jsx("div",{children:e.jsx(Bt,{showNavigation:!1})}),"proyectos-admin"===k&&e.jsx("div",{children:e.jsx(Vt,{showNavigation:!1})})]}),e.jsx(Et,{isOpen:I,onClose:()=>{$(null),q(!1)},onSave:async e=>{try{F?await Na(F.id,e):await ya(e),await le()}catch(a){throw a}},user:F}),e.jsx(Pt,{isOpen:B,onClose:()=>{U(null),W(!1)},onSave:async e=>{try{H?await Ca(H.id,e):await(e=>ja.post("/api/orders",e))(e),await le()}catch(a){throw a}},order:H,clients:M}),e.jsx(_t,{isOpen:G,onClose:()=>{K(null),Y(!1)},onSave:async e=>{try{X?await Pa(X.id,e):await(e=>ja.post("/api/payments",e))(e),await le()}catch(a){throw a}},payment:X,clients:M,orders:T}),e.jsx(At,{isOpen:J,onClose:()=>{Z(!1)}})]})})},Ht=({showNavigation:a=!0})=>{const{user:r}=qa(),[l,n]=Le.useState([]),[i,o]=Le.useState(!0),[x,m]=Le.useState("all"),[g,y]=Le.useState(""),[N,k]=Le.useState(null),[C,S]=Le.useState(!1);Le.useEffect(()=>{E()},[]);const E=async()=>{try{o(!0);const e=await Aa();e.data.success&&n(e.data.data)}catch(e){}finally{o(!1)}},_=async(e,a)=>{try{const t=await((e,a)=>ja.put(`/api/quotes/${e}`,a))(e,{estado:a});t.data.success&&n(l.map(t=>t.id===e?{...t,estado:a}:t))}catch(t){}},A=async e=>{if(confirm("¿Estás seguro de que quieres eliminar esta cotización?"))try{const a=await(e=>ja.delete(`/api/quotes/${e}`))(e);a.data.success&&n(l.filter(a=>a.id!==e))}catch(a){}},L=async e=>{try{const a=await(e=>ja.post(`/api/quotes/${e}/convert`))(e);a.data.success&&(n(l.map(a=>a.id===e?{...a,estado:"aceptada"}:a)),alert("Cotización convertida a pedido exitosamente"))}catch(a){}},D=a=>{switch(a){case"borrador":return e.jsx(j,{className:"w-4 h-4"});case"enviada":return e.jsx(c,{className:"w-4 h-4"});case"aceptada":return e.jsx(z,{className:"w-4 h-4"});case"rechazada":return e.jsx(d,{className:"w-4 h-4"});default:return e.jsx(h,{className:"w-4 h-4"})}},M=e=>{switch(e){case"borrador":default:return"bg-gray-500 text-white";case"enviada":return"bg-blue-500 text-white";case"aceptada":return"bg-green-500 text-white";case"rechazada":return"bg-red-500 text-white";case"vencida":return"bg-orange-500 text-white"}},R=l.filter(e=>{const a="all"===x||e.estado===x,t=""===g||e.nombre_prospecto.toLowerCase().includes(g.toLowerCase())||e.email_prospecto.toLowerCase().includes(g.toLowerCase())||e.tipo_servicio.toLowerCase().includes(g.toLowerCase());return a&&t}),T=e=>{if(!e)return"No disponible";try{return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(a){return"Fecha inválida"}};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(nt,{height:"8",width:"1/3",className:"mb-4"}),e.jsx(nt,{height:"4",width:"2/3"})]}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(a=>e.jsxs(lt,{variant:"gradient",className:"animate-pulse",children:[e.jsx(nt,{height:"6",width:"1/4",className:"mb-4"}),e.jsx(nt,{height:"4",width:"full",className:"mb-2"}),e.jsx(nt,{height:"4",width:"3/4"})]},a))})]})}):e.jsx("div",{className:a?"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6":"",children:e.jsxs("div",{className:a?"max-w-7xl mx-auto":"",children:[a&&e.jsx(ht,{}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-4",children:"📋 Gestión de Cotizaciones"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:"Administra todas las solicitudes de cotización de clientes potenciales"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($a,{variant:"secondary",size:"sm",onClick:()=>{const e=JSON.stringify(R,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=`cotizaciones_${(new Date).toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",t),s.click()},className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Exportar"]}),e.jsxs($a,{variant:"primary",size:"sm",className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Nueva Cotización"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-600 mb-2",children:l.filter(e=>"borrador"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Borrador"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:l.filter(e=>"enviada"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enviadas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.filter(e=>"aceptada"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aceptadas"})]}),e.jsxs(lt,{variant:"gradient",className:"text-center group hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:l.filter(e=>"rechazada"===e.estado).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rechazadas"})]})]}),e.jsx(lt,{variant:"gradient",className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o servicio...",value:g,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs($a,{variant:"all"===x?"primary":"ghost",size:"sm",onClick:()=>m("all"),children:["Todas (",l.length,")"]}),e.jsxs($a,{variant:"borrador"===x?"primary":"ghost",size:"sm",onClick:()=>m("borrador"),children:["Borrador (",l.filter(e=>"borrador"===e.estado).length,")"]}),e.jsxs($a,{variant:"enviada"===x?"primary":"ghost",size:"sm",onClick:()=>m("enviada"),children:["Enviadas (",l.filter(e=>"enviada"===e.estado).length,")"]}),e.jsxs($a,{variant:"aceptada"===x?"primary":"ghost",size:"sm",onClick:()=>m("aceptada"),children:["Aceptadas (",l.filter(e=>"aceptada"===e.estado).length,")"]}),e.jsxs($a,{variant:"rechazada"===x?"primary":"ghost",size:"sm",onClick:()=>m("rechazada"),children:["Rechazadas (",l.filter(e=>"rechazada"===e.estado).length,")"]})]})]})}),e.jsx("div",{className:"grid gap-6",children:R.map(a=>e.jsx(lt,{variant:"gradient",hover:!0,className:"group",children:e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:a.nombre_prospecto}),e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${M(a.estado)}`,children:[D(a.estado),a.estado]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:a.email_prospecto})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(s,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"font-medium",children:a.telefono_prospecto||"No especificado"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Servicio"}),e.jsx("p",{className:"font-medium",children:a.tipo_servicio})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Descripción"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:a.descripcion})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsxs("span",{children:["Recibida el ",T(a.created_at)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row xl:flex-col gap-3 xl:w-48",children:[e.jsxs($a,{variant:"primary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>{k(a),S(!0)},children:[e.jsx(f,{className:"w-4 h-4"}),"Ver Detalles"]}),"borrador"===a.estado&&e.jsxs($a,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(a.id,"enviada"),children:[e.jsx(c,{className:"w-4 h-4"}),"Enviar"]}),"enviada"===a.estado&&e.jsxs(e.Fragment,{children:[e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(a.id,"aceptada"),children:[e.jsx(c,{className:"w-4 h-4"}),"Aceptar"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(a.id,"rechazada"),children:[e.jsx(d,{className:"w-4 h-4"}),"Rechazar"]})]}),"aceptada"===a.estado&&e.jsxs($a,{variant:"success",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>L(a.id),children:[e.jsx(z,{className:"w-4 h-4"}),"Convertir a Pedido"]}),e.jsxs($a,{variant:"danger",size:"sm",className:"w-full flex items-center justify-center gap-2",onClick:()=>A(a.id),children:[e.jsx(P,{className:"w-4 h-4"}),"Eliminar"]})]})]})},a.id))}),0===R.length&&e.jsxs(lt,{variant:"gradient",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(v,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No hay cotizaciones"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===x?"No se han registrado cotizaciones aún":`No hay cotizaciones con estado "${x}"`})]}),C&&N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Detalles de Cotización"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(d,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombre del Cliente"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:N.nombre_prospecto})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estado"}),e.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium mt-1 ${M(N.estado)}`,children:[D(N.estado),N.estado]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:N.email_prospecto})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Teléfono"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:N.telefono_prospecto||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Empresa"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:N.empresa_prospecto||"No especificado"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Servicio"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:N.tipo_servicio})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descripción"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100 leading-relaxed",children:N.descripcion})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fecha de Creación"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:T(N.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Última Actualización"}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:T(N.updated_at)})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:["borrador"===N.estado&&e.jsxs($a,{variant:"secondary",className:"flex items-center gap-2",onClick:()=>{_(N.id,"enviada"),S(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Enviar Cotización"]}),"enviada"===N.estado&&e.jsxs(e.Fragment,{children:[e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{_(N.id,"aceptada"),S(!1)},children:[e.jsx(c,{className:"w-4 h-4"}),"Marcar como Aceptada"]}),e.jsxs($a,{variant:"danger",className:"flex items-center gap-2",onClick:()=>{_(N.id,"rechazada"),S(!1)},children:[e.jsx(d,{className:"w-4 h-4"}),"Marcar como Rechazada"]})]}),"aceptada"===N.estado&&e.jsxs($a,{variant:"success",className:"flex items-center gap-2",onClick:()=>{L(N.id),S(!1)},children:[e.jsx(z,{className:"w-4 h-4"}),"Convertir a Pedido"]}),e.jsx($a,{variant:"ghost",onClick:()=>S(!1),children:"Cerrar"})]})]})]})})})]})})},Ut=({clientData:a,formatCurrency:t,className:s=""})=>{var r,l,i,o,d,x,u,g,f,b,v,y,N;const[w,C]=Le.useState("overview"),[S,E]=Le.useState({}),[P,_]=Le.useState(null),[L,z]=Le.useState([]),[D,M]=Le.useState([]),[R,T]=Le.useState([]),[O,I]=Le.useState(!0),[q,F]=Le.useState(null),$=async()=>{try{I(!0),F(null);const[e,a,t,s]=await Promise.all([ja.get("/api/client/stats"),ja.get("/api/client/projects"),Ma(),ja.get("/api/client/activity")]);_(e.data),z(a.data),M(t.data),T(s.data)}catch(e){F("Error al cargar los datos del dashboard"),_(null)}finally{I(!1)}},B=a||P||{};Le.useEffect(()=>{a||$();const e=setTimeout(()=>{E({projects:!0,payments:!0,quotes:!0})},100);return()=>clearTimeout(e)},[a]);const V=[{title:"Proyectos Activos",value:(null==(r=B.projects)?void 0:r.active)||0,icon:j,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",subtitle:`${(null==(l=B.projects)?void 0:l.total)||0} en total`},{title:"Completados",value:(null==(i=B.projects)?void 0:i.completed)||0,icon:c,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",subtitle:"Proyectos finalizados"},{title:"Pagos Pendientes",value:t((null==(o=B.payments)?void 0:o.pending)||0),icon:n,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",subtitle:((null==(d=B.payments)?void 0:d.overdue)||0)>0?`${t(B.payments.overdue)} vencido`:"Todo al día"},{title:"Notificaciones",value:(null==(x=B.notifications)?void 0:x.unread)||0,icon:h,color:((null==(u=B.notifications)?void 0:u.urgent)||0)>0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",bgColor:((null==(g=B.notifications)?void 0:g.urgent)||0)>0?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-gray-800",borderColor:((null==(f=B.notifications)?void 0:f.urgent)||0)>0?"border-red-200 dark:border-red-800":"border-gray-200 dark:border-gray-700",subtitle:`${(null==(b=B.notifications)?void 0:b.urgent)||0} urgentes`}],W=[{id:"overview",label:"Resumen",icon:A},{id:"projects",label:"Proyectos",icon:c},{id:"payments",label:"Pagos",icon:m},{id:"activity",label:"Actividad",icon:p}],H=({completed:a,total:t})=>{const s=t>0?a/t*100:0;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[e.jsx("span",{children:"Progreso de Proyectos"}),e.jsxs("span",{children:[s.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${s}%`}})})]})};return O&&!a?e.jsx("div",{className:`space-y-6 ${s}`,children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(Ga,{size:"lg"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Cargando datos del dashboard..."})]})}):q&&!B.personalInfo?e.jsx("div",{className:`space-y-6 ${s}`,children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(h,{className:"w-12 h-12 text-red-600 dark:text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-400 mb-2",children:"Error al cargar datos"}),e.jsx("p",{className:"text-red-600 dark:text-red-500 mb-4",children:q}),e.jsx("button",{onClick:$,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reintentar"})]})}):e.jsxs("div",{className:`space-y-6 ${s}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:(null==(v=B.personalInfo)?void 0:v.name)||"Cliente"}),e.jsx("p",{className:"text-blue-100",children:(null==(y=B.personalInfo)?void 0:y.email)||"email@cliente.com"}),e.jsxs("p",{className:"text-blue-200 text-sm",children:["Cliente desde ",(null==(N=B.personalInfo)?void 0:N.joinDate)?new Date(B.personalInfo.joinDate).toLocaleDateString("es-ES"):"N/A"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:V.map((a,t)=>{const s=a.icon;return e.jsxs("div",{className:`${a.bgColor} rounded-xl p-4 border ${a.borderColor} transition-all duration-300 hover:scale-105 ${S.projects?"animate-fade-in":"opacity-0"}`,style:{animationDelay:100*t+"ms"},children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(s,{className:`w-5 h-5 ${a.color}`})}),e.jsx("div",{className:`text-2xl font-bold ${a.color}`,children:a.value}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.title}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:a.subtitle})]},t)})}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:W.map(a=>{const t=a.icon;return e.jsxs("button",{onClick:()=>C(a.id),className:"flex items-center px-4 py-2 rounded-md font-medium transition-colors flex-1 justify-center "+(w===a.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[e.jsx(t,{className:"w-4 h-4 mr-2"}),a.label]},a.id)})}),e.jsx("div",{className:"transition-all duration-300",children:(()=>{var a,s,r,l,i,o,d,x,m,u,g,f,b,j,v,y,N,k;switch(w){case"overview":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Estado de la Cuenta"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Estado:"}),e.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400 capitalize",children:(null==(a=B.personalInfo)?void 0:a.status)||"active"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cliente desde:"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(null==(s=B.personalInfo)?void 0:s.joinDate)?new Date(B.personalInfo.joinDate).toLocaleDateString("es-ES"):"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total gastado:"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t((null==(r=B.payments)?void 0:r.paid)||0)})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Progreso General"}),e.jsx(H,{completed:(null==(l=B.projects)?void 0:l.completed)||0,total:(null==(i=B.projects)?void 0:i.total)||0}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[(null==(o=B.projects)?void 0:o.completed)||0," de ",(null==(d=B.projects)?void 0:d.total)||0," proyectos completados"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Próximos Vencimientos"}),e.jsxs("div",{className:"space-y-3",children:[((null==(x=B.payments)?void 0:x.pending)||0)>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"w-4 h-4 text-orange-600 mr-2"}),e.jsx("span",{className:"text-orange-800 dark:text-orange-400",children:"Pago pendiente"})]}),e.jsx("span",{className:"font-semibold text-orange-900 dark:text-orange-300",children:t((null==(m=B.payments)?void 0:m.pending)||0)})]}),((null==(u=B.notifications)?void 0:u.urgent)||0)>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"w-4 h-4 text-red-600 mr-2"}),e.jsx("span",{className:"text-red-800 dark:text-red-400",children:"Notificaciones urgentes"})]}),e.jsx("span",{className:"font-semibold text-red-900 dark:text-red-300",children:(null==(g=B.notifications)?void 0:g.urgent)||0})]}),0===((null==(f=B.payments)?void 0:f.pending)||0)&&0===((null==(b=B.notifications)?void 0:b.urgent)||0)&&e.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"🎉 ¡Todo está al día! No tienes pendientes urgentes."})]})]})]});case"projects":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:(null==(j=B.projects)?void 0:j.active)||0}),e.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-400",children:"Activos"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(null==(v=B.projects)?void 0:v.completed)||0}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-400",children:"Completados"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800 text-center",children:[e.jsx("div",{className:"text-sm text-orange-800 dark:text-orange-400",children:"Pendientes"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:(null==(y=B.projects)?void 0:y.pending)||0})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Historial de Proyectos"}),e.jsx("div",{className:"space-y-3",children:L.length>0?L.slice(0,5).map((a,s)=>{var r,l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:a.name||"Proyecto sin nombre"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(a.date).toLocaleDateString("es-ES")}),a.value&&e.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t(a.value)})]}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("completado"===(null==(r=a.status)?void 0:r.toLowerCase())?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-400":"en_proceso"===(null==(l=a.status)?void 0:l.toLowerCase())?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-400":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-400"),children:a.status||"pendiente"})]},a.id||s)}):e.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[e.jsx(c,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),e.jsx("p",{children:"No hay proyectos registrados"})]})})]})]});case"payments":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-400 mb-2",children:"Total Pagado"}),e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-300",children:t((null==(N=B.payments)?void 0:N.paid)||0)})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-6 border border-orange-200 dark:border-orange-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800 dark:text-orange-400 mb-2",children:"Pendiente"}),e.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-300",children:t((null==(k=B.payments)?void 0:k.pending)||0)})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Historial de Pagos"}),e.jsx("div",{className:"space-y-3",children:D.length>0?D.slice(0,5).map((a,s)=>{var r,l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:a.concept}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(a.date).toLocaleDateString("es-ES")}),a.method&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Método: ",a.method]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:t(a.amount)}),e.jsx("span",{className:"text-xs font-medium "+("pagado"===(null==(r=a.status)?void 0:r.toLowerCase())?"text-green-600 dark:text-green-400":"vencido"===(null==(l=a.status)?void 0:l.toLowerCase())?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"),children:a.status||"pendiente"})]})]},a.id||s)}):e.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[e.jsx(n,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),e.jsx("p",{children:"No hay pagos registrados"})]})})]})]});case"activity":return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Actividad Reciente"}),e.jsx("div",{className:"space-y-4",children:R.length>0?R.slice(0,10).map((a,t)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 "+("payment"===a.type?"bg-green-600":"project"===a.type?"bg-blue-600":"bg-gray-600")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:a.message}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.type&&e.jsxs("span",{className:"capitalize",children:[a.type," • "]}),"Prioridad: ",a.priority||"normal"]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(a.time).toLocaleDateString("es-ES")})]},t)):e.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),e.jsx("p",{children:"No hay actividad reciente"})]})})]});default:return null}})()})]})};function Gt({children:a,className:t,...s}){return e.jsx("button",{className:`font-bold py-2 px-4 rounded-lg transition-all ${t}`,...s,children:a})}function Yt(...e){return Ge(Ye(e))}Ut.propTypes={clientData:ia.object,formatCurrency:ia.func.isRequired,className:ia.string},Gt.displayName="Button";const Xt=Le.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:Yt("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t}));Xt.displayName="Card";Le.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:Yt("flex flex-col space-y-1.5 p-6",a),...t})).displayName="CardHeader";Le.forwardRef(({className:a,...t},s)=>e.jsx("h3",{ref:s,className:Yt("text-2xl font-semibold leading-none tracking-tight",a),...t})).displayName="CardTitle";Le.forwardRef(({className:a,...t},s)=>e.jsx("p",{ref:s,className:Yt("text-sm text-muted-foreground",a),...t})).displayName="CardDescription";Le.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:Yt("p-6 pt-0",a),...t})).displayName="CardContent";Le.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:Yt("flex items-center p-6 pt-0",a),...t})).displayName="CardFooter";const Kt=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Jt=Ye,Zt=(e,a)=>t=>{var s;if(null==(null==a?void 0:a.variants))return Jt(e,null==t?void 0:t.class,null==t?void 0:t.className);const{variants:r,defaultVariants:l}=a,n=Object.keys(r).map(e=>{const a=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===a)return null;const n=Kt(a)||Kt(s);return r[e][n]}),i=t&&Object.entries(t).reduce((e,a)=>{let[t,s]=a;return void 0===s||(e[t]=s),e},{}),o=null==a||null===(s=a.compoundVariants)||void 0===s?void 0:s.reduce((e,a)=>{let{class:t,className:s,...r}=a;return Object.entries(r).every(e=>{let[a,t]=e;return Array.isArray(t)?t.includes({...l,...i}[a]):{...l,...i}[a]===t})?[...e,t,s]:e},[]);return Jt(e,n,o,null==t?void 0:t.class,null==t?void 0:t.className)},Qt=Zt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function es({className:a,variant:t,...s}){return e.jsx("div",{className:Yt(Qt({variant:t}),a),...s})}const as=Le.forwardRef(({className:a,...t},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Yt("w-full caption-bottom text-sm",a),...t})}));as.displayName="Table";const ts=Le.forwardRef(({className:a,...t},s)=>e.jsx("thead",{ref:s,className:Yt("[&_tr]:border-b",a),...t}));ts.displayName="TableHeader";const ss=Le.forwardRef(({className:a,...t},s)=>e.jsx("tbody",{ref:s,className:Yt("[&_tr:last-child]:border-0",a),...t}));ss.displayName="TableBody";Le.forwardRef(({className:a,...t},s)=>e.jsx("tfoot",{ref:s,className:Yt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t})).displayName="TableFooter";const rs=Le.forwardRef(({className:a,...t},s)=>e.jsx("tr",{ref:s,className:Yt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t}));rs.displayName="TableRow";const ls=Le.forwardRef(({className:a,...t},s)=>e.jsx("th",{ref:s,className:Yt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...t}));ls.displayName="TableHead";const ns=Le.forwardRef(({className:a,...t},s)=>e.jsx("td",{ref:s,className:Yt("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...t}));ns.displayName="TableCell";function is(e,[a,t]){return Math.min(t,Math.max(a,e))}function os(e,a,{checkForDefaultPrevented:t=!0}={}){return function(s){if(null==e||e(s),!1===t||!s.defaultPrevented)return null==a?void 0:a(s)}}function cs(a,t=[]){let s=[];const r=()=>{const e=s.map(e=>Le.createContext(e));return function(t){const s=(null==t?void 0:t[a])||e;return Le.useMemo(()=>({[`__scope${a}`]:{...t,[a]:s}}),[t,s])}};return r.scopeName=a,[function(t,r){const l=Le.createContext(r),n=s.length;s=[...s,r];const i=t=>{var s;const{scope:r,children:i,...o}=t,c=(null==(s=null==r?void 0:r[a])?void 0:s[n])||l,d=Le.useMemo(()=>o,Object.values(o));return e.jsx(c.Provider,{value:d,children:i})};return i.displayName=t+"Provider",[i,function(e,s){var i;const o=(null==(i=null==s?void 0:s[a])?void 0:i[n])||l,c=Le.useContext(o);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${e}\` must be used within \`${t}\``)}]},ds(r,...t)]}function ds(...e){const a=e[0];if(1===e.length)return a;const t=()=>{const t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const s=t.reduce((a,{useScope:t,scopeName:s})=>({...a,...t(e)[`__scope${s}`]}),{});return Le.useMemo(()=>({[`__scope${a.scopeName}`]:s}),[s])}};return t.scopeName=a.scopeName,t}Le.forwardRef(({className:a,...t},s)=>e.jsx("caption",{ref:s,className:Yt("mt-4 text-sm text-muted-foreground",a),...t})).displayName="TableCaption";var xs=Le.createContext(void 0);function ms(e){const a=Le.useRef(e);return Le.useEffect(()=>{a.current=e}),Le.useMemo(()=>(...e)=>{var t;return null==(t=a.current)?void 0:t.call(a,...e)},[])}var hs,us="dismissableLayer.update",gs="dismissableLayer.pointerDownOutside",ps="dismissableLayer.focusOutside",fs=Le.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bs=Le.forwardRef((a,t)=>{var s;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:l,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=a,x=Le.useContext(fs),[m,h]=Le.useState(null),u=null!=(s=null==m?void 0:m.ownerDocument)?s:null==globalThis?void 0:globalThis.document,[,g]=Le.useState({}),p=ve(t,e=>h(e)),f=Array.from(x.layers),[b]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),j=f.indexOf(b),v=m?f.indexOf(m):-1,y=x.layersWithOutsidePointerEventsDisabled.size>0,N=v>=j,w=function(e,a=(null==globalThis?void 0:globalThis.document)){const t=ms(e),s=Le.useRef(!1),r=Le.useRef(()=>{});return Le.useEffect(()=>{const e=e=>{if(e.target&&!s.current){let s=function(){vs(gs,t,l,{discrete:!0})};const l={originalEvent:e};"touch"===e.pointerType?(a.removeEventListener("click",r.current),r.current=s,a.addEventListener("click",r.current,{once:!0})):s()}else a.removeEventListener("click",r.current);s.current=!1},l=window.setTimeout(()=>{a.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(l),a.removeEventListener("pointerdown",e),a.removeEventListener("click",r.current)}},[a,t]),{onPointerDownCapture:()=>s.current=!0}}(e=>{const a=e.target,t=[...x.branches].some(e=>e.contains(a));N&&!t&&(null==n||n(e),null==o||o(e),e.defaultPrevented||null==c||c())},u),k=function(e,a=(null==globalThis?void 0:globalThis.document)){const t=ms(e),s=Le.useRef(!1);return Le.useEffect(()=>{const e=e=>{if(e.target&&!s.current){vs(ps,t,{originalEvent:e},{discrete:!1})}};return a.addEventListener("focusin",e),()=>a.removeEventListener("focusin",e)},[a,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(e=>{const a=e.target;[...x.branches].some(e=>e.contains(a))||(null==i||i(e),null==o||o(e),e.defaultPrevented||null==c||c())},u);return function(e,a=(null==globalThis?void 0:globalThis.document)){const t=ms(e);Le.useEffect(()=>{const e=e=>{"Escape"===e.key&&t(e)};return a.addEventListener("keydown",e,{capture:!0}),()=>a.removeEventListener("keydown",e,{capture:!0})},[t,a])}(e=>{v===x.layers.size-1&&(null==l||l(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},u),Le.useEffect(()=>{if(m)return r&&(0===x.layersWithOutsidePointerEventsDisabled.size&&(hs=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(m)),x.layers.add(m),js(),()=>{r&&1===x.layersWithOutsidePointerEventsDisabled.size&&(u.body.style.pointerEvents=hs)}},[m,u,r,x]),Le.useEffect(()=>()=>{m&&(x.layers.delete(m),x.layersWithOutsidePointerEventsDisabled.delete(m),js())},[m,x]),Le.useEffect(()=>{const e=()=>g({});return document.addEventListener(us,e),()=>document.removeEventListener(us,e)},[]),e.jsx(Ne.div,{...d,ref:p,style:{pointerEvents:y?N?"auto":"none":void 0,...a.style},onFocusCapture:os(a.onFocusCapture,k.onFocusCapture),onBlurCapture:os(a.onBlurCapture,k.onBlurCapture),onPointerDownCapture:os(a.onPointerDownCapture,w.onPointerDownCapture)})});bs.displayName="DismissableLayer";function js(){const e=new CustomEvent(us);document.dispatchEvent(e)}function vs(e,a,t,{discrete:s}){const r=t.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});a&&r.addEventListener(e,a,{once:!0}),s?we(r,l):r.dispatchEvent(l)}Le.forwardRef((a,t)=>{const s=Le.useContext(fs),r=Le.useRef(null),l=ve(t,r);return Le.useEffect(()=>{const e=r.current;if(e)return s.branches.add(e),()=>{s.branches.delete(e)}},[s.branches]),e.jsx(Ne.div,{...a,ref:l})}).displayName="DismissableLayerBranch";var ys=0;function Ns(){Le.useEffect(()=>{var e,a;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=t[0])?e:ws()),document.body.insertAdjacentElement("beforeend",null!=(a=t[1])?a:ws()),ys++,()=>{1===ys&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ys--}},[])}function ws(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ks="focusScope.autoFocusOnMount",Cs="focusScope.autoFocusOnUnmount",Ss={bubbles:!1,cancelable:!0},Es=Le.forwardRef((a,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:l,onUnmountAutoFocus:n,...i}=a,[o,c]=Le.useState(null),d=ms(l),x=ms(n),m=Le.useRef(null),h=ve(t,e=>c(e)),u=Le.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Le.useEffect(()=>{if(r){let e=function(e){if(u.paused||!o)return;const a=e.target;o.contains(a)?m.current=a:Ls(m.current,{select:!0})},a=function(e){if(u.paused||!o)return;const a=e.relatedTarget;null!==a&&(o.contains(a)||Ls(m.current,{select:!0}))},t=function(e){if(document.activeElement===document.body)for(const a of e)a.removedNodes.length>0&&Ls(o)};document.addEventListener("focusin",e),document.addEventListener("focusout",a);const s=new MutationObserver(t);return o&&s.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",a),s.disconnect()}}},[r,o,u.paused]),Le.useEffect(()=>{if(o){zs.add(u);const a=document.activeElement;if(!o.contains(a)){const t=new CustomEvent(ks,Ss);o.addEventListener(ks,d),o.dispatchEvent(t),t.defaultPrevented||(!function(e,{select:a=!1}={}){const t=document.activeElement;for(const s of e)if(Ls(s,{select:a}),document.activeElement!==t)return}((e=Ps(o),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===a&&Ls(o))}return()=>{o.removeEventListener(ks,d),setTimeout(()=>{const e=new CustomEvent(Cs,Ss);o.addEventListener(Cs,x),o.dispatchEvent(e),e.defaultPrevented||Ls(null!=a?a:document.body,{select:!0}),o.removeEventListener(Cs,x),zs.remove(u)},0)}}var e},[o,d,x,u]);const g=Le.useCallback(e=>{if(!s&&!r)return;if(u.paused)return;const a="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,t=document.activeElement;if(a&&t){const a=e.currentTarget,[r,l]=function(e){const a=Ps(e),t=_s(a,e),s=_s(a.reverse(),e);return[t,s]}(a);r&&l?e.shiftKey||t!==l?e.shiftKey&&t===r&&(e.preventDefault(),s&&Ls(l,{select:!0})):(e.preventDefault(),s&&Ls(r,{select:!0})):t===a&&e.preventDefault()}},[s,r,u.paused]);return e.jsx(Ne.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});function Ps(e){const a=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const a="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||a?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)a.push(t.currentNode);return a}function _s(e,a){for(const t of e)if(!As(t,{upTo:a}))return t}function As(e,{upTo:a}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==a&&e===a)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ls(e,{select:a=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&a&&e.select()}}Es.displayName="FocusScope";var zs=function(){let e=[];return{add(a){const t=e[0];a!==t&&(null==t||t.pause()),e=Ds(e,a),e.unshift(a)},remove(a){var t;e=Ds(e,a),null==(t=e[0])||t.resume()}}}();function Ds(e,a){const t=[...e],s=t.indexOf(a);return-1!==s&&t.splice(s,1),t}var Ms=(null==globalThis?void 0:globalThis.document)?Le.useLayoutEffect:()=>{},Rs=Ie[" useId ".trim().toString()]||(()=>{}),Ts=0;function Os(e){const[a,t]=Le.useState(Rs());return Ms(()=>{t(e=>null!=e?e:String(Ts++))},[e]),a?`radix-${a}`:""}const Is=["top","right","bottom","left"],qs=Math.min,Fs=Math.max,$s=Math.round,Bs=Math.floor,Vs=e=>({x:e,y:e}),Ws={left:"right",right:"left",bottom:"top",top:"bottom"},Hs={start:"end",end:"start"};function Us(e,a,t){return Fs(e,qs(a,t))}function Gs(e,a){return"function"==typeof e?e(a):e}function Ys(e){return e.split("-")[0]}function Xs(e){return e.split("-")[1]}function Ks(e){return"x"===e?"y":"x"}function Js(e){return"y"===e?"height":"width"}const Zs=new Set(["top","bottom"]);function Qs(e){return Zs.has(Ys(e))?"y":"x"}function er(e){return Ks(Qs(e))}function ar(e){return e.replace(/start|end/g,e=>Hs[e])}const tr=["left","right"],sr=["right","left"],rr=["top","bottom"],lr=["bottom","top"];function nr(e,a,t,s){const r=Xs(e);let l=function(e,a,t){switch(e){case"top":case"bottom":return t?a?sr:tr:a?tr:sr;case"left":case"right":return a?rr:lr;default:return[]}}(Ys(e),"start"===t,s);return r&&(l=l.map(e=>e+"-"+r),a&&(l=l.concat(l.map(ar)))),l}function ir(e){return e.replace(/left|right|bottom|top/g,e=>Ws[e])}function or(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function cr(e){const{x:a,y:t,width:s,height:r}=e;return{width:s,height:r,top:t,left:a,right:a+s,bottom:t+r,x:a,y:t}}function dr(e,a,t){let{reference:s,floating:r}=e;const l=Qs(a),n=er(a),i=Js(n),o=Ys(a),c="y"===l,d=s.x+s.width/2-r.width/2,x=s.y+s.height/2-r.height/2,m=s[i]/2-r[i]/2;let h;switch(o){case"top":h={x:d,y:s.y-r.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:x};break;case"left":h={x:s.x-r.width,y:x};break;default:h={x:s.x,y:s.y}}switch(Xs(a)){case"start":h[n]-=m*(t&&c?-1:1);break;case"end":h[n]+=m*(t&&c?-1:1)}return h}async function xr(e,a){var t;void 0===a&&(a={});const{x:s,y:r,platform:l,rects:n,elements:i,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:x="floating",altBoundary:m=!1,padding:h=0}=Gs(a,e),u=or(h),g=i[m?"floating"===x?"reference":"floating":x],p=cr(await l.getClippingRect({element:null==(t=await(null==l.isElement?void 0:l.isElement(g)))||t?g:g.contextElement||await(null==l.getDocumentElement?void 0:l.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:o})),f="floating"===x?{x:s,y:r,width:n.floating.width,height:n.floating.height}:n.reference,b=await(null==l.getOffsetParent?void 0:l.getOffsetParent(i.floating)),j=await(null==l.isElement?void 0:l.isElement(b))&&await(null==l.getScale?void 0:l.getScale(b))||{x:1,y:1},v=cr(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:f,offsetParent:b,strategy:o}):f);return{top:(p.top-v.top+u.top)/j.y,bottom:(v.bottom-p.bottom+u.bottom)/j.y,left:(p.left-v.left+u.left)/j.x,right:(v.right-p.right+u.right)/j.x}}function mr(e,a){return{top:e.top-a.height,right:e.right-a.width,bottom:e.bottom-a.height,left:e.left-a.width}}function hr(e){return Is.some(a=>e[a]>=0)}const ur=new Set(["left","top"]);function gr(){return"undefined"!=typeof window}function pr(e){return jr(e)?(e.nodeName||"").toLowerCase():"#document"}function fr(e){var a;return(null==e||null==(a=e.ownerDocument)?void 0:a.defaultView)||window}function br(e){var a;return null==(a=(jr(e)?e.ownerDocument:e.document)||window.document)?void 0:a.documentElement}function jr(e){return!!gr()&&(e instanceof Node||e instanceof fr(e).Node)}function vr(e){return!!gr()&&(e instanceof Element||e instanceof fr(e).Element)}function yr(e){return!!gr()&&(e instanceof HTMLElement||e instanceof fr(e).HTMLElement)}function Nr(e){return!(!gr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof fr(e).ShadowRoot)}const wr=new Set(["inline","contents"]);function kr(e){const{overflow:a,overflowX:t,overflowY:s,display:r}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(a+s+t)&&!wr.has(r)}const Cr=new Set(["table","td","th"]);function Sr(e){return Cr.has(pr(e))}const Er=[":popover-open",":modal"];function Pr(e){return Er.some(a=>{try{return e.matches(a)}catch(t){return!1}})}const _r=["transform","translate","scale","rotate","perspective"],Ar=["transform","translate","scale","rotate","perspective","filter"],Lr=["paint","layout","strict","content"];function zr(e){const a=Dr(),t=vr(e)?Tr(e):e;return _r.some(e=>!!t[e]&&"none"!==t[e])||!!t.containerType&&"normal"!==t.containerType||!a&&!!t.backdropFilter&&"none"!==t.backdropFilter||!a&&!!t.filter&&"none"!==t.filter||Ar.some(e=>(t.willChange||"").includes(e))||Lr.some(e=>(t.contain||"").includes(e))}function Dr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Mr=new Set(["html","body","#document"]);function Rr(e){return Mr.has(pr(e))}function Tr(e){return fr(e).getComputedStyle(e)}function Or(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ir(e){if("html"===pr(e))return e;const a=e.assignedSlot||e.parentNode||Nr(e)&&e.host||br(e);return Nr(a)?a.host:a}function qr(e){const a=Ir(e);return Rr(a)?e.ownerDocument?e.ownerDocument.body:e.body:yr(a)&&kr(a)?a:qr(a)}function Fr(e,a,t){var s;void 0===a&&(a=[]),void 0===t&&(t=!0);const r=qr(e),l=r===(null==(s=e.ownerDocument)?void 0:s.body),n=fr(r);if(l){const e=$r(n);return a.concat(n,n.visualViewport||[],kr(r)?r:[],e&&t?Fr(e):[])}return a.concat(r,Fr(r,[],t))}function $r(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Br(e){const a=Tr(e);let t=parseFloat(a.width)||0,s=parseFloat(a.height)||0;const r=yr(e),l=r?e.offsetWidth:t,n=r?e.offsetHeight:s,i=$s(t)!==l||$s(s)!==n;return i&&(t=l,s=n),{width:t,height:s,$:i}}function Vr(e){return vr(e)?e:e.contextElement}function Wr(e){const a=Vr(e);if(!yr(a))return Vs(1);const t=a.getBoundingClientRect(),{width:s,height:r,$:l}=Br(a);let n=(l?$s(t.width):t.width)/s,i=(l?$s(t.height):t.height)/r;return n&&Number.isFinite(n)||(n=1),i&&Number.isFinite(i)||(i=1),{x:n,y:i}}const Hr=Vs(0);function Ur(e){const a=fr(e);return Dr()&&a.visualViewport?{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}:Hr}function Gr(e,a,t,s){void 0===a&&(a=!1),void 0===t&&(t=!1);const r=e.getBoundingClientRect(),l=Vr(e);let n=Vs(1);a&&(s?vr(s)&&(n=Wr(s)):n=Wr(e));const i=function(e,a,t){return void 0===a&&(a=!1),!(!t||a&&t!==fr(e))&&a}(l,t,s)?Ur(l):Vs(0);let o=(r.left+i.x)/n.x,c=(r.top+i.y)/n.y,d=r.width/n.x,x=r.height/n.y;if(l){const e=fr(l),a=s&&vr(s)?fr(s):s;let t=e,r=$r(t);for(;r&&s&&a!==t;){const e=Wr(r),a=r.getBoundingClientRect(),s=Tr(r),l=a.left+(r.clientLeft+parseFloat(s.paddingLeft))*e.x,n=a.top+(r.clientTop+parseFloat(s.paddingTop))*e.y;o*=e.x,c*=e.y,d*=e.x,x*=e.y,o+=l,c+=n,t=fr(r),r=$r(t)}}return cr({width:d,height:x,x:o,y:c})}function Yr(e,a){const t=Or(e).scrollLeft;return a?a.left+t:Gr(br(e)).left+t}function Xr(e,a,t){void 0===t&&(t=!1);const s=e.getBoundingClientRect();return{x:s.left+a.scrollLeft-(t?0:Yr(e,s)),y:s.top+a.scrollTop}}const Kr=new Set(["absolute","fixed"]);function Jr(e,a,t){let s;if("viewport"===a)s=function(e,a){const t=fr(e),s=br(e),r=t.visualViewport;let l=s.clientWidth,n=s.clientHeight,i=0,o=0;if(r){l=r.width,n=r.height;const e=Dr();(!e||e&&"fixed"===a)&&(i=r.offsetLeft,o=r.offsetTop)}return{width:l,height:n,x:i,y:o}}(e,t);else if("document"===a)s=function(e){const a=br(e),t=Or(e),s=e.ownerDocument.body,r=Fs(a.scrollWidth,a.clientWidth,s.scrollWidth,s.clientWidth),l=Fs(a.scrollHeight,a.clientHeight,s.scrollHeight,s.clientHeight);let n=-t.scrollLeft+Yr(e);const i=-t.scrollTop;return"rtl"===Tr(s).direction&&(n+=Fs(a.clientWidth,s.clientWidth)-r),{width:r,height:l,x:n,y:i}}(br(e));else if(vr(a))s=function(e,a){const t=Gr(e,!0,"fixed"===a),s=t.top+e.clientTop,r=t.left+e.clientLeft,l=yr(e)?Wr(e):Vs(1);return{width:e.clientWidth*l.x,height:e.clientHeight*l.y,x:r*l.x,y:s*l.y}}(a,t);else{const t=Ur(e);s={x:a.x-t.x,y:a.y-t.y,width:a.width,height:a.height}}return cr(s)}function Zr(e,a){const t=Ir(e);return!(t===a||!vr(t)||Rr(t))&&("fixed"===Tr(t).position||Zr(t,a))}function Qr(e,a,t){const s=yr(a),r=br(a),l="fixed"===t,n=Gr(e,!0,l,a);let i={scrollLeft:0,scrollTop:0};const o=Vs(0);function c(){o.x=Yr(r)}if(s||!s&&!l)if(("body"!==pr(a)||kr(r))&&(i=Or(a)),s){const e=Gr(a,!0,l,a);o.x=e.x+a.clientLeft,o.y=e.y+a.clientTop}else r&&c();l&&!s&&r&&c();const d=!r||s||l?Vs(0):Xr(r,i);return{x:n.left+i.scrollLeft-o.x-d.x,y:n.top+i.scrollTop-o.y-d.y,width:n.width,height:n.height}}function el(e){return"static"===Tr(e).position}function al(e,a){if(!yr(e)||"fixed"===Tr(e).position)return null;if(a)return a(e);let t=e.offsetParent;return br(e)===t&&(t=t.ownerDocument.body),t}function tl(e,a){const t=fr(e);if(Pr(e))return t;if(!yr(e)){let a=Ir(e);for(;a&&!Rr(a);){if(vr(a)&&!el(a))return a;a=Ir(a)}return t}let s=al(e,a);for(;s&&Sr(s)&&el(s);)s=al(s,a);return s&&Rr(s)&&el(s)&&!zr(s)?t:s||function(e){let a=Ir(e);for(;yr(a)&&!Rr(a);){if(zr(a))return a;if(Pr(a))return null;a=Ir(a)}return null}(e)||t}const sl={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:a,rect:t,offsetParent:s,strategy:r}=e;const l="fixed"===r,n=br(s),i=!!a&&Pr(a.floating);if(s===n||i&&l)return t;let o={scrollLeft:0,scrollTop:0},c=Vs(1);const d=Vs(0),x=yr(s);if((x||!x&&!l)&&(("body"!==pr(s)||kr(n))&&(o=Or(s)),yr(s))){const e=Gr(s);c=Wr(s),d.x=e.x+s.clientLeft,d.y=e.y+s.clientTop}const m=!n||x||l?Vs(0):Xr(n,o,!0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:t.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:br,getClippingRect:function(e){let{element:a,boundary:t,rootBoundary:s,strategy:r}=e;const l=[..."clippingAncestors"===t?Pr(a)?[]:function(e,a){const t=a.get(e);if(t)return t;let s=Fr(e,[],!1).filter(e=>vr(e)&&"body"!==pr(e)),r=null;const l="fixed"===Tr(e).position;let n=l?Ir(e):e;for(;vr(n)&&!Rr(n);){const a=Tr(n),t=zr(n);t||"fixed"!==a.position||(r=null),(l?!t&&!r:!t&&"static"===a.position&&r&&Kr.has(r.position)||kr(n)&&!t&&Zr(e,n))?s=s.filter(e=>e!==n):r=a,n=Ir(n)}return a.set(e,s),s}(a,this._c):[].concat(t),s],n=l[0],i=l.reduce((e,t)=>{const s=Jr(a,t,r);return e.top=Fs(s.top,e.top),e.right=qs(s.right,e.right),e.bottom=qs(s.bottom,e.bottom),e.left=Fs(s.left,e.left),e},Jr(a,n,r));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:tl,getElementRects:async function(e){const a=this.getOffsetParent||tl,t=this.getDimensions,s=await t(e.floating);return{reference:Qr(e.reference,await a(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:a,height:t}=Br(e);return{width:a,height:t}},getScale:Wr,isElement:vr,isRTL:function(e){return"rtl"===Tr(e).direction}};function rl(e,a){return e.x===a.x&&e.y===a.y&&e.width===a.width&&e.height===a.height}function ll(e,a,t,s){void 0===s&&(s={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:n="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:o=!1}=s,c=Vr(e),d=r||l?[...c?Fr(c):[],...Fr(a)]:[];d.forEach(e=>{r&&e.addEventListener("scroll",t,{passive:!0}),l&&e.addEventListener("resize",t)});const x=c&&i?function(e,a){let t,s=null;const r=br(e);function l(){var e;clearTimeout(t),null==(e=s)||e.disconnect(),s=null}return function n(i,o){void 0===i&&(i=!1),void 0===o&&(o=1),l();const c=e.getBoundingClientRect(),{left:d,top:x,width:m,height:h}=c;if(i||a(),!m||!h)return;const u={rootMargin:-Bs(x)+"px "+-Bs(r.clientWidth-(d+m))+"px "+-Bs(r.clientHeight-(x+h))+"px "+-Bs(d)+"px",threshold:Fs(0,qs(1,o))||1};let g=!0;function p(a){const s=a[0].intersectionRatio;if(s!==o){if(!g)return n();s?n(!1,s):t=setTimeout(()=>{n(!1,1e-7)},1e3)}1!==s||rl(c,e.getBoundingClientRect())||n(),g=!1}try{s=new IntersectionObserver(p,{...u,root:r.ownerDocument})}catch(f){s=new IntersectionObserver(p,u)}s.observe(e)}(!0),l}(c,t):null;let m,h=-1,u=null;n&&(u=new ResizeObserver(e=>{let[s]=e;s&&s.target===c&&u&&(u.unobserve(a),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=u)||e.observe(a)})),t()}),c&&!o&&u.observe(c),u.observe(a));let g=o?Gr(e):null;return o&&function a(){const s=Gr(e);g&&!rl(g,s)&&t();g=s,m=requestAnimationFrame(a)}(),t(),()=>{var e;d.forEach(e=>{r&&e.removeEventListener("scroll",t),l&&e.removeEventListener("resize",t)}),null==x||x(),null==(e=u)||e.disconnect(),u=null,o&&cancelAnimationFrame(m)}}const nl=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(a){var t,s;const{x:r,y:l,placement:n,middlewareData:i}=a,o=await async function(e,a){const{placement:t,platform:s,elements:r}=e,l=await(null==s.isRTL?void 0:s.isRTL(r.floating)),n=Ys(t),i=Xs(t),o="y"===Qs(t),c=ur.has(n)?-1:1,d=l&&o?-1:1,x=Gs(a,e);let{mainAxis:m,crossAxis:h,alignmentAxis:u}="number"==typeof x?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return i&&"number"==typeof u&&(h="end"===i?-1*u:u),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}(a,e);return n===(null==(t=i.offset)?void 0:t.placement)&&null!=(s=i.arrow)&&s.alignmentOffset?{}:{x:r+o.x,y:l+o.y,data:{...o,placement:n}}}}},il=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(a){const{x:t,y:s,placement:r}=a,{mainAxis:l=!0,crossAxis:n=!1,limiter:i={fn:e=>{let{x:a,y:t}=e;return{x:a,y:t}}},...o}=Gs(e,a),c={x:t,y:s},d=await xr(a,o),x=Qs(Ys(r)),m=Ks(x);let h=c[m],u=c[x];if(l){const e="y"===m?"bottom":"right";h=Us(h+d["y"===m?"top":"left"],h,h-d[e])}if(n){const e="y"===x?"bottom":"right";u=Us(u+d["y"===x?"top":"left"],u,u-d[e])}const g=i.fn({...a,[m]:h,[x]:u});return{...g,data:{x:g.x-t,y:g.y-s,enabled:{[m]:l,[x]:n}}}}}},ol=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(a){var t,s;const{placement:r,middlewareData:l,rects:n,initialPlacement:i,platform:o,elements:c}=a,{mainAxis:d=!0,crossAxis:x=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:g=!0,...p}=Gs(e,a);if(null!=(t=l.arrow)&&t.alignmentOffset)return{};const f=Ys(r),b=Qs(i),j=Ys(i)===i,v=await(null==o.isRTL?void 0:o.isRTL(c.floating)),y=m||(j||!g?[ir(i)]:function(e){const a=ir(e);return[ar(e),a,ar(a)]}(i)),N="none"!==u;!m&&N&&y.push(...nr(i,g,u,v));const w=[i,...y],k=await xr(a,p),C=[];let S=(null==(s=l.flip)?void 0:s.overflows)||[];if(d&&C.push(k[f]),x){const e=function(e,a,t){void 0===t&&(t=!1);const s=Xs(e),r=er(e),l=Js(r);let n="x"===r?s===(t?"end":"start")?"right":"left":"start"===s?"bottom":"top";return a.reference[l]>a.floating[l]&&(n=ir(n)),[n,ir(n)]}(r,n,v);C.push(k[e[0]],k[e[1]])}if(S=[...S,{placement:r,overflows:C}],!C.every(e=>e<=0)){var E,P;const e=((null==(E=l.flip)?void 0:E.index)||0)+1,a=w[e];if(a){if(!("alignment"===x&&b!==Qs(a))||S.every(e=>e.overflows[0]>0&&Qs(e.placement)===b))return{data:{index:e,overflows:S},reset:{placement:a}}}let t=null==(P=S.filter(e=>e.overflows[0]<=0).sort((e,a)=>e.overflows[1]-a.overflows[1])[0])?void 0:P.placement;if(!t)switch(h){case"bestFit":{var _;const e=null==(_=S.filter(e=>{if(N){const a=Qs(e.placement);return a===b||"y"===a}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,a)=>e+a,0)]).sort((e,a)=>e[1]-a[1])[0])?void 0:_[0];e&&(t=e);break}case"initialPlacement":t=i}if(r!==t)return{reset:{placement:t}}}return{}}}},cl=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(a){var t,s;const{placement:r,rects:l,platform:n,elements:i}=a,{apply:o=()=>{},...c}=Gs(e,a),d=await xr(a,c),x=Ys(r),m=Xs(r),h="y"===Qs(r),{width:u,height:g}=l.floating;let p,f;"top"===x||"bottom"===x?(p=x,f=m===(await(null==n.isRTL?void 0:n.isRTL(i.floating))?"start":"end")?"left":"right"):(f=x,p="end"===m?"top":"bottom");const b=g-d.top-d.bottom,j=u-d.left-d.right,v=qs(g-d[p],b),y=qs(u-d[f],j),N=!a.middlewareData.shift;let w=v,k=y;if(null!=(t=a.middlewareData.shift)&&t.enabled.x&&(k=j),null!=(s=a.middlewareData.shift)&&s.enabled.y&&(w=b),N&&!m){const e=Fs(d.left,0),a=Fs(d.right,0),t=Fs(d.top,0),s=Fs(d.bottom,0);h?k=u-2*(0!==e||0!==a?e+a:Fs(d.left,d.right)):w=g-2*(0!==t||0!==s?t+s:Fs(d.top,d.bottom))}await o({...a,availableWidth:k,availableHeight:w});const C=await n.getDimensions(i.floating);return u!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}},dl=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(a){const{rects:t}=a,{strategy:s="referenceHidden",...r}=Gs(e,a);switch(s){case"referenceHidden":{const e=mr(await xr(a,{...r,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:hr(e)}}}case"escaped":{const e=mr(await xr(a,{...r,altBoundary:!0}),t.floating);return{data:{escapedOffsets:e,escaped:hr(e)}}}default:return{}}}}},xl=e=>({name:"arrow",options:e,async fn(a){const{x:t,y:s,placement:r,rects:l,platform:n,elements:i,middlewareData:o}=a,{element:c,padding:d=0}=Gs(e,a)||{};if(null==c)return{};const x=or(d),m={x:t,y:s},h=er(r),u=Js(h),g=await n.getDimensions(c),p="y"===h,f=p?"top":"left",b=p?"bottom":"right",j=p?"clientHeight":"clientWidth",v=l.reference[u]+l.reference[h]-m[h]-l.floating[u],y=m[h]-l.reference[h],N=await(null==n.getOffsetParent?void 0:n.getOffsetParent(c));let w=N?N[j]:0;w&&await(null==n.isElement?void 0:n.isElement(N))||(w=i.floating[j]||l.floating[u]);const k=v/2-y/2,C=w/2-g[u]/2-1,S=qs(x[f],C),E=qs(x[b],C),P=S,_=w-g[u]-E,A=w/2-g[u]/2+k,L=Us(P,A,_),z=!o.arrow&&null!=Xs(r)&&A!==L&&l.reference[u]/2-(A<P?S:E)-g[u]/2<0,D=z?A<P?A-P:A-_:0;return{[h]:m[h]+D,data:{[h]:L,centerOffset:A-L-D,...z&&{alignmentOffset:D}},reset:z}}}),ml=function(e){return void 0===e&&(e={}),{options:e,fn(a){const{x:t,y:s,placement:r,rects:l,middlewareData:n}=a,{offset:i=0,mainAxis:o=!0,crossAxis:c=!0}=Gs(e,a),d={x:t,y:s},x=Qs(r),m=Ks(x);let h=d[m],u=d[x];const g=Gs(i,a),p="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(o){const e="y"===m?"height":"width",a=l.reference[m]-l.floating[e]+p.mainAxis,t=l.reference[m]+l.reference[e]-p.mainAxis;h<a?h=a:h>t&&(h=t)}if(c){var f,b;const e="y"===m?"width":"height",a=ur.has(Ys(r)),t=l.reference[x]-l.floating[e]+(a&&(null==(f=n.offset)?void 0:f[x])||0)+(a?0:p.crossAxis),s=l.reference[x]+l.reference[e]+(a?0:(null==(b=n.offset)?void 0:b[x])||0)-(a?p.crossAxis:0);u<t?u=t:u>s&&(u=s)}return{[m]:h,[x]:u}}}},hl=(e,a,t)=>{const s=new Map,r={platform:sl,...t},l={...r.platform,_c:s};return(async(e,a,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:l=[],platform:n}=t,i=l.filter(Boolean),o=await(null==n.isRTL?void 0:n.isRTL(a));let c=await n.getElementRects({reference:e,floating:a,strategy:r}),{x:d,y:x}=dr(c,s,o),m=s,h={},u=0;for(let g=0;g<i.length;g++){const{name:t,fn:l}=i[g],{x:p,y:f,data:b,reset:j}=await l({x:d,y:x,initialPlacement:s,placement:m,strategy:r,middlewareData:h,rects:c,platform:n,elements:{reference:e,floating:a}});d=null!=p?p:d,x=null!=f?f:x,h={...h,[t]:{...h[t],...b}},j&&u<=50&&(u++,"object"==typeof j&&(j.placement&&(m=j.placement),j.rects&&(c=!0===j.rects?await n.getElementRects({reference:e,floating:a,strategy:r}):j.rects),({x:d,y:x}=dr(c,m,o))),g=-1)}return{x:d,y:x,placement:m,strategy:r,middlewareData:h}})(e,a,{...r,platform:l})};var ul="undefined"!=typeof document?Le.useLayoutEffect:function(){};function gl(e,a){if(e===a)return!0;if(typeof e!=typeof a)return!1;if("function"==typeof e&&e.toString()===a.toString())return!0;let t,s,r;if(e&&a&&"object"==typeof e){if(Array.isArray(e)){if(t=e.length,t!==a.length)return!1;for(s=t;0!==s--;)if(!gl(e[s],a[s]))return!1;return!0}if(r=Object.keys(e),t=r.length,t!==Object.keys(a).length)return!1;for(s=t;0!==s--;)if(!{}.hasOwnProperty.call(a,r[s]))return!1;for(s=t;0!==s--;){const t=r[s];if(("_owner"!==t||!e.$$typeof)&&!gl(e[t],a[t]))return!1}return!0}return e!=e&&a!=a}function pl(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fl(e,a){const t=pl(e);return Math.round(a*t)/t}function bl(e){const a=Le.useRef(e);return ul(()=>{a.current=e}),a}const jl=e=>({name:"arrow",options:e,fn(a){const{element:t,padding:s}="function"==typeof e?e(a):e;return t&&(r=t,{}.hasOwnProperty.call(r,"current"))?null!=t.current?xl({element:t.current,padding:s}).fn(a):{}:t?xl({element:t,padding:s}).fn(a):{};var r}}),vl=(e,a)=>({...nl(e),options:[e,a]}),yl=(e,a)=>({...il(e),options:[e,a]}),Nl=(e,a)=>({...ml(e),options:[e,a]}),wl=(e,a)=>({...ol(e),options:[e,a]}),kl=(e,a)=>({...cl(e),options:[e,a]}),Cl=(e,a)=>({...dl(e),options:[e,a]}),Sl=(e,a)=>({...jl(e),options:[e,a]});var El=Le.forwardRef((a,t)=>{const{children:s,width:r=10,height:l=5,...n}=a;return e.jsx(Ne.svg,{...n,ref:t,width:r,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});El.displayName="Arrow";var Pl=El;var _l="Popper",[Al,Ll]=cs(_l),[zl,Dl]=Al(_l),Ml=a=>{const{__scopePopper:t,children:s}=a,[r,l]=Le.useState(null);return e.jsx(zl,{scope:t,anchor:r,onAnchorChange:l,children:s})};Ml.displayName=_l;var Rl="PopperAnchor",Tl=Le.forwardRef((a,t)=>{const{__scopePopper:s,virtualRef:r,...l}=a,n=Dl(Rl,s),i=Le.useRef(null),o=ve(t,i);return Le.useEffect(()=>{n.onAnchorChange((null==r?void 0:r.current)||i.current)}),r?null:e.jsx(Ne.div,{...l,ref:o})});Tl.displayName=Rl;var Ol="PopperContent",[Il,ql]=Al(Ol),Fl=Le.forwardRef((a,t)=>{var s,r,l,n,i,o,c,d;const{__scopePopper:x,side:m="bottom",sideOffset:h=0,align:u="center",alignOffset:g=0,arrowPadding:p=0,avoidCollisions:f=!0,collisionBoundary:b=[],collisionPadding:j=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:N="optimized",onPlaced:w,...k}=a,C=Dl(Ol,x),[S,E]=Le.useState(null),P=ve(t,e=>E(e)),[_,A]=Le.useState(null),L=function(e){const[a,t]=Le.useState(void 0);return Ms(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(a=>{if(!Array.isArray(a))return;if(!a.length)return;const s=a[0];let r,l;if("borderBoxSize"in s){const e=s.borderBoxSize,a=Array.isArray(e)?e[0]:e;r=a.inlineSize,l=a.blockSize}else r=e.offsetWidth,l=e.offsetHeight;t({width:r,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}t(void 0)},[e]),a}(_),z=null!=(s=null==L?void 0:L.width)?s:0,D=null!=(r=null==L?void 0:L.height)?r:0,M=m+("center"!==u?"-"+u:""),R="number"==typeof j?j:{top:0,right:0,bottom:0,left:0,...j},T=Array.isArray(b)?b:[b],O=T.length>0,I={padding:R,boundary:T.filter(Wl),altBoundary:O},{refs:q,floatingStyles:F,placement:$,isPositioned:B,middlewareData:V}=function(e){void 0===e&&(e={});const{placement:a="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:l,floating:n}={},transform:i=!0,whileElementsMounted:o,open:c}=e,[d,x]=Le.useState({x:0,y:0,strategy:t,placement:a,middlewareData:{},isPositioned:!1}),[m,h]=Le.useState(s);gl(m,s)||h(s);const[u,g]=Le.useState(null),[p,f]=Le.useState(null),b=Le.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),j=Le.useCallback(e=>{e!==w.current&&(w.current=e,f(e))},[]),v=l||u,y=n||p,N=Le.useRef(null),w=Le.useRef(null),k=Le.useRef(d),C=null!=o,S=bl(o),E=bl(r),P=bl(c),_=Le.useCallback(()=>{if(!N.current||!w.current)return;const e={placement:a,strategy:t,middleware:m};E.current&&(e.platform=E.current),hl(N.current,w.current,e).then(e=>{const a={...e,isPositioned:!1!==P.current};A.current&&!gl(k.current,a)&&(k.current=a,qe.flushSync(()=>{x(a)}))})},[m,a,t,E,P]);ul(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,x(e=>({...e,isPositioned:!1})))},[c]);const A=Le.useRef(!1);ul(()=>(A.current=!0,()=>{A.current=!1}),[]),ul(()=>{if(v&&(N.current=v),y&&(w.current=y),v&&y){if(S.current)return S.current(v,y,_);_()}},[v,y,_,S,C]);const L=Le.useMemo(()=>({reference:N,floating:w,setReference:b,setFloating:j}),[b,j]),z=Le.useMemo(()=>({reference:v,floating:y}),[v,y]),D=Le.useMemo(()=>{const e={position:t,left:0,top:0};if(!z.floating)return e;const a=fl(z.floating,d.x),s=fl(z.floating,d.y);return i?{...e,transform:"translate("+a+"px, "+s+"px)",...pl(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:a,top:s}},[t,i,z.floating,d.x,d.y]);return Le.useMemo(()=>({...d,update:_,refs:L,elements:z,floatingStyles:D}),[d,_,L,z,D])}({strategy:"fixed",placement:M,whileElementsMounted:(...e)=>ll(...e,{animationFrame:"always"===N}),elements:{reference:C.anchor},middleware:[vl({mainAxis:h+D,alignmentAxis:g}),f&&yl({mainAxis:!0,crossAxis:!1,limiter:"partial"===v?Nl():void 0,...I}),f&&wl({...I}),kl({...I,apply:({elements:e,rects:a,availableWidth:t,availableHeight:s})=>{const{width:r,height:l}=a.reference,n=e.floating.style;n.setProperty("--radix-popper-available-width",`${t}px`),n.setProperty("--radix-popper-available-height",`${s}px`),n.setProperty("--radix-popper-anchor-width",`${r}px`),n.setProperty("--radix-popper-anchor-height",`${l}px`)}}),_&&Sl({element:_,padding:p}),Hl({arrowWidth:z,arrowHeight:D}),y&&Cl({strategy:"referenceHidden",...I})]}),[W,H]=Ul($),U=ms(w);Ms(()=>{B&&(null==U||U())},[B,U]);const G=null==(l=V.arrow)?void 0:l.x,Y=null==(n=V.arrow)?void 0:n.y,X=0!==(null==(i=V.arrow)?void 0:i.centerOffset),[K,J]=Le.useState();return Ms(()=>{S&&J(window.getComputedStyle(S).zIndex)},[S]),e.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[null==(o=V.transformOrigin)?void 0:o.x,null==(c=V.transformOrigin)?void 0:c.y].join(" "),...(null==(d=V.hide)?void 0:d.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:e.jsx(Il,{scope:x,placedSide:W,onArrowChange:A,arrowX:G,arrowY:Y,shouldHideArrow:X,children:e.jsx(Ne.div,{"data-side":W,"data-align":H,...k,ref:P,style:{...k.style,animation:B?void 0:"none"}})})})});Fl.displayName=Ol;var $l="PopperArrow",Bl={top:"bottom",right:"left",bottom:"top",left:"right"},Vl=Le.forwardRef(function(a,t){const{__scopePopper:s,...r}=a,l=ql($l,s),n=Bl[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(Pl,{...r,ref:t,style:{...r.style,display:"block"}})})});function Wl(e){return null!==e}Vl.displayName=$l;var Hl=e=>({name:"transformOrigin",options:e,fn(a){var t,s,r,l,n;const{placement:i,rects:o,middlewareData:c}=a,d=0!==(null==(t=c.arrow)?void 0:t.centerOffset),x=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[h,u]=Ul(i),g={start:"0%",center:"50%",end:"100%"}[u],p=(null!=(r=null==(s=c.arrow)?void 0:s.x)?r:0)+x/2,f=(null!=(n=null==(l=c.arrow)?void 0:l.y)?n:0)+m/2;let b="",j="";return"bottom"===h?(b=d?g:`${p}px`,j=-m+"px"):"top"===h?(b=d?g:`${p}px`,j=`${o.floating.height+m}px`):"right"===h?(b=-m+"px",j=d?g:`${f}px`):"left"===h&&(b=`${o.floating.width+m}px`,j=d?g:`${f}px`),{data:{x:b,y:j}}}});function Ul(e){const[a,t="center"]=e.split("-");return[a,t]}var Gl=Ml,Yl=Tl,Xl=Fl,Kl=Vl,Jl=Le.forwardRef((a,t)=>{var s;const{container:r,...l}=a,[n,i]=Le.useState(!1);Ms(()=>i(!0),[]);const o=r||n&&(null==(s=null==globalThis?void 0:globalThis.document)?void 0:s.body);return o?Fe.createPortal(e.jsx(Ne.div,{...l,ref:t}),o):null});Jl.displayName="Portal";var Zl=Ie[" useInsertionEffect ".trim().toString()]||Ms;function Ql({prop:e,defaultProp:a,onChange:t=()=>{},caller:s}){const[r,l,n]=function({defaultProp:e,onChange:a}){const[t,s]=Le.useState(e),r=Le.useRef(t),l=Le.useRef(a);return Zl(()=>{l.current=a},[a]),Le.useEffect(()=>{var e;r.current!==t&&(null==(e=l.current)||e.call(l,t),r.current=t)},[t,r]),[t,s,l]}({defaultProp:a,onChange:t}),i=void 0!==e,o=i?e:r;{const a=Le.useRef(void 0!==e);Le.useEffect(()=>{const e=a.current;if(e!==i){}a.current=i},[i,s])}const c=Le.useCallback(a=>{var t;if(i){const s=function(e){return"function"==typeof e}(a)?a(e):a;s!==e&&(null==(t=n.current)||t.call(n,s))}else l(a)},[i,e,l,n]);return[o,c]}var en=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});Le.forwardRef((a,t)=>e.jsx(Ne.span,{...a,ref:t,style:{...en,...a.style}})).displayName="VisuallyHidden";var an=new WeakMap,tn=new WeakMap,sn={},rn=0,ln=function(e){return e&&(e.host||ln(e.parentNode))},nn=function(e,a,t,s){var r=function(e,a){return a.map(function(a){if(e.contains(a))return a;var t=ln(a);return t&&e.contains(t)?t:null}).filter(function(e){return Boolean(e)})}(a,Array.isArray(e)?e:[e]);sn[t]||(sn[t]=new WeakMap);var l=sn[t],n=[],i=new Set,o=new Set(r),c=function(e){e&&!i.has(e)&&(i.add(e),c(e.parentNode))};r.forEach(c);var d=function(e){e&&!o.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(i.has(e))d(e);else try{var a=e.getAttribute(s),r=null!==a&&"false"!==a,o=(an.get(e)||0)+1,c=(l.get(e)||0)+1;an.set(e,o),l.set(e,c),n.push(e),1===o&&r&&tn.set(e,!0),1===c&&e.setAttribute(t,"true"),r||e.setAttribute(s,"true")}catch(x){}})};return d(a),i.clear(),rn++,function(){n.forEach(function(e){var a=an.get(e)-1,r=l.get(e)-1;an.set(e,a),l.set(e,r),a||(tn.has(e)||e.removeAttribute(s),tn.delete(e)),r||e.removeAttribute(t)}),--rn||(an=new WeakMap,an=new WeakMap,tn=new WeakMap,sn={})}},on=function(e,a,t){void 0===t&&(t="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),nn(s,r,t,"aria-hidden")):function(){return null}},cn=function(){return cn=Object.assign||function(e){for(var a,t=1,s=arguments.length;t<s;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},cn.apply(this,arguments)};function dn(e,a){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(t[s[r]]=e[s[r]])}return t}"function"==typeof SuppressedError&&SuppressedError;var xn="right-scroll-bar-position",mn="width-before-scroll-bar";function hn(e,a){return"function"==typeof e?e(a):e&&(e.current=a),e}var un="undefined"!=typeof window?Le.useLayoutEffect:Le.useEffect,gn=new WeakMap;function pn(e,a){var t,s,r,l=(t=null,s=function(a){return e.forEach(function(e){return hn(e,a)})},(r=Le.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(e){var a=r.value;a!==e&&(r.value=e,r.callback(e,a))}}}})[0]).callback=s,r.facade);return un(function(){var a=gn.get(l);if(a){var t=new Set(a),s=new Set(e),r=l.current;t.forEach(function(e){s.has(e)||hn(e,null)}),s.forEach(function(e){t.has(e)||hn(e,r)})}gn.set(l,e)},[e]),l}function fn(e){return e}var bn=function(e){var a=e.sideCar,t=dn(e,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=a.read();if(!s)throw new Error("Sidecar medium not found");return Le.createElement(s,cn({},t))};bn.isSideCarExport=!0;var jn=function(e){void 0===e&&(e={});var a=function(e,a){void 0===a&&(a=fn);var t=[],s=!1;return{read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(e){var r=a(e,s);return t.push(r),function(){t=t.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(s=!0;t.length;){var a=t;t=[],a.forEach(e)}t={push:function(a){return e(a)},filter:function(){return t}}},assignMedium:function(e){s=!0;var a=[];if(t.length){var r=t;t=[],r.forEach(e),a=t}var l=function(){var t=a;a=[],t.forEach(e)},n=function(){return Promise.resolve().then(l)};n(),t={push:function(e){a.push(e),n()},filter:function(e){return a=a.filter(e),t}}}}}(null);return a.options=cn({async:!0,ssr:!1},e),a}(),vn=function(){},yn=Le.forwardRef(function(e,a){var t=Le.useRef(null),s=Le.useState({onScrollCapture:vn,onWheelCapture:vn,onTouchMoveCapture:vn}),r=s[0],l=s[1],n=e.forwardProps,i=e.children,o=e.className,c=e.removeScrollBar,d=e.enabled,x=e.shards,m=e.sideCar,h=e.noRelative,u=e.noIsolation,g=e.inert,p=e.allowPinchZoom,f=e.as,b=void 0===f?"div":f,j=e.gapMode,v=dn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=m,N=pn([t,a]),w=cn(cn({},v),r);return Le.createElement(Le.Fragment,null,d&&Le.createElement(y,{sideCar:jn,removeScrollBar:c,shards:x,noRelative:h,noIsolation:u,inert:g,setCallbacks:l,allowPinchZoom:!!p,lockRef:t,gapMode:j}),n?Le.cloneElement(Le.Children.only(i),cn(cn({},w),{ref:N})):Le.createElement(b,cn({},w,{className:o,ref:N}),i))});yn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},yn.classNames={fullWidth:mn,zeroRight:xn};function Nn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var a=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return a&&e.setAttribute("nonce",a),e}var wn=function(){var e=0,a=null;return{add:function(t){var s,r;0==e&&(a=Nn())&&(r=t,(s=a).styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(a)),e++},remove:function(){! --e&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},kn=function(){var e,a=(e=wn(),function(a,t){Le.useEffect(function(){return e.add(a),function(){e.remove()}},[a&&t])});return function(e){var t=e.styles,s=e.dynamic;return a(t,s),null}},Cn={left:0,top:0,right:0,gap:0},Sn=function(e){return parseInt(e||"",10)||0},En=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Cn;var a=function(e){var a=window.getComputedStyle(document.body),t=a["padding"===e?"paddingLeft":"marginLeft"],s=a["padding"===e?"paddingTop":"marginTop"],r=a["padding"===e?"paddingRight":"marginRight"];return[Sn(t),Sn(s),Sn(r)]}(e),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,s-t+a[2]-a[0])}},Pn=kn(),_n="data-scroll-locked",An=function(e,a,t,s){var r=e.left,l=e.top,n=e.right,i=e.gap;return void 0===t&&(t="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(s,";\n   padding-right: ").concat(i,"px ").concat(s,";\n  }\n  body[").concat(_n,"] {\n    overflow: hidden ").concat(s,";\n    overscroll-behavior: contain;\n    ").concat([a&&"position: relative ".concat(s,";"),"margin"===t&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(l,"px;\n    padding-right: ").concat(n,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(s,";\n    "),"padding"===t&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(xn," {\n    right: ").concat(i,"px ").concat(s,";\n  }\n  \n  .").concat(mn," {\n    margin-right: ").concat(i,"px ").concat(s,";\n  }\n  \n  .").concat(xn," .").concat(xn," {\n    right: 0 ").concat(s,";\n  }\n  \n  .").concat(mn," .").concat(mn," {\n    margin-right: 0 ").concat(s,";\n  }\n  \n  body[").concat(_n,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},Ln=function(){var e=parseInt(document.body.getAttribute(_n)||"0",10);return isFinite(e)?e:0},zn=function(e){var a=e.noRelative,t=e.noImportant,s=e.gapMode,r=void 0===s?"margin":s;Le.useEffect(function(){return document.body.setAttribute(_n,(Ln()+1).toString()),function(){var e=Ln()-1;e<=0?document.body.removeAttribute(_n):document.body.setAttribute(_n,e.toString())}},[]);var l=Le.useMemo(function(){return En(r)},[r]);return Le.createElement(Pn,{styles:An(l,!a,r,t?"":"!important")})},Dn=!1;if("undefined"!=typeof window)try{var Mn=Object.defineProperty({},"passive",{get:function(){return Dn=!0,!0}});window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch(Rc){Dn=!1}var Rn=!!Dn&&{passive:!1},Tn=function(e,a){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return"hidden"!==t[a]&&!(t.overflowY===t.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===t[a])},On=function(e,a){var t=a.ownerDocument,s=a;do{if("undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot&&(s=s.host),In(e,s)){var r=qn(e,s);if(r[1]>r[2])return!0}s=s.parentNode}while(s&&s!==t.body);return!1},In=function(e,a){return"v"===e?function(e){return Tn(e,"overflowY")}(a):function(e){return Tn(e,"overflowX")}(a)},qn=function(e,a){return"v"===e?[(t=a).scrollTop,t.scrollHeight,t.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(a);var t},Fn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$n=function(e){return[e.deltaX,e.deltaY]},Bn=function(e){return e&&"current"in e?e.current:e},Vn=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Wn=0,Hn=[];function Un(e){for(var a=null;null!==e;)e instanceof ShadowRoot&&(a=e.host,e=e.host),e=e.parentNode;return a}const Gn=(Yn=function(e){var a=Le.useRef([]),t=Le.useRef([0,0]),s=Le.useRef(),r=Le.useState(Wn++)[0],l=Le.useState(kn)[0],n=Le.useRef(e);Le.useEffect(function(){n.current=e},[e]),Le.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var a=function(e,a,t){if(t||2===arguments.length)for(var s,r=0,l=a.length;r<l;r++)!s&&r in a||(s||(s=Array.prototype.slice.call(a,0,r)),s[r]=a[r]);return e.concat(s||Array.prototype.slice.call(a))}([e.lockRef.current],(e.shards||[]).map(Bn),!0).filter(Boolean);return a.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),a.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var i=Le.useCallback(function(e,a){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!n.current.allowPinchZoom;var r,l=Fn(e),i=t.current,o="deltaX"in e?e.deltaX:i[0]-l[0],c="deltaY"in e?e.deltaY:i[1]-l[1],d=e.target,x=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===x&&"range"===d.type)return!1;var m=On(x,d);if(!m)return!0;if(m?r=x:(r="v"===x?"h":"v",m=On(x,d)),!m)return!1;if(!s.current&&"changedTouches"in e&&(o||c)&&(s.current=r),!r)return!0;var h=s.current||r;return function(e,a,t,s){var r=function(e,a){return"h"===e&&"rtl"===a?-1:1}(e,window.getComputedStyle(a).direction),l=r*s,n=t.target,i=a.contains(n),o=!1,c=l>0,d=0,x=0;do{if(!n)break;var m=qn(e,n),h=m[0],u=m[1]-m[2]-r*h;(h||u)&&In(e,n)&&(d+=u,x+=h);var g=n.parentNode;n=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!i&&n!==document.body||i&&(a.contains(n)||a===n));return(c&&Math.abs(d)<1||!c&&Math.abs(x)<1)&&(o=!0),o}(h,a,e,"h"===h?o:c)},[]),o=Le.useCallback(function(e){var t=e;if(Hn.length&&Hn[Hn.length-1]===l){var s="deltaY"in t?$n(t):Fn(t),r=a.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(a=e.delta,r=s,a[0]===r[0]&&a[1]===r[1]);var a,r})[0];if(r&&r.should)t.cancelable&&t.preventDefault();else if(!r){var o=(n.current.shards||[]).map(Bn).filter(Boolean).filter(function(e){return e.contains(t.target)});(o.length>0?i(t,o[0]):!n.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),c=Le.useCallback(function(e,t,s,r){var l={name:e,delta:t,target:s,should:r,shadowParent:Un(s)};a.current.push(l),setTimeout(function(){a.current=a.current.filter(function(e){return e!==l})},1)},[]),d=Le.useCallback(function(e){t.current=Fn(e),s.current=void 0},[]),x=Le.useCallback(function(a){c(a.type,$n(a),a.target,i(a,e.lockRef.current))},[]),m=Le.useCallback(function(a){c(a.type,Fn(a),a.target,i(a,e.lockRef.current))},[]);Le.useEffect(function(){return Hn.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:m}),document.addEventListener("wheel",o,Rn),document.addEventListener("touchmove",o,Rn),document.addEventListener("touchstart",d,Rn),function(){Hn=Hn.filter(function(e){return e!==l}),document.removeEventListener("wheel",o,Rn),document.removeEventListener("touchmove",o,Rn),document.removeEventListener("touchstart",d,Rn)}},[]);var h=e.removeScrollBar,u=e.inert;return Le.createElement(Le.Fragment,null,u?Le.createElement(l,{styles:Vn(r)}):null,h?Le.createElement(zn,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},jn.useMedium(Yn),bn);var Yn,Xn=Le.forwardRef(function(e,a){return Le.createElement(yn,cn({},e,{ref:a,sideCar:Gn}))});Xn.classNames=yn.classNames;var Kn=[" ","Enter","ArrowUp","ArrowDown"],Jn=[" ","Enter"],Zn="Select",[Qn,ei,ai]=function(a){const t=a+"CollectionProvider",[s,r]=cs(t),[l,n]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=a=>{const{scope:t,children:s}=a,r=Oe.useRef(null),n=Oe.useRef(new Map).current;return e.jsx(l,{scope:t,itemMap:n,collectionRef:r,children:s})};i.displayName=t;const o=a+"CollectionSlot",c=ye(o),d=Oe.forwardRef((a,t)=>{const{scope:s,children:r}=a,l=n(o,s),i=ve(t,l.collectionRef);return e.jsx(c,{ref:i,children:r})});d.displayName=o;const x=a+"CollectionItemSlot",m="data-radix-collection-item",h=ye(x),u=Oe.forwardRef((a,t)=>{const{scope:s,children:r,...l}=a,i=Oe.useRef(null),o=ve(t,i),c=n(x,s);return Oe.useEffect(()=>(c.itemMap.set(i,{ref:i,...l}),()=>{c.itemMap.delete(i)})),e.jsx(h,{[m]:"",ref:o,children:r})});return u.displayName=x,[{Provider:i,Slot:d,ItemSlot:u},function(e){const t=n(a+"CollectionConsumer",e);return Oe.useCallback(()=>{const e=t.collectionRef.current;if(!e)return[];const a=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(t.itemMap.values()).sort((e,t)=>a.indexOf(e.ref.current)-a.indexOf(t.ref.current))},[t.collectionRef,t.itemMap])},r]}(Zn),[ti,si]=cs(Zn,[ai,Ll]),ri=Ll(),[li,ni]=ti(Zn),[ii,oi]=ti(Zn),ci=a=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:l,onOpenChange:n,value:i,defaultValue:o,onValueChange:c,dir:d,name:x,autoComplete:m,disabled:h,required:u,form:g}=a,p=ri(t),[f,b]=Le.useState(null),[j,v]=Le.useState(null),[y,N]=Le.useState(!1),w=function(e){const a=Le.useContext(xs);return e||a||"ltr"}(d),[k,C]=Ql({prop:r,defaultProp:null!=l&&l,onChange:n,caller:Zn}),[S,E]=Ql({prop:i,defaultProp:o,onChange:c,caller:Zn}),P=Le.useRef(null),_=!f||(g||!!f.closest("form")),[A,L]=Le.useState(new Set),z=Array.from(A).map(e=>e.props.value).join(";");return e.jsx(Gl,{...p,children:e.jsxs(li,{required:u,scope:t,trigger:f,onTriggerChange:b,valueNode:j,onValueNodeChange:v,valueNodeHasChildren:y,onValueNodeHasChildrenChange:N,contentId:Os(),value:S,onValueChange:E,open:k,onOpenChange:C,dir:w,triggerPointerDownPosRef:P,disabled:h,children:[e.jsx(Qn.Provider,{scope:t,children:e.jsx(ii,{scope:a.__scopeSelect,onNativeOptionAdd:Le.useCallback(e=>{L(a=>new Set(a).add(e))},[]),onNativeOptionRemove:Le.useCallback(e=>{L(a=>{const t=new Set(a);return t.delete(e),t})},[]),children:s})}),_?e.jsxs(Xi,{"aria-hidden":!0,required:u,tabIndex:-1,name:x,autoComplete:m,value:S,onChange:e=>E(e.target.value),disabled:h,form:g,children:[void 0===S?e.jsx("option",{value:""}):null,Array.from(A)]},z):null]})})};ci.displayName=Zn;var di="SelectTrigger",xi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,disabled:r=!1,...l}=a,n=ri(s),i=ni(di,s),o=i.disabled||r,c=ve(t,i.onTriggerChange),d=ei(s),x=Le.useRef("touch"),[m,h,u]=Ji(e=>{const a=d().filter(e=>!e.disabled),t=a.find(e=>e.value===i.value),s=Zi(a,e,t);void 0!==s&&i.onValueChange(s.value)}),g=e=>{o||(i.onOpenChange(!0),u()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return e.jsx(Yl,{asChild:!0,...n,children:e.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Ki(i.value)?"":void 0,...l,ref:c,onClick:os(l.onClick,e=>{e.currentTarget.focus(),"mouse"!==x.current&&g(e)}),onPointerDown:os(l.onPointerDown,e=>{x.current=e.pointerType;const a=e.target;a.hasPointerCapture(e.pointerId)&&a.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:os(l.onKeyDown,e=>{const a=""!==m.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),a&&" "===e.key||Kn.includes(e.key)&&(g(),e.preventDefault())})})})});xi.displayName=di;var mi="SelectValue",hi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,className:r,style:l,children:n,placeholder:i="",...o}=a,c=ni(mi,s),{onValueNodeHasChildrenChange:d}=c,x=void 0!==n,m=ve(t,c.onValueNodeChange);return Ms(()=>{d(x)},[d,x]),e.jsx(Ne.span,{...o,ref:m,style:{pointerEvents:"none"},children:Ki(c.value)?e.jsx(e.Fragment,{children:i}):n})});hi.displayName=mi;var ui=Le.forwardRef((a,t)=>{const{__scopeSelect:s,children:r,...l}=a;return e.jsx(Ne.span,{"aria-hidden":!0,...l,ref:t,children:r||"▼"})});ui.displayName="SelectIcon";var gi=a=>e.jsx(Jl,{asChild:!0,...a});gi.displayName="SelectPortal";var pi="SelectContent",fi=Le.forwardRef((a,t)=>{const s=ni(pi,a.__scopeSelect),[r,l]=Le.useState();if(Ms(()=>{l(new DocumentFragment)},[]),!s.open){const t=r;return t?qe.createPortal(e.jsx(ji,{scope:a.__scopeSelect,children:e.jsx(Qn.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),t):null}return e.jsx(Ni,{...a,ref:t})});fi.displayName=pi;var bi=10,[ji,vi]=ti(pi),yi=ye("SelectContent.RemoveScroll"),Ni=Le.forwardRef((a,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:n,onPointerDownOutside:i,side:o,sideOffset:c,align:d,alignOffset:x,arrowPadding:m,collisionBoundary:h,collisionPadding:u,sticky:g,hideWhenDetached:p,avoidCollisions:f,...b}=a,j=ni(pi,s),[v,y]=Le.useState(null),[N,w]=Le.useState(null),k=ve(t,e=>y(e)),[C,S]=Le.useState(null),[E,P]=Le.useState(null),_=ei(s),[A,L]=Le.useState(!1),z=Le.useRef(!1);Le.useEffect(()=>{if(v)return on(v)},[v]),Ns();const D=Le.useCallback(e=>{const[a,...t]=_().map(e=>e.ref.current),[s]=t.slice(-1),r=document.activeElement;for(const l of e){if(l===r)return;if(null==l||l.scrollIntoView({block:"nearest"}),l===a&&N&&(N.scrollTop=0),l===s&&N&&(N.scrollTop=N.scrollHeight),null==l||l.focus(),document.activeElement!==r)return}},[_,N]),M=Le.useCallback(()=>D([C,v]),[D,C,v]);Le.useEffect(()=>{A&&M()},[A,M]);const{onOpenChange:R,triggerPointerDownPosRef:T}=j;Le.useEffect(()=>{if(v){let e={x:0,y:0};const a=a=>{var t,s,r,l;e={x:Math.abs(Math.round(a.pageX)-(null!=(s=null==(t=T.current)?void 0:t.x)?s:0)),y:Math.abs(Math.round(a.pageY)-(null!=(l=null==(r=T.current)?void 0:r.y)?l:0))}},t=t=>{e.x<=10&&e.y<=10?t.preventDefault():v.contains(t.target)||R(!1),document.removeEventListener("pointermove",a),T.current=null};return null!==T.current&&(document.addEventListener("pointermove",a),document.addEventListener("pointerup",t,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",t,{capture:!0})}}},[v,R,T]),Le.useEffect(()=>{const e=()=>R(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[R]);const[O,I]=Ji(e=>{const a=_().filter(e=>!e.disabled),t=a.find(e=>e.ref.current===document.activeElement),s=Zi(a,e,t);s&&setTimeout(()=>s.ref.current.focus())}),q=Le.useCallback((e,a,t)=>{const s=!z.current&&!t;(void 0!==j.value&&j.value===a||s)&&(S(e),s&&(z.current=!0))},[j.value]),F=Le.useCallback(()=>null==v?void 0:v.focus(),[v]),$=Le.useCallback((e,a,t)=>{const s=!z.current&&!t;(void 0!==j.value&&j.value===a||s)&&P(e)},[j.value]),B="popper"===r?ki:wi,V=B===ki?{side:o,sideOffset:c,align:d,alignOffset:x,arrowPadding:m,collisionBoundary:h,collisionPadding:u,sticky:g,hideWhenDetached:p,avoidCollisions:f}:{};return e.jsx(ji,{scope:s,content:v,viewport:N,onViewportChange:w,itemRefCallback:q,selectedItem:C,onItemLeave:F,itemTextRefCallback:$,focusSelectedItem:M,selectedItemText:E,position:r,isPositioned:A,searchRef:O,children:e.jsx(Xn,{as:yi,allowPinchZoom:!0,children:e.jsx(Es,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:os(l,e=>{var a;null==(a=j.trigger)||a.focus({preventScroll:!0}),e.preventDefault()}),children:e.jsx(bs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx(B,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault(),...b,...V,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:os(b.onKeyDown,e=>{const a=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),a||1!==e.key.length||I(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let a=_().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(a=a.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const t=e.target,s=a.indexOf(t);a=a.slice(s+1)}setTimeout(()=>D(a)),e.preventDefault()}})})})})})})});Ni.displayName="SelectContentImpl";var wi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,onPlaced:r,...l}=a,n=ni(pi,s),i=vi(pi,s),[o,c]=Le.useState(null),[d,x]=Le.useState(null),m=ve(t,e=>x(e)),h=ei(s),u=Le.useRef(!1),g=Le.useRef(!0),{viewport:p,selectedItem:f,selectedItemText:b,focusSelectedItem:j}=i,v=Le.useCallback(()=>{if(n.trigger&&n.valueNode&&o&&d&&p&&f&&b){const e=n.trigger.getBoundingClientRect(),a=d.getBoundingClientRect(),t=n.valueNode.getBoundingClientRect(),s=b.getBoundingClientRect();if("rtl"!==n.dir){const r=s.left-a.left,l=t.left-r,n=e.left-l,i=e.width+n,c=Math.max(i,a.width),d=window.innerWidth-bi,x=is(l,[bi,Math.max(bi,d-c)]);o.style.minWidth=i+"px",o.style.left=x+"px"}else{const r=a.right-s.right,l=window.innerWidth-t.right-r,n=window.innerWidth-e.right-l,i=e.width+n,c=Math.max(i,a.width),d=window.innerWidth-bi,x=is(l,[bi,Math.max(bi,d-c)]);o.style.minWidth=i+"px",o.style.right=x+"px"}const l=h(),i=window.innerHeight-2*bi,c=p.scrollHeight,x=window.getComputedStyle(d),m=parseInt(x.borderTopWidth,10),g=parseInt(x.paddingTop,10),j=parseInt(x.borderBottomWidth,10),v=m+g+c+parseInt(x.paddingBottom,10)+j,y=Math.min(5*f.offsetHeight,v),N=window.getComputedStyle(p),w=parseInt(N.paddingTop,10),k=parseInt(N.paddingBottom,10),C=e.top+e.height/2-bi,S=i-C,E=f.offsetHeight/2,P=m+g+(f.offsetTop+E),_=v-P;if(P<=C){const e=l.length>0&&f===l[l.length-1].ref.current;o.style.bottom="0px";const a=d.clientHeight-p.offsetTop-p.offsetHeight,t=P+Math.max(S,E+(e?k:0)+a+j);o.style.height=t+"px"}else{const e=l.length>0&&f===l[0].ref.current;o.style.top="0px";const a=Math.max(C,m+p.offsetTop+(e?w:0)+E)+_;o.style.height=a+"px",p.scrollTop=P-C+p.offsetTop}o.style.margin=`${bi}px 0`,o.style.minHeight=y+"px",o.style.maxHeight=i+"px",null==r||r(),requestAnimationFrame(()=>u.current=!0)}},[h,n.trigger,n.valueNode,o,d,p,f,b,n.dir,r]);Ms(()=>v(),[v]);const[y,N]=Le.useState();Ms(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const w=Le.useCallback(e=>{e&&!0===g.current&&(v(),null==j||j(),g.current=!1)},[v,j]);return e.jsx(Ci,{scope:s,contentWrapper:o,shouldExpandOnScrollRef:u,onScrollButtonChange:w,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:e.jsx(Ne.div,{...l,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});wi.displayName="SelectItemAlignedPosition";var ki=Le.forwardRef((a,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:l=bi,...n}=a,i=ri(s);return e.jsx(Xl,{...i,...n,ref:t,align:r,collisionPadding:l,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ki.displayName="SelectPopperPosition";var[Ci,Si]=ti(pi,{}),Ei="SelectViewport",Pi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,nonce:r,...l}=a,n=vi(Ei,s),i=Si(Ei,s),o=ve(t,n.onViewportChange),c=Le.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Qn.Slot,{scope:s,children:e.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:os(l.onScroll,e=>{const a=e.currentTarget,{contentWrapper:t,shouldExpandOnScrollRef:s}=i;if((null==s?void 0:s.current)&&t){const e=Math.abs(c.current-a.scrollTop);if(e>0){const s=window.innerHeight-2*bi,r=parseFloat(t.style.minHeight),l=parseFloat(t.style.height),n=Math.max(r,l);if(n<s){const r=n+e,l=Math.min(s,r),i=r-l;t.style.height=l+"px","0px"===t.style.bottom&&(a.scrollTop=i>0?i:0,t.style.justifyContent="flex-end")}}}c.current=a.scrollTop})})})]})});Pi.displayName=Ei;var _i="SelectGroup",[Ai,Li]=ti(_i);Le.forwardRef((a,t)=>{const{__scopeSelect:s,...r}=a,l=Os();return e.jsx(Ai,{scope:s,id:l,children:e.jsx(Ne.div,{role:"group","aria-labelledby":l,...r,ref:t})})}).displayName=_i;var zi="SelectLabel",Di=Le.forwardRef((a,t)=>{const{__scopeSelect:s,...r}=a,l=Li(zi,s);return e.jsx(Ne.div,{id:l.id,...r,ref:t})});Di.displayName=zi;var Mi="SelectItem",[Ri,Ti]=ti(Mi),Oi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,value:r,disabled:l=!1,textValue:n,...i}=a,o=ni(Mi,s),c=vi(Mi,s),d=o.value===r,[x,m]=Le.useState(null!=n?n:""),[h,u]=Le.useState(!1),g=ve(t,e=>{var a;return null==(a=c.itemRefCallback)?void 0:a.call(c,e,r,l)}),p=Os(),f=Le.useRef("touch"),b=()=>{l||(o.onValueChange(r),o.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ri,{scope:s,value:r,disabled:l,textId:p,isSelected:d,onItemTextChange:Le.useCallback(e=>{m(a=>{var t;return a||(null!=(t=null==e?void 0:e.textContent)?t:"").trim()})},[]),children:e.jsx(Qn.ItemSlot,{scope:s,value:r,disabled:l,textValue:x,children:e.jsx(Ne.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...i,ref:g,onFocus:os(i.onFocus,()=>u(!0)),onBlur:os(i.onBlur,()=>u(!1)),onClick:os(i.onClick,()=>{"mouse"!==f.current&&b()}),onPointerUp:os(i.onPointerUp,()=>{"mouse"===f.current&&b()}),onPointerDown:os(i.onPointerDown,e=>{f.current=e.pointerType}),onPointerMove:os(i.onPointerMove,e=>{var a;f.current=e.pointerType,l?null==(a=c.onItemLeave)||a.call(c):"mouse"===f.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:os(i.onPointerLeave,e=>{var a;e.currentTarget===document.activeElement&&(null==(a=c.onItemLeave)||a.call(c))}),onKeyDown:os(i.onKeyDown,e=>{var a;""!==(null==(a=c.searchRef)?void 0:a.current)&&" "===e.key||(Jn.includes(e.key)&&b()," "===e.key&&e.preventDefault())})})})})});Oi.displayName=Mi;var Ii="SelectItemText",qi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,className:r,style:l,...n}=a,i=ni(Ii,s),o=vi(Ii,s),c=Ti(Ii,s),d=oi(Ii,s),[x,m]=Le.useState(null),h=ve(t,e=>m(e),c.onItemTextChange,e=>{var a;return null==(a=o.itemTextRefCallback)?void 0:a.call(o,e,c.value,c.disabled)}),u=null==x?void 0:x.textContent,g=Le.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:u},c.value),[c.disabled,c.value,u]),{onNativeOptionAdd:p,onNativeOptionRemove:f}=d;return Ms(()=>(p(g),()=>f(g)),[p,f,g]),e.jsxs(e.Fragment,{children:[e.jsx(Ne.span,{id:c.textId,...n,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qe.createPortal(n.children,i.valueNode):null]})});qi.displayName=Ii;var Fi="SelectItemIndicator",$i=Le.forwardRef((a,t)=>{const{__scopeSelect:s,...r}=a;return Ti(Fi,s).isSelected?e.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});$i.displayName=Fi;var Bi="SelectScrollUpButton",Vi=Le.forwardRef((a,t)=>{const s=vi(Bi,a.__scopeSelect),r=Si(Bi,a.__scopeSelect),[l,n]=Le.useState(!1),i=ve(t,r.onScrollButtonChange);return Ms(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=a.scrollTop>0;n(e)};const a=s.viewport;return e(),a.addEventListener("scroll",e),()=>a.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?e.jsx(Ui,{...a,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:a}=s;e&&a&&(e.scrollTop=e.scrollTop-a.offsetHeight)}}):null});Vi.displayName=Bi;var Wi="SelectScrollDownButton",Hi=Le.forwardRef((a,t)=>{const s=vi(Wi,a.__scopeSelect),r=Si(Wi,a.__scopeSelect),[l,n]=Le.useState(!1),i=ve(t,r.onScrollButtonChange);return Ms(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=a.scrollHeight-a.clientHeight,t=Math.ceil(a.scrollTop)<e;n(t)};const a=s.viewport;return e(),a.addEventListener("scroll",e),()=>a.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?e.jsx(Ui,{...a,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:a}=s;e&&a&&(e.scrollTop=e.scrollTop+a.offsetHeight)}}):null});Hi.displayName=Wi;var Ui=Le.forwardRef((a,t)=>{const{__scopeSelect:s,onAutoScroll:r,...l}=a,n=vi("SelectScrollButton",s),i=Le.useRef(null),o=ei(s),c=Le.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return Le.useEffect(()=>()=>c(),[c]),Ms(()=>{var e;const a=o().find(e=>e.ref.current===document.activeElement);null==(e=null==a?void 0:a.ref.current)||e.scrollIntoView({block:"nearest"})},[o]),e.jsx(Ne.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:os(l.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(r,50))}),onPointerMove:os(l.onPointerMove,()=>{var e;null==(e=n.onItemLeave)||e.call(n),null===i.current&&(i.current=window.setInterval(r,50))}),onPointerLeave:os(l.onPointerLeave,()=>{c()})})}),Gi=Le.forwardRef((a,t)=>{const{__scopeSelect:s,...r}=a;return e.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});Gi.displayName="SelectSeparator";var Yi="SelectArrow";Le.forwardRef((a,t)=>{const{__scopeSelect:s,...r}=a,l=ri(s),n=ni(Yi,s),i=vi(Yi,s);return n.open&&"popper"===i.position?e.jsx(Kl,{...l,...r,ref:t}):null}).displayName=Yi;var Xi=Le.forwardRef(({__scopeSelect:a,value:t,...s},r)=>{const l=Le.useRef(null),n=ve(r,l),i=function(e){const a=Le.useRef({value:e,previous:e});return Le.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}(t);return Le.useEffect(()=>{const e=l.current;if(!e)return;const a=window.HTMLSelectElement.prototype,s=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==t&&s){const a=new Event("change",{bubbles:!0});s.call(e,t),e.dispatchEvent(a)}},[i,t]),e.jsx(Ne.select,{...s,style:{...en,...s.style},ref:n,defaultValue:t})});function Ki(e){return""===e||void 0===e}function Ji(e){const a=ms(e),t=Le.useRef(""),s=Le.useRef(0),r=Le.useCallback(e=>{const r=t.current+e;a(r),function e(a){t.current=a,window.clearTimeout(s.current),""!==a&&(s.current=window.setTimeout(()=>e(""),1e3))}(r)},[a]),l=Le.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return Le.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,r,l]}function Zi(e,a,t){const s=a.length>1&&Array.from(a).every(e=>e===a[0])?a[0]:a,r=t?e.indexOf(t):-1;let l=(n=e,i=Math.max(r,0),n.map((e,a)=>n[(i+a)%n.length]));var n,i;1===s.length&&(l=l.filter(e=>e!==t));const o=l.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return o!==t?o:void 0}Xi.displayName="SelectBubbleInput";var Qi=xi,eo=ui,ao=gi,to=fi,so=Pi,ro=Di,lo=Oi,no=qi,io=$i,oo=Vi,co=Hi,xo=Gi;const mo=ci,ho=hi,uo=Le.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(Qi,{ref:r,className:Yt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[t,e.jsx(eo,{asChild:!0,children:e.jsx(ke,{className:"h-4 w-4 opacity-50"})})]}));uo.displayName=Qi.displayName;const go=Le.forwardRef(({className:a,...t},s)=>e.jsx(oo,{ref:s,className:Yt("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(Ce,{className:"h-4 w-4"})}));go.displayName=oo.displayName;const po=Le.forwardRef(({className:a,...t},s)=>e.jsx(co,{ref:s,className:Yt("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(ke,{className:"h-4 w-4"})}));po.displayName=co.displayName;const fo=Le.forwardRef(({className:a,children:t,position:s="popper",...r},l)=>e.jsx(ao,{children:e.jsxs(to,{ref:l,className:Yt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...r,children:[e.jsx(go,{}),e.jsx(so,{className:Yt("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(po,{})]})}));fo.displayName=to.displayName;Le.forwardRef(({className:a,...t},s)=>e.jsx(ro,{ref:s,className:Yt("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...t})).displayName=ro.displayName;const bo=Le.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(lo,{ref:r,className:Yt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(io,{children:e.jsx(Se,{className:"h-4 w-4"})})}),e.jsx(no,{children:t})]}));bo.displayName=lo.displayName;Le.forwardRef(({className:a,...t},s)=>e.jsx(xo,{ref:s,className:Yt("-mx-1 my-1 h-px bg-muted",a),...t})).displayName=xo.displayName;const jo=Le.forwardRef(({className:a,type:t,...s},r)=>e.jsx("input",{type:t,className:Yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...s}));jo.displayName="Input";const vo=Le.forwardRef(({className:a,...t},s)=>e.jsx("textarea",{className:Yt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...t}));vo.displayName="Textarea";var yo=e=>{const{present:a,children:t}=e,s=function(e){const[a,t]=Le.useState(),s=Le.useRef(null),r=Le.useRef(e),l=Le.useRef("none"),n=e?"mounted":"unmounted",[i,o]=function(e,a){return Le.useReducer((e,t)=>{const s=a[e][t];return null!=s?s:e},e)}(n,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Le.useEffect(()=>{const e=No(s.current);l.current="mounted"===i?e:"none"},[i]),Ms(()=>{const a=s.current,t=r.current;if(t!==e){const s=l.current,n=No(a);if(e)o("MOUNT");else if("none"===n||"none"===(null==a?void 0:a.display))o("UNMOUNT");else{o(t&&s!==n?"ANIMATION_OUT":"UNMOUNT")}r.current=e}},[e,o]),Ms(()=>{var e;if(a){let t;const n=null!=(e=a.ownerDocument.defaultView)?e:window,i=e=>{const l=No(s.current).includes(e.animationName);if(e.target===a&&l&&(o("ANIMATION_END"),!r.current)){const e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},c=e=>{e.target===a&&(l.current=No(s.current))};return a.addEventListener("animationstart",c),a.addEventListener("animationcancel",i),a.addEventListener("animationend",i),()=>{n.clearTimeout(t),a.removeEventListener("animationstart",c),a.removeEventListener("animationcancel",i),a.removeEventListener("animationend",i)}}o("ANIMATION_END")},[a,o]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:Le.useCallback(e=>{s.current=e?getComputedStyle(e):null,t(e)},[])}}(a),r="function"==typeof t?t({present:s.isPresent}):Le.Children.only(t),l=ve(s.ref,function(e){var a,t;let s=null==(a=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning;if(r)return e.ref;if(s=null==(t=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:t.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(r));return"function"==typeof t||s.isPresent?Le.cloneElement(r,{ref:l}):null};function No(e){return(null==e?void 0:e.animationName)||"none"}yo.displayName="Presence";var wo="Dialog",[ko,Co]=cs(wo),[So,Eo]=ko(wo),Po=a=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:l,onOpenChange:n,modal:i=!0}=a,o=Le.useRef(null),c=Le.useRef(null),[d,x]=Ql({prop:r,defaultProp:null!=l&&l,onChange:n,caller:wo});return e.jsx(So,{scope:t,triggerRef:o,contentRef:c,contentId:Os(),titleId:Os(),descriptionId:Os(),open:d,onOpenChange:x,onOpenToggle:Le.useCallback(()=>x(e=>!e),[x]),modal:i,children:s})};Po.displayName=wo;var _o="DialogTrigger",Ao=Le.forwardRef((a,t)=>{const{__scopeDialog:s,...r}=a,l=Eo(_o,s),n=ve(t,l.triggerRef);return e.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Ko(l.open),...r,ref:n,onClick:os(a.onClick,l.onOpenToggle)})});Ao.displayName=_o;var Lo="DialogPortal",[zo,Do]=ko(Lo,{forceMount:void 0}),Mo=a=>{const{__scopeDialog:t,forceMount:s,children:r,container:l}=a,n=Eo(Lo,t);return e.jsx(zo,{scope:t,forceMount:s,children:Le.Children.map(r,a=>e.jsx(yo,{present:s||n.open,children:e.jsx(Jl,{asChild:!0,container:l,children:a})}))})};Mo.displayName=Lo;var Ro="DialogOverlay",To=Le.forwardRef((a,t)=>{const s=Do(Ro,a.__scopeDialog),{forceMount:r=s.forceMount,...l}=a,n=Eo(Ro,a.__scopeDialog);return n.modal?e.jsx(yo,{present:r||n.open,children:e.jsx(Io,{...l,ref:t})}):null});To.displayName=Ro;var Oo=ye("DialogOverlay.RemoveScroll"),Io=Le.forwardRef((a,t)=>{const{__scopeDialog:s,...r}=a,l=Eo(Ro,s);return e.jsx(Xn,{as:Oo,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(Ne.div,{"data-state":Ko(l.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),qo="DialogContent",Fo=Le.forwardRef((a,t)=>{const s=Do(qo,a.__scopeDialog),{forceMount:r=s.forceMount,...l}=a,n=Eo(qo,a.__scopeDialog);return e.jsx(yo,{present:r||n.open,children:n.modal?e.jsx($o,{...l,ref:t}):e.jsx(Bo,{...l,ref:t})})});Fo.displayName=qo;var $o=Le.forwardRef((a,t)=>{const s=Eo(qo,a.__scopeDialog),r=Le.useRef(null),l=ve(t,s.contentRef,r);return Le.useEffect(()=>{const e=r.current;if(e)return on(e)},[]),e.jsx(Vo,{...a,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:os(a.onCloseAutoFocus,e=>{var a;e.preventDefault(),null==(a=s.triggerRef.current)||a.focus()}),onPointerDownOutside:os(a.onPointerDownOutside,e=>{const a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey;(2===a.button||t)&&e.preventDefault()}),onFocusOutside:os(a.onFocusOutside,e=>e.preventDefault())})}),Bo=Le.forwardRef((a,t)=>{const s=Eo(qo,a.__scopeDialog),r=Le.useRef(!1),l=Le.useRef(!1);return e.jsx(Vo,{...a,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var t,n;null==(t=a.onCloseAutoFocus)||t.call(a,e),e.defaultPrevented||(r.current||null==(n=s.triggerRef.current)||n.focus(),e.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:e=>{var t,n;null==(t=a.onInteractOutside)||t.call(a,e),e.defaultPrevented||(r.current=!0,"pointerdown"===e.detail.originalEvent.type&&(l.current=!0));const i=e.target;(null==(n=s.triggerRef.current)?void 0:n.contains(i))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&l.current&&e.preventDefault()}})}),Vo=Le.forwardRef((a,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:n,...i}=a,o=Eo(qo,s),c=Le.useRef(null),d=ve(t,c);return Ns(),e.jsxs(e.Fragment,{children:[e.jsx(Es,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:n,children:e.jsx(bs,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Ko(o.open),...i,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ec,{titleId:o.titleId}),e.jsx(ac,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Wo="DialogTitle",Ho=Le.forwardRef((a,t)=>{const{__scopeDialog:s,...r}=a,l=Eo(Wo,s);return e.jsx(Ne.h2,{id:l.titleId,...r,ref:t})});Ho.displayName=Wo;var Uo="DialogDescription",Go=Le.forwardRef((a,t)=>{const{__scopeDialog:s,...r}=a,l=Eo(Uo,s);return e.jsx(Ne.p,{id:l.descriptionId,...r,ref:t})});Go.displayName=Uo;var Yo="DialogClose",Xo=Le.forwardRef((a,t)=>{const{__scopeDialog:s,...r}=a,l=Eo(Yo,s);return e.jsx(Ne.button,{type:"button",...r,ref:t,onClick:os(a.onClick,()=>l.onOpenChange(!1))})});function Ko(e){return e?"open":"closed"}Xo.displayName=Yo;var Jo="DialogTitleWarning",[Zo,Qo]=function(a,t){const s=Le.createContext(t),r=a=>{const{children:t,...r}=a,l=Le.useMemo(()=>r,Object.values(r));return e.jsx(s.Provider,{value:l,children:t})};return r.displayName=a+"Provider",[r,function(e){const r=Le.useContext(s);if(r)return r;if(void 0!==t)return t;throw new Error(`\`${e}\` must be used within \`${a}\``)}]}(Jo,{contentName:qo,titleName:Wo,docsSlug:"dialog"}),ec=({titleId:e})=>{const a=Qo(Jo),t=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return Le.useEffect(()=>{if(e){document.getElementById(e)}},[t,e]),null},ac=({contentRef:e,descriptionId:a})=>{const t=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qo("DialogDescriptionWarning").contentName}}.`;return Le.useEffect(()=>{var t;const s=null==(t=e.current)?void 0:t.getAttribute("aria-describedby");if(a&&s){document.getElementById(a)}},[t,e,a]),null},tc=To,sc=Fo,rc=Ho,lc=Go,nc=Xo;const ic=Po,oc=Ao,cc=Mo,dc=Le.forwardRef(({className:a,...t},s)=>e.jsx(tc,{ref:s,className:Yt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t}));dc.displayName=tc.displayName;const xc=Le.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(cc,{children:[e.jsx(dc,{}),e.jsxs(sc,{ref:r,className:Yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s,children:[t,e.jsxs(nc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xc.displayName=sc.displayName;const mc=({className:a,...t})=>e.jsx("div",{className:Yt("flex flex-col space-y-1.5 text-center sm:text-left",a),...t});mc.displayName="DialogHeader";const hc=Le.forwardRef(({className:a,...t},s)=>e.jsx(rc,{ref:s,className:Yt("text-lg font-semibold leading-none tracking-tight",a),...t}));hc.displayName=rc.displayName;Le.forwardRef(({className:a,...t},s)=>e.jsx(lc,{ref:s,className:Yt("text-sm text-muted-foreground",a),...t})).displayName=lc.displayName;const uc=()=>{const{success:a,error:t}=ca(),[s,r]=Le.useState([]),[n,i]=Le.useState(!0),[o,c]=Le.useState(null),[d,x]=Le.useState("all"),[m,h]=Le.useState(""),[b,j]=Le.useState(null),[y,N]=Le.useState(!1),[w,k]=Le.useState(!1),[C,S]=Le.useState({total:0,limit:20,offset:0,pages:0});Le.useEffect(()=>{E()},[d]);const E=async()=>{try{i(!0);const e={limit:C.limit,offset:C.offset,..."all"!==d&&{status:d}},a=await((e={})=>ja.get("/api/client/quotes",{params:e}))(e);a.data.success?(r(a.data.data),S(a.data.pagination)):c("Error al cargar cotizaciones")}catch(Rc){c("Error al cargar cotizaciones")}finally{i(!1)}},P=s.filter(e=>{var a,t,s;return(null==(a=e.tipoServicio)?void 0:a.toLowerCase().includes(m.toLowerCase()))||(null==(t=e.descripcion)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.numeroConsecutivo)?void 0:s.toLowerCase().includes(m.toLowerCase()))}),_=async(e,s,r="")=>{try{N(!0);const i=await(l=e,n={status:s,notas:r},ja.put(`/api/client/quotes/${l}/status`,n));i.data.success?(a(`Cotización ${"aceptada"===s?"aceptada":"rechazada"} exitosamente`),E(),j(null),k(!1)):t(i.data.message||"Error al procesar la acción")}catch(Rc){t("Error al procesar la acción")}finally{N(!1)}var l,n},A=a=>{const t={borrador:{variant:"secondary",text:"Borrador"},enviada:{variant:"default",text:"Enviada"},aceptada:{variant:"default",text:"Aceptada",className:"bg-green-100 text-green-800"},rechazada:{variant:"destructive",text:"Rechazada"},vencida:{variant:"secondary",text:"Vencida"}}[a]||{variant:"secondary",text:a};return e.jsx(es,{variant:t.variant,className:t.className,children:t.text})},L=e=>e?new Date(e).toLocaleDateString("es-MX"):"N/A";return n?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ga,{}),e.jsx("span",{className:"ml-2",children:"Cargando cotizaciones..."})]}):o?e.jsxs(Xt,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(l,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:o})]}),e.jsx(Gt,{onClick:E,variant:"outline",children:"Reintentar"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Xt,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx(jo,{placeholder:"Buscar cotizaciones...",value:m,onChange:e=>h(e.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-gray-400"}),e.jsxs(mo,{value:d,onValueChange:x,children:[e.jsx(uo,{className:"w-48",children:e.jsx(ho,{placeholder:"Filtrar por estado"})}),e.jsxs(fo,{children:[e.jsx(bo,{value:"all",children:"Todas"}),e.jsx(bo,{value:"borrador",children:"Borrador"}),e.jsx(bo,{value:"enviada",children:"Enviada"}),e.jsx(bo,{value:"aceptada",children:"Aceptada"}),e.jsx(bo,{value:"rechazada",children:"Rechazada"}),e.jsx(bo,{value:"vencida",children:"Vencida"})]})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[P.length," cotizaciones encontradas"]})]}),e.jsx(Xt,{className:"overflow-hidden",children:e.jsxs(as,{children:[e.jsx(ts,{children:e.jsxs(rs,{children:[e.jsx(ls,{children:"Número"}),e.jsx(ls,{children:"Servicio"}),e.jsx(ls,{children:"Estado"}),e.jsx(ls,{children:"Total"}),e.jsx(ls,{children:"Fecha Emisión"}),e.jsx(ls,{children:"Vencimiento"}),e.jsx(ls,{children:"Acciones"})]})}),e.jsx(ss,{children:0===P.length?e.jsx(rs,{children:e.jsxs(ns,{colSpan:7,className:"text-center py-8",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No se found cotizaciones"})]})}):P.map(a=>{return e.jsxs(rs,{children:[e.jsx(ns,{className:"font-medium",children:a.numeroConsecutivo}),e.jsx(ns,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.tipoServicio}),e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:a.descripcion})]})}),e.jsx(ns,{children:A(a.estado)}),e.jsx(ns,{className:"font-semibold",children:(t=a.total,new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(t||0))}),e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 text-gray-400"}),L(a.fechaEmision)]})}),e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 text-gray-400"}),L(a.fechaVencimiento)]})}),e.jsx(ns,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(ic,{open:w&&(null==b?void 0:b.id)===a.id,children:[e.jsx(oc,{asChild:!0,children:e.jsx(Gt,{variant:"outline",size:"sm",onClick:()=>{j(a),k(!0)},children:e.jsx(f,{className:"w-4 h-4"})})}),e.jsxs(xc,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(mc,{children:e.jsxs(hc,{children:["Cotización ",a.numeroConsecutivo]})}),e.jsx(gc,{quote:b,onAction:_,actionLoading:y,onClose:()=>{k(!1),j(null)}})]})]}),"enviada"===a.estado&&e.jsxs(e.Fragment,{children:[e.jsx(Gt,{variant:"default",size:"sm",onClick:()=>_(a.id,"aceptada"),disabled:y,className:"bg-green-600 hover:bg-green-700",children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsx(Gt,{variant:"destructive",size:"sm",onClick:()=>_(a.id,"rechazada"),disabled:y,children:e.jsx(l,{className:"w-4 h-4"})})]})]})})]},a.id);var t})})]})}),C.pages>1&&e.jsx(Xt,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",C.offset+1," - ",Math.min(C.offset+C.limit,C.total)," de ",C.total]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Gt,{variant:"outline",size:"sm",disabled:0===C.offset,onClick:()=>{S(e=>({...e,offset:Math.max(0,e.offset-e.limit)})),E()},children:"Anterior"}),e.jsx(Gt,{variant:"outline",size:"sm",disabled:C.offset+C.limit>=C.total,onClick:()=>{S(e=>({...e,offset:e.offset+e.limit})),E()},children:"Siguiente"})]})]})})]})},gc=({quote:a,onAction:t,actionLoading:s,onClose:r})=>{const[l,n]=Le.useState(""),[i,o]=Le.useState("");if(!a)return null;const c=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e||0),d=e=>e?new Date(e).toLocaleDateString("es-MX"):"N/A";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Información General"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Número:"})," ",a.numeroConsecutivo]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Servicio:"})," ",a.tipoServicio]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Estado:"})," ",a.estado]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Emisión:"})," ",d(a.fechaEmision)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Vencimiento:"})," ",d(a.fechaVencimiento)]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Montos"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Subtotal:"})," ",c(a.subtotal)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Descuento:"})," ",c(a.descuento)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"IVA:"})," ",c(a.iva)]}),e.jsxs("div",{className:"text-lg font-bold border-t pt-2",children:[e.jsx("strong",{children:"Total:"})," ",c(a.total)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Descripción"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:a.descripcion})]}),a.condicionesPago&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Condiciones de Pago"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:a.condicionesPago})]}),a.notas&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Notas"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:a.notas})]}),"enviada"===a.estado&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Acciones"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Seleccionar acción:"}),e.jsxs(mo,{value:i,onValueChange:o,children:[e.jsx(uo,{children:e.jsx(ho,{placeholder:"Seleccionar acción..."})}),e.jsxs(fo,{children:[e.jsx(bo,{value:"aceptada",children:"Aceptar Cotización"}),e.jsx(bo,{value:"rechazada",children:"Rechazar Cotización"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notas (opcional):"}),e.jsx(vo,{value:l,onChange:e=>n(e.target.value),placeholder:"Agregar comentarios sobre la decisión...",rows:3})]}),e.jsxs("div",{className:"flex space-x-2 justify-end",children:[e.jsx(Gt,{variant:"outline",onClick:r,children:"Cancelar"}),e.jsx(Gt,{onClick:()=>{i&&t(a.id,i,l)},disabled:!i||s,className:"aceptada"===i?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:s?"Procesando...":"Confirmar"})]})]})]})]})},pc=()=>{const{success:a,error:t}=ca(),[s,r]=Le.useState([]),[n,i]=Le.useState(!0),[o,m]=Le.useState(null),[b,v]=Le.useState("all"),[y,N]=Le.useState(""),[w,k]=Le.useState(null),[C,S]=Le.useState(!1),[E,P]=Le.useState(!1);Le.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0);const e=await((e={})=>ja.get("/api/client/orders",{params:e}))();e.data.success?r(e.data.data):r(e.data||[])}catch(Rc){m("Error al cargar pedidos")}finally{i(!1)}},A=s.filter(e=>{var a,t,s,r;const l=(null==(a=e.descripcion)?void 0:a.toLowerCase().includes(y.toLowerCase()))||(null==(t=e.servicio)?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null==(s=e.numero_pedido)?void 0:s.toLowerCase().includes(y.toLowerCase())),n="all"===b||(null==(r=e.estado)?void 0:r.toLowerCase())===b.toLowerCase();return l&&n}),L=async(e,s)=>{var r,l;try{let n;S(!0),"cancel"===s?n=await Ra(e,{status:"cancelado"}):"resume"===s&&(n=await Ra(e,{status:"activo"})),(null==(r=null==n?void 0:n.data)?void 0:r.success)?(a(`Pedido ${"cancel"===s?"cancelado":"reanudado"} exitosamente`),_()):t((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Error al procesar la acción")}catch(Rc){t("Error al procesar la acción")}finally{S(!1)}},z=a=>{switch(null==a?void 0:a.toLowerCase()){case"completado":return e.jsx(c,{className:"w-5 h-5 text-green-500"});case"en_proceso":return e.jsx(j,{className:"w-5 h-5 text-blue-500"});case"nuevo":case"confirmado":return e.jsx(h,{className:"w-5 h-5 text-yellow-500"});case"cancelado":return e.jsx(d,{className:"w-5 h-5 text-red-500"});case"en_pausa":return e.jsx(Ee,{className:"w-5 h-5 text-gray-500"});default:return e.jsx(h,{className:"w-5 h-5 text-gray-500"})}},D=a=>{const t={nuevo:{variant:"secondary",text:"Nuevo"},confirmado:{variant:"default",text:"Confirmado",className:"bg-blue-100 text-blue-800"},en_proceso:{variant:"default",text:"En Proceso",className:"bg-yellow-100 text-yellow-800"},completado:{variant:"default",text:"Completado",className:"bg-green-100 text-green-800"},cancelado:{variant:"destructive",text:"Cancelado"},en_pausa:{variant:"secondary",text:"En Pausa"}}[null==a?void 0:a.toLowerCase()]||{variant:"secondary",text:a||"Desconocido"};return e.jsxs("div",{className:"flex items-center space-x-2",children:[z(a),e.jsx(es,{variant:t.variant,className:t.className,children:t.text})]})},M=a=>{const t={baja:{color:"bg-green-500",text:"Baja"},normal:{color:"bg-yellow-500",text:"Normal"},alta:{color:"bg-orange-500",text:"Alta"},urgente:{color:"bg-red-500",text:"Urgente"}}[null==a?void 0:a.toLowerCase()]||{color:"bg-gray-500",text:a||"Normal"};return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.color}`}),e.jsx("span",{className:"text-sm",children:t.text})]})},R=e=>e?new Date(e).toLocaleDateString("es-MX"):"N/A";return n?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ga,{}),e.jsx("span",{className:"ml-2",children:"Cargando pedidos..."})]}):o?e.jsxs(Xt,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(l,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:o})]}),e.jsx(Gt,{onClick:_,variant:"outline",children:"Reintentar"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Xt,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx(jo,{placeholder:"Buscar pedidos...",value:y,onChange:e=>N(e.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-gray-400"}),e.jsxs(mo,{value:b,onValueChange:v,children:[e.jsx(uo,{className:"w-48",children:e.jsx(ho,{placeholder:"Filtrar por estado"})}),e.jsxs(fo,{children:[e.jsx(bo,{value:"all",children:"Todos"}),e.jsx(bo,{value:"nuevo",children:"Nuevo"}),e.jsx(bo,{value:"confirmado",children:"Confirmado"}),e.jsx(bo,{value:"en_proceso",children:"En Proceso"}),e.jsx(bo,{value:"completado",children:"Completado"}),e.jsx(bo,{value:"cancelado",children:"Cancelado"}),e.jsx(bo,{value:"en_pausa",children:"En Pausa"})]})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[A.length," pedidos encontrados"]})]}),e.jsx(Xt,{className:"overflow-hidden",children:e.jsxs(as,{children:[e.jsx(ts,{children:e.jsxs(rs,{children:[e.jsx(ls,{children:"Pedido"}),e.jsx(ls,{children:"Descripción"}),e.jsx(ls,{children:"Estado"}),e.jsx(ls,{children:"Prioridad"}),e.jsx(ls,{children:"Valor"}),e.jsx(ls,{children:"Fecha"}),e.jsx(ls,{children:"Entrega"}),e.jsx(ls,{children:"Acciones"})]})}),e.jsx(ss,{children:0===A.length?e.jsx(rs,{children:e.jsxs(ns,{colSpan:8,className:"text-center py-8",children:[e.jsx(x,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No se encontraron pedidos"})]})}):A.map(a=>{var t,s,r,n;return e.jsxs(rs,{children:[e.jsx(ns,{className:"font-medium",children:a.numero_pedido||`#${a.id}`}),e.jsx(ns,{children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"font-medium truncate",children:a.servicio||a.descripcion}),a.servicio&&a.descripcion&&e.jsx("div",{className:"text-sm text-gray-500 truncate",children:a.descripcion})]})}),e.jsx(ns,{children:D(a.estado)}),e.jsx(ns,{children:M(a.prioridad)}),e.jsx(ns,{className:"font-semibold",children:a.total?(n=a.total,new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(n||0)):"Por definir"}),e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 text-gray-400"}),R(a.fecha_pedido||a.created_at)]})}),e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 text-gray-400"}),R(a.fecha_entrega_estimada)]})}),e.jsx(ns,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(ic,{open:E&&(null==w?void 0:w.id)===a.id,children:[e.jsx(oc,{asChild:!0,children:e.jsx(Gt,{variant:"outline",size:"sm",onClick:()=>{k(a),P(!0)},children:e.jsx(f,{className:"w-4 h-4"})})}),e.jsxs(xc,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(mc,{children:e.jsxs(hc,{children:["Pedido ",a.numero_pedido||`#${a.id}`]})}),e.jsx(fc,{order:w,onClose:()=>{P(!1),k(null)}})]})]}),"en_proceso"===(null==(t=a.estado)?void 0:t.toLowerCase())&&e.jsx(Gt,{variant:"outline",size:"sm",onClick:()=>L(a.id,"cancel"),disabled:C,title:"Pausar pedido",children:e.jsx(Ee,{className:"w-4 h-4"})}),"en_pausa"===(null==(s=a.estado)?void 0:s.toLowerCase())&&e.jsx(Gt,{variant:"outline",size:"sm",onClick:()=>L(a.id,"resume"),disabled:C,title:"Reanudar pedido",className:"bg-green-50 hover:bg-green-100",children:e.jsx(Pe,{className:"w-4 h-4"})}),["nuevo","confirmado"].includes(null==(r=a.estado)?void 0:r.toLowerCase())&&e.jsx(Gt,{variant:"destructive",size:"sm",onClick:()=>L(a.id,"cancel"),disabled:C,title:"Cancelar pedido",children:e.jsx(l,{className:"w-4 h-4"})})]})})]},a.id)})})]})})]})},fc=({order:a,onClose:t})=>{if(!a)return null;const s=e=>e?new Date(e).toLocaleDateString("es-MX"):"N/A";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[(a=>{switch(null==a?void 0:a.toLowerCase()){case"completado":return e.jsx(c,{className:"w-6 h-6 text-green-500"});case"en_proceso":return e.jsx(j,{className:"w-6 h-6 text-blue-500"});case"nuevo":case"confirmado":return e.jsx(h,{className:"w-6 h-6 text-yellow-500"});case"cancelado":return e.jsx(d,{className:"w-6 h-6 text-red-500"});case"en_pausa":return e.jsx(Ee,{className:"w-6 h-6 text-gray-500"});default:return e.jsx(h,{className:"w-6 h-6 text-gray-500"})}})(a.estado),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.servicio||a.descripcion}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Estado: ",a.estado]})]})]}),e.jsx(es,{className:"text-lg px-3 py-1",children:a.numero_pedido||`#${a.id}`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Información del Pedido"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Servicio:"})," ",a.servicio||"No especificado"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Prioridad:"})," ",a.prioridad||"Normal"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Estado:"})," ",a.estado]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fecha del Pedido:"})," ",s(a.fecha_pedido||a.created_at)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fecha de Entrega:"})," ",s(a.fecha_entrega_estimada)]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Información Financiera"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Valor Total:"})," ",a.total?(r=a.total,new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(r||0)):"Por definir"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Creado:"})," ",s(a.created_at)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Última Actualización:"})," ",s(a.updated_at)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Descripción"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:a.descripcion||"Sin descripción disponible"})})]}),a.notas&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Notas"}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:a.notas})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsx(Gt,{onClick:t,variant:"outline",children:"Cerrar"})})]});var r},bc=Zt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jc=Le.forwardRef(({className:a,...t},s)=>e.jsx(_e,{ref:s,className:Yt(bc(),a),...t}));jc.displayName=_e.displayName;var vc="horizontal",yc=["horizontal","vertical"],Nc=Le.forwardRef((a,t)=>{const{decorative:s,orientation:r=vc,...l}=a,n=function(e){return yc.includes(e)}(r)?r:vc,i=s?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"};return e.jsx(Ne.div,{"data-orientation":n,...i,...l,ref:t})});Nc.displayName="Separator";var wc=Nc;const kc=Le.forwardRef(({className:a,orientation:t="horizontal",decorative:s=!0,...r},l)=>e.jsx(wc,{ref:l,decorative:s,orientation:t,className:Yt("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...r}));kc.displayName=wc.displayName;const Cc=e=>"string"!=typeof e?e:e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]*>/g,"").substring(0,1e3),Sc=()=>{const{success:a,error:n}=ca(),[i,o]=Le.useState(null),[c,d]=Le.useState(!0),[x,m]=Le.useState(null),[h,u]=Le.useState(!1),[g,f]=Le.useState({nombre:"",telefono:"",empresa:"",direccion:""}),[b,j]=Le.useState(!1),[v,y]=Le.useState(!1),[N,w]=Le.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[S,E]=Le.useState(!1),[P,_]=Le.useState({current:!1,new:!1,confirm:!1});Le.useEffect(()=>{A()},[]);const A=async()=>{try{d(!0);const e=await ja.get("/api/client/profile");e.data.success?(o(e.data.data),f({nombre:e.data.data.nombre||"",telefono:e.data.data.telefono||"",empresa:e.data.data.empresa||"",direccion:e.data.data.direccion||""})):m("Error al cargar perfil")}catch(Rc){m("Error al cargar perfil")}finally{d(!1)}},L=e=>e?new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return c?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ga,{}),e.jsx("span",{className:"ml-2",children:"Cargando perfil..."})]}):x?e.jsxs(Xt,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(l,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:x})]}),e.jsx(Gt,{onClick:A,variant:"outline",children:"Reintentar"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mi Perfil"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gestiona tu información personal"})]}),e.jsx("div",{className:"flex space-x-2",children:h?e.jsxs(e.Fragment,{children:[e.jsxs(Gt,{onClick:()=>{u(!1),f({nombre:i.nombre||"",telefono:i.telefono||"",empresa:i.empresa||"",direccion:i.direccion||""})},variant:"outline",children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),e.jsxs(Gt,{onClick:async()=>{var e,t,s;try{j(!0);const e={nombre:Cc(g.nombre),telefono:Cc(g.telefono),empresa:Cc(g.empresa),direccion:Cc(g.direccion)},t=(e=>{const a={};var t;return(!e.nombre||e.nombre.trim().length<2)&&(a.nombre="El nombre debe tener al menos 2 caracteres"),e.nombre&&e.nombre.length>100&&(a.nombre="El nombre no puede exceder los 100 caracteres"),e.telefono&&(t=e.telefono,!/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/\s/g,"")))&&(a.telefono="El formato del teléfono no es válido"),e.empresa&&e.empresa.length>100&&(a.empresa="El nombre de la empresa no puede exceder los 100 caracteres"),e.direccion&&e.direccion.length>500&&(a.direccion="La dirección no puede exceder los 500 caracteres"),{isValid:0===Object.keys(a).length,errors:a}})(e);if(!t.isValid){const e=Object.values(t.errors)[0];return void n(e)}const r=await(s=e,ja.put("/api/client/profile",s));r.data.success?(o(r.data.data),f(e),u(!1),a("Perfil actualizado exitosamente")):n(r.data.message||"Error al actualizar perfil")}catch(Rc){const s=(null==(t=null==(e=Rc.response)?void 0:e.data)?void 0:t.message)||"Error al actualizar perfil";n(s)}finally{j(!1)}},disabled:b,children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),b?"Guardando...":"Guardar"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Gt,{onClick:()=>{u(!0)},variant:"outline",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Editar"]}),e.jsxs(ic,{open:v,onOpenChange:y,children:[e.jsx(oc,{asChild:!0,children:e.jsxs(Gt,{variant:"outline",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Cambiar Contraseña"]})}),e.jsxs(xc,{children:[e.jsx(mc,{children:e.jsx(hc,{children:"Cambiar Contraseña"})}),e.jsx(Ec,{passwordForm:N,setPasswordForm:w,showPasswords:P,togglePasswordVisibility:e=>{_(a=>({...a,[e]:!a[e]}))},handlePasswordChange:async()=>{var e,t,s;try{E(!0);const e=(e=>{const a={};e.currentPassword||(a.currentPassword="La contraseña actual es obligatoria");const t=(e=>{const a=[];return(!e||e.length<6)&&a.push("La contraseña debe tener al menos 6 caracteres"),/(?=.*[a-z])/.test(e)||a.push("La contraseña debe contener al menos una letra minúscula"),/(?=.*[A-Z])/.test(e)||a.push("La contraseña debe contener al menos una letra mayúscula"),/(?=.*\d)/.test(e)||a.push("La contraseña debe contener al menos un número"),{isValid:0===a.length,errors:a}})(e.newPassword);return t.isValid||(a.newPassword=t.errors.join(", ")),e.confirmPassword?e.newPassword!==e.confirmPassword&&(a.confirmPassword="Las contraseñas no coinciden"):a.confirmPassword="Debes confirmar la nueva contraseña",e.currentPassword===e.newPassword&&(a.newPassword="La nueva contraseña debe ser diferente de la actual"),{isValid:0===Object.keys(a).length,errors:a}})(N);if(!e.isValid){const a=Object.values(e.errors)[0];return void n(a)}const t=await(s=N,ja.put("/api/client/change-password",s));t.data.success?(a("Contraseña actualizada exitosamente"),y(!1),w({currentPassword:"",newPassword:"",confirmPassword:""})):n(t.data.message||"Error al cambiar contraseña")}catch(Rc){const s=(null==(t=null==(e=Rc.response)?void 0:e.data)?void 0:t.message)||"Error al cambiar contraseña";n(s)}finally{E(!1)}},passwordLoading:S,onClose:()=>y(!1)})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(Xt,{className:"lg:col-span-2 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(k,{className:"w-6 h-6 mr-3 text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Información Personal"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"nombre",children:"Nombre completo"}),h?e.jsx(jo,{id:"nombre",value:g.nombre,onChange:e=>f({...g,nombre:e.target.value}),placeholder:"Ingresa tu nombre completo"}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(k,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:(null==i?void 0:i.nombre)||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"email",children:"Correo electrónico"}),e.jsxs("div",{className:"flex items-center p-3 bg-gray-100 rounded-lg",children:[e.jsx(t,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:null==i?void 0:i.email}),e.jsx("span",{className:"ml-2 text-xs bg-gray-200 px-2 py-1 rounded",children:"No editable"})]})]}),e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"telefono",children:"Teléfono"}),h?e.jsx(jo,{id:"telefono",value:g.telefono,onChange:e=>f({...g,telefono:e.target.value}),placeholder:"Ingresa tu teléfono"}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(s,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:(null==i?void 0:i.telefono)||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"empresa",children:"Empresa"}),h?e.jsx(jo,{id:"empresa",value:g.empresa,onChange:e=>f({...g,empresa:e.target.value}),placeholder:"Ingresa tu empresa"}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:(null==i?void 0:i.empresa)||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"direccion",children:"Dirección"}),h?e.jsx(vo,{id:"direccion",value:g.direccion,onChange:e=>f({...g,direccion:e.target.value}),placeholder:"Ingresa tu dirección",rows:3}):e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[e.jsx(r,{className:"w-4 h-4 mr-2 mt-1 text-gray-400"}),e.jsx("span",{children:(null==i?void 0:i.direccion)||"No especificado"})]})]})]})]}),e.jsxs(Xt,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(p,{className:"w-6 h-6 mr-3 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Información de Cuenta"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(jc,{className:"text-sm font-medium text-gray-600",children:"ID de Cliente"}),e.jsxs("div",{className:"mt-1 text-lg font-mono text-blue-600",children:["#",null==i?void 0:i.id]})]}),e.jsx(kc,{}),e.jsxs("div",{children:[e.jsx(jc,{className:"text-sm font-medium text-gray-600",children:"Fecha de Registro"}),e.jsx("div",{className:"mt-1 text-sm",children:L(null==i?void 0:i.fechaRegistro)})]}),e.jsxs("div",{children:[e.jsx(jc,{className:"text-sm font-medium text-gray-600",children:"Última Actualización"}),e.jsx("div",{className:"mt-1 text-sm",children:L(null==i?void 0:i.ultimaActualizacion)})]}),e.jsx(kc,{}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Estado de la Cuenta"}),e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Activa"]})]})]})]})]})]})},Ec=({passwordForm:a,setPasswordForm:t,showPasswords:s,togglePasswordVisibility:r,handlePasswordChange:l,passwordLoading:n,onClose:i})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"currentPassword",children:"Contraseña actual"}),e.jsxs("div",{className:"relative",children:[e.jsx(jo,{id:"currentPassword",type:s.current?"text":"password",value:a.currentPassword,onChange:e=>t({...a,currentPassword:e.target.value}),placeholder:"Ingresa tu contraseña actual"}),e.jsx("button",{type:"button",onClick:()=>r("current"),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:s.current?e.jsx(W,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"newPassword",children:"Nueva contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(jo,{id:"newPassword",type:s.new?"text":"password",value:a.newPassword,onChange:e=>t({...a,newPassword:e.target.value}),placeholder:"Ingresa tu nueva contraseña"}),e.jsx("button",{type:"button",onClick:()=>r("new"),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:s.new?e.jsx(W,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx(jc,{htmlFor:"confirmPassword",children:"Confirmar nueva contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(jo,{id:"confirmPassword",type:s.confirm?"text":"password",value:a.confirmPassword,onChange:e=>t({...a,confirmPassword:e.target.value}),placeholder:"Confirma tu nueva contraseña"}),e.jsx("button",{type:"button",onClick:()=>r("confirm"),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:s.confirm?e.jsx(W,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(Gt,{onClick:i,variant:"outline",children:"Cancelar"}),e.jsx(Gt,{onClick:l,disabled:n,children:n?"Cambiando...":"Cambiar Contraseña"})]})]}),Pc=()=>{const{error:a}=ca(),[t,s]=Le.useState([]),[r,i]=Le.useState(!0),[o,x]=Le.useState(null),[v,y]=Le.useState("all"),[N,w]=Le.useState(""),[k,C]=Le.useState(null),[S,E]=Le.useState(!1);Le.useEffect(()=>{P()},[]);const P=async()=>{var e,t;try{i(!0);const e=await Ma();e.data?s(Array.isArray(e.data)?e.data:[]):s([])}catch(Rc){const l=(null==(t=null==(e=Rc.response)?void 0:e.data)?void 0:t.message)||"Error al cargar pagos";x(l),a(l),s([])}finally{i(!1)}},_=t.filter(e=>{var a,t,s,r;const l=(null==(a=e.concept)?void 0:a.toLowerCase().includes(N.toLowerCase()))||(null==(t=e.method)?void 0:t.toLowerCase().includes(N.toLowerCase()))||(null==(s=e.amount)?void 0:s.toString().includes(N)),n="all"===v||(null==(r=e.status)?void 0:r.toLowerCase())===v.toLowerCase();return l&&n}),L={total:t.reduce((e,a)=>e+(parseFloat(a.amount)||0),0),paid:t.filter(e=>{var a;return"pagado"===(null==(a=e.status)?void 0:a.toLowerCase())}).reduce((e,a)=>e+(parseFloat(a.amount)||0),0),pending:t.filter(e=>{var a;return"pendiente"===(null==(a=e.status)?void 0:a.toLowerCase())}).reduce((e,a)=>e+(parseFloat(a.amount)||0),0),overdue:t.filter(e=>{var a;return"vencido"===(null==(a=e.status)?void 0:a.toLowerCase())}).reduce((e,a)=>e+(parseFloat(a.amount)||0),0)},z=a=>{switch(null==a?void 0:a.toLowerCase()){case"pagado":return e.jsx(c,{className:"w-5 h-5 text-green-500"});case"pendiente":return e.jsx(j,{className:"w-5 h-5 text-yellow-500"});case"vencido":return e.jsx(d,{className:"w-5 h-5 text-red-500"});case"procesando":return e.jsx(h,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(h,{className:"w-5 h-5 text-gray-500"})}},D=a=>{const t={pagado:{variant:"default",text:"Pagado",className:"bg-green-100 text-green-800"},pendiente:{variant:"default",text:"Pendiente",className:"bg-yellow-100 text-yellow-800"},vencido:{variant:"destructive",text:"Vencido"},procesando:{variant:"default",text:"Procesando",className:"bg-blue-100 text-blue-800"},cancelado:{variant:"secondary",text:"Cancelado"}}[null==a?void 0:a.toLowerCase()]||{variant:"secondary",text:a||"Desconocido"};return e.jsxs("div",{className:"flex items-center space-x-2",children:[z(a),e.jsx(es,{variant:t.variant,className:t.className,children:t.text})]})},M=a=>{switch(null==a?void 0:a.toLowerCase()){case"transferencia":case"transfer":return e.jsx(A,{className:"w-4 h-4"});case"tarjeta":case"card":return e.jsx(n,{className:"w-4 h-4"});case"efectivo":case"cash":return e.jsx(Ae,{className:"w-4 h-4"});default:return e.jsx(m,{className:"w-4 h-4"})}},R=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e||0);return r?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ga,{}),e.jsx("span",{className:"ml-2",children:"Cargando pagos..."})]}):o?e.jsxs(Xt,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(l,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:o})]}),e.jsx(Gt,{onClick:P,variant:"outline",children:"Reintentar"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Xt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Pagos"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R(L.total)})]}),e.jsx(m,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx(Xt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pagados"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(L.paid)})]}),e.jsx(c,{className:"w-8 h-8 text-green-500"})]})}),e.jsx(Xt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R(L.pending)})]}),e.jsx(j,{className:"w-8 h-8 text-yellow-500"})]})}),e.jsx(Xt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Vencidos"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:R(L.overdue)})]}),e.jsx(d,{className:"w-8 h-8 text-red-500"})]})})]}),e.jsxs(Xt,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(u,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx(jo,{placeholder:"Buscar pagos...",value:N,onChange:e=>w(e.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-gray-400"}),e.jsxs(mo,{value:v,onValueChange:y,children:[e.jsx(uo,{className:"w-48",children:e.jsx(ho,{placeholder:"Filtrar por estado"})}),e.jsxs(fo,{children:[e.jsx(bo,{value:"all",children:"Todos"}),e.jsx(bo,{value:"pagado",children:"Pagado"}),e.jsx(bo,{value:"pendiente",children:"Pendiente"}),e.jsx(bo,{value:"vencido",children:"Vencido"}),e.jsx(bo,{value:"procesando",children:"Procesando"})]})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[_.length," pagos encontrados"]})]}),e.jsx(Xt,{className:"overflow-hidden",children:e.jsxs(as,{children:[e.jsx(ts,{children:e.jsxs(rs,{children:[e.jsx(ls,{children:"Concepto"}),e.jsx(ls,{children:"Monto"}),e.jsx(ls,{children:"Estado"}),e.jsx(ls,{children:"Método"}),e.jsx(ls,{children:"Fecha"}),e.jsx(ls,{children:"Acciones"})]})}),e.jsx(ss,{children:0===_.length?e.jsx(rs,{children:e.jsxs(ns,{colSpan:6,className:"text-center py-8",children:[e.jsx(m,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No se encontraron pagos"})]})}):_.map(a=>{return e.jsxs(rs,{children:[e.jsx(ns,{children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"font-medium truncate",children:a.concept}),a.projectName&&e.jsxs("div",{className:"text-sm text-gray-500 truncate",children:["Proyecto: ",a.projectName]})]})}),e.jsx(ns,{className:"font-semibold text-lg",children:R(a.amount)}),e.jsx(ns,{children:D(a.status)}),e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[M(a.method),e.jsx("span",{className:"capitalize",children:a.method||"No especificado"})]})}),e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 text-gray-400"}),(t=a.date,t?new Date(t).toLocaleDateString("es-MX"):"N/A")]})}),e.jsx(ns,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(ic,{open:S&&(null==k?void 0:k.id)===a.id,children:[e.jsx(oc,{asChild:!0,children:e.jsx(Gt,{variant:"outline",size:"sm",onClick:()=>{C(a),E(!0)},children:e.jsx(f,{className:"w-4 h-4"})})}),e.jsxs(xc,{className:"max-w-2xl",children:[e.jsx(mc,{children:e.jsx(hc,{children:"Detalle del Pago"})}),e.jsx(_c,{payment:k,onClose:()=>{E(!1),C(null)}})]})]}),e.jsx(Gt,{variant:"outline",size:"sm",title:"Descargar comprobante",children:e.jsx(b,{className:"w-4 h-4"})})]})})]},a.id);var t})})]})})]})},_c=({payment:a,onClose:t})=>{var s,r,l;if(!a)return null;const n=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e||0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[(a=>{switch(null==a?void 0:a.toLowerCase()){case"pagado":return e.jsx(c,{className:"w-8 h-8 text-green-500"});case"pendiente":return e.jsx(j,{className:"w-8 h-8 text-yellow-500"});case"vencido":return e.jsx(d,{className:"w-8 h-8 text-red-500"});case"procesando":return e.jsx(h,{className:"w-8 h-8 text-blue-500"});default:return e.jsx(h,{className:"w-8 h-8 text-gray-500"})}})(a.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.concept}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Estado: ",a.status]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n(a.amount)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: #",a.id]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Información del Pago"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Concepto:"})," ",a.concept]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Monto:"})," ",n(a.amount)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Estado:"})," ",a.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Método:"})," ",a.method||"No especificado"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fecha:"})," ",(i=a.date,i?new Date(i).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")]})]})]}),a.projectName&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Proyecto Relacionado"}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{children:[e.jsx("strong",{children:"Proyecto:"})," ",a.projectName]})})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Información Adicional"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Este pago forma parte de tu historial de transacciones."}),"pagado"===(null==(s=a.status)?void 0:s.toLowerCase())&&e.jsx("p",{className:"text-green-600 mt-2",children:"✓ Pago procesado exitosamente"}),"pendiente"===(null==(r=a.status)?void 0:r.toLowerCase())&&e.jsx("p",{className:"text-yellow-600 mt-2",children:"⏳ Pago pendiente de procesamiento"}),"vencido"===(null==(l=a.status)?void 0:l.toLowerCase())&&e.jsx("p",{className:"text-red-600 mt-2",children:"⚠️ Pago vencido - Contacta con soporte"})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsxs(Gt,{variant:"outline",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Descargar Comprobante"]}),e.jsx(Gt,{onClick:t,variant:"outline",children:"Cerrar"})]})]});var i},Ac=()=>{const[a,t]=Le.useState("dashboard"),[s,r]=Le.useState(""),l=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e);return e.jsx(ct,{onSidebarOptionSelect:(e,a="")=>{t(e),r(a)},children:(()=>{switch(a){case"dashboard":default:return e.jsx("div",{children:e.jsx(Ut,{formatCurrency:l})});case"profile":return e.jsx("div",{children:e.jsx(Sc,{})});case"quotes":return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Mis Cotizaciones"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gestiona y revisa tus cotizaciones"})]}),e.jsx(uc,{})]});case"orders":return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Mis Pedidos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gestiona y revisa tus pedidos"})]}),e.jsx(pc,{})]});case"new-request":return e.jsx("div",{children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Nueva Solicitud"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Formulario de nueva solicitud en desarrollo..."})]})});case"payments":return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Mis Pagos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Historial y gestión de pagos"})]}),e.jsx(Pc,{})]});case"invoices":return e.jsx("div",{children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Facturas"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Lista de facturas en desarrollo..."})]})});case"notifications":return e.jsx("div",{children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"mr-3",children:"🔔"}),"Notificaciones"]})}),e.jsx("div",{className:"p-6",children:e.jsx(ft,{})})]})});case"messages":return e.jsx("div",{children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-3",children:"💬"}),"Mensajes"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Sistema de mensajes en desarrollo..."})]})});case"support":return e.jsx("div",{children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-3",children:"🆘"}),"Soporte"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Centro de soporte en desarrollo..."})]})})}})()})};function Lc(){const a=Re(),t=a.pathname.includes("/admin")||a.pathname.includes("/panel-cliente");return e.jsx(ba,{children:e.jsx(da,{children:e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Ba,{}),e.jsx("main",{className:"flex-grow pt-20",children:e.jsxs($e,{children:[e.jsx(Be,{path:"/",element:e.jsx(Wa,{})}),e.jsx(Be,{path:"/servicios",element:e.jsx(Ua,{})}),e.jsx(Be,{path:"/portafolio",element:e.jsx(Ya,{})}),e.jsx(Be,{path:"/nosotros",element:e.jsx(Xa,{})}),e.jsx(Be,{path:"/contacto",element:e.jsx(Ja,{})}),e.jsx(Be,{path:"/privacy-policy",element:e.jsx(Za,{})}),e.jsx(Be,{path:"/terms-of-service",element:e.jsx(Qa,{})}),e.jsx(Be,{path:"/login",element:e.jsx(st,{})}),e.jsx(Be,{path:"/register",element:e.jsx(rt,{})}),e.jsx(Be,{path:"/solicitud",element:e.jsx(mt,{children:e.jsx(xt,{})})}),e.jsx(Be,{path:"/panel-cliente",element:e.jsx(mt,{children:e.jsx(Ac,{})})}),e.jsx(Be,{path:"/admin",element:e.jsx(Te,{to:"/admin/dashboard",replace:!0})}),e.jsx(Be,{path:"/perfil",element:e.jsx(mt,{children:e.jsx(tt,{})})}),e.jsx(Be,{path:"/cotizaciones",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Ht,{})})}),e.jsx(Be,{path:"/pedidos",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(ut,{})})}),e.jsx(Be,{path:"/historial",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(gt,{})})}),e.jsx(Be,{path:"/ver-clientes",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Lt,{})})}),e.jsx(Be,{path:"/nuevo-cliente",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(zt,{})})}),e.jsx(Be,{path:"/estadisticas-clientes",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Dt,{})})}),e.jsx(Be,{path:"/pagos-finanzas",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Mt,{})})}),e.jsx(Be,{path:"/reportes-finanzas",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Rt,{})})}),e.jsx(Be,{path:"/facturas-finanzas",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Tt,{})})}),e.jsx(Be,{path:"/notificaciones-comm",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Ot,{})})}),e.jsx(Be,{path:"/mensajes-comm",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(It,{})})}),e.jsx(Be,{path:"/emails-comm",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(qt,{})})}),e.jsx(Be,{path:"/proyectos-admin",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Vt,{})})}),e.jsx(Be,{path:"/pagos",element:e.jsx(mt,{children:e.jsx(pt,{})})}),e.jsx(Be,{path:"/notificaciones",element:e.jsx(mt,{children:e.jsx(ft,{})})}),e.jsx(Be,{path:"/admin/dashboard",element:e.jsx(mt,{adminOnly:!0,children:e.jsx(Wt,{})})})]})}),!t&&e.jsx(Va,{})]})})})}const zc=Le.createContext(),Dc=({children:a})=>{const[t,s]=Le.useState(()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});Le.useEffect(()=>{const e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(t),localStorage.setItem("theme",t)},[t]);const r={theme:t,toggleTheme:()=>{s(e=>"light"===e?"dark":"light")},setLightTheme:()=>s("light"),setDarkTheme:()=>s("dark"),isDark:"dark"===t,isLight:"light"===t};return e.jsx(zc.Provider,{value:r,children:a})};Dc.propTypes={children:ia.node.isRequired};class Mc extends Oe.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,a){this.setState({error:e,errorInfo:a})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20",children:e.jsx("div",{className:"max-w-lg mx-auto p-8 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"😰"}),e.jsx("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-4",children:"¡Oops! Algo salió mal"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Ha ocurrido un error inesperado. Por favor, recarga la página o contacta al soporte técnico."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:"Recargar página"}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200",children:"Volver atrás"})]}),!1]})})}):this.props.children}}Mc.propTypes={children:ia.node.isRequired},Je.createRoot(document.getElementById("root")).render(e.jsx(Oe.StrictMode,{children:e.jsx(Mc,{children:e.jsx(Ve,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Dc,{children:e.jsx(ba,{children:e.jsx(Ia,{children:e.jsx(Lc,{})})})})})})}));
